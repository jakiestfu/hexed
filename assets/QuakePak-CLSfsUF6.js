import{k as f}from"./index-CMEpbKl5.js";var u=Object.getOwnPropertyNames,p=(o,s)=>function(){return s||(0,o[u(o)[0]])((s={exports:{}}).exports,s),s.exports},y=p({"<stdin>"(o){(function(s,i){typeof define=="function"&&define.amd?define(["exports","kaitai-struct/KaitaiStream"],i):typeof o=="object"&&o!==null&&typeof o.nodeType!="number"?i(o,f.KaitaiStream):i(s.QuakePak||(s.QuakePak={}),s.KaitaiStream)})(typeof self<"u"?self:o,function(s,i){var d=(function(){function _(e,t,n){this._io=e,this._parent=t,this._root=n||this,this._debug={},this._read()}_.prototype._read=function(){if(this._debug.magic={start:this._io.pos,ioOffset:this._io.byteOffset},this.magic=this._io.readBytes(4),this._debug.magic.end=this._io.pos,i.byteArrayCompare(this.magic,new Uint8Array([80,65,67,75]))!=0){var e=new i.ValidationNotEqualError(new Uint8Array([80,65,67,75]),this.magic,this._io,"/seq/0");throw this._debug.magic.validationError=e,e}this._debug.ofsIndex={start:this._io.pos,ioOffset:this._io.byteOffset},this.ofsIndex=this._io.readU4le(),this._debug.ofsIndex.end=this._io.pos,this._debug.lenIndex={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenIndex=this._io.readU4le(),this._debug.lenIndex.end=this._io.pos};var h=_.IndexEntry=(function(){function e(t,n,r){this._io=t,this._parent=n,this._root=r,this._debug={},this._read()}return e.prototype._read=function(){this._debug.name={start:this._io.pos,ioOffset:this._io.byteOffset},this.name=i.bytesToStr(i.bytesTerminate(i.bytesStripRight(this._io.readBytes(56),0),0,!1),"UTF-8"),this._debug.name.end=this._io.pos,this._debug.ofs={start:this._io.pos,ioOffset:this._io.byteOffset},this.ofs=this._io.readU4le(),this._debug.ofs.end=this._io.pos,this._debug.size={start:this._io.pos,ioOffset:this._io.byteOffset},this.size=this._io.readU4le(),this._debug.size.end=this._io.pos},Object.defineProperty(e.prototype,"body",{get:function(){if(this._m_body!==void 0)return this._m_body;var t=this._root._io,n=t.pos;return t.seek(this.ofs),this._debug._m_body={start:t.pos,ioOffset:t.byteOffset},this._m_body=t.readBytes(this.size),this._debug._m_body.end=t.pos,t.seek(n),this._m_body}}),e})(),a=_.IndexStruct=(function(){function e(t,n,r){this._io=t,this._parent=n,this._root=r,this._debug={},this._read()}return e.prototype._read=function(){for(this._debug.entries={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.entries.arr=[],this.entries=[];!this._io.isEof();)this._debug.entries.arr[this.entries.length]={start:this._io.pos,ioOffset:this._io.byteOffset},this.entries.push(new h(this._io,this,this._root)),this._debug.entries.arr[this.entries.length-1].end=this._io.pos;this._debug.entries.end=this._io.pos},e})();return Object.defineProperty(_.prototype,"index",{get:function(){if(this._m_index!==void 0)return this._m_index;var e=this._io.pos;this._io.seek(this.ofsIndex),this._debug._m_index={start:this._io.pos,ioOffset:this._io.byteOffset},this._raw__m_index=this._io.readBytes(this.lenIndex);var t=new i(this._raw__m_index);return this._m_index=new a(t,this,this._root),this._debug._m_index.end=this._io.pos,this._io.seek(e),this._m_index}}),_})();s.QuakePak=d})}});const g=y(),c={id:"quake_pak",title:"quake_pak",ksy:{meta:{id:"quake_pak",application:"Quake game engine","file-extension":"pak",xref:{justsolve:"Quake_PAK",wikidata:"Q105854676"},license:"CC0-1.0",endian:"le"},"doc-ref":"https://quakewiki.org/wiki/.pak#Format_specification",seq:[{id:"magic",contents:"PACK"},{id:"ofs_index",type:"u4"},{id:"len_index",type:"u4"}],instances:{index:{pos:"ofs_index",size:"len_index",type:"index_struct"}},types:{index_struct:{seq:[{id:"entries",type:"index_entry",repeat:"eos"}]},index_entry:{seq:[{id:"name",type:"str",size:56,encoding:"UTF-8",terminator:0,"pad-right":0},{id:"ofs",type:"u4"},{id:"size",type:"u4"}],instances:{body:{io:"_root._io",pos:"ofs",size:"size"}}}}}};export{g as default,c as spec};
