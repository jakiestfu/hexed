import{k as b}from"./index-CMEpbKl5.js";var g=Object.getOwnPropertyNames,m=(r,_)=>function(){return _||(0,r[g(r)[0]])((_={exports:{}}).exports,_),_.exports},O=m({"<stdin>"(r){(function(_,h){typeof define=="function"&&define.amd?define(["exports","kaitai-struct/KaitaiStream"],h):typeof r=="object"&&r!==null&&typeof r.nodeType!="number"?h(r,b.KaitaiStream):h(_.MagicavoxelVox||(_.MagicavoxelVox={}),_.KaitaiStream)})(typeof self<"u"?self:r,function(_,h){var n=(function(){s.ChunkType=Object.freeze({MAIN:1296124238,MATT:1296127060,PACK:1346454347,RGBA:1380401729,SIZE:1397316165,XYZI:1482250825,1296124238:"MAIN",1296127060:"MATT",1346454347:"PACK",1380401729:"RGBA",1397316165:"SIZE",1482250825:"XYZI"}),s.MaterialType=Object.freeze({DIFFUSE:0,METAL:1,GLASS:2,EMISSIVE:3,0:"DIFFUSE",1:"METAL",2:"GLASS",3:"EMISSIVE"}),s.PropertyBitsType=Object.freeze({PLASTIC:1,ROUGHNESS:2,SPECULAR:4,IOR:8,ATTENUATION:16,POWER:32,GLOW:64,IS_TOTAL_POWER:128,1:"PLASTIC",2:"ROUGHNESS",4:"SPECULAR",8:"IOR",16:"ATTENUATION",32:"POWER",64:"GLOW",128:"IS_TOTAL_POWER"});function s(t,i,e){this._io=t,this._parent=i,this._root=e||this,this._debug={},this._read()}s.prototype._read=function(){if(this._debug.magic={start:this._io.pos,ioOffset:this._io.byteOffset},this.magic=this._io.readBytes(4),this._debug.magic.end=this._io.pos,h.byteArrayCompare(this.magic,new Uint8Array([86,79,88,32]))!=0){var t=new h.ValidationNotEqualError(new Uint8Array([86,79,88,32]),this.magic,this._io,"/seq/0");throw this._debug.magic.validationError=t,t}this._debug.version={start:this._io.pos,ioOffset:this._io.byteOffset},this.version=this._io.readU4le(),this._debug.version.end=this._io.pos,this._debug.main={start:this._io.pos,ioOffset:this._io.byteOffset},this.main=new a(this._io,this,this._root),this._debug.main.end=this._io.pos};var a=s.Chunk=(function(){function t(i,e,o){this._io=i,this._parent=e,this._root=o,this._debug={},this._read()}return t.prototype._read=function(){if(this._debug.chunkId={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"MagicavoxelVox.ChunkType"},this.chunkId=this._io.readU4be(),this._debug.chunkId.end=this._io.pos,this._debug.numBytesOfChunkContent={start:this._io.pos,ioOffset:this._io.byteOffset},this.numBytesOfChunkContent=this._io.readU4le(),this._debug.numBytesOfChunkContent.end=this._io.pos,this._debug.numBytesOfChildrenChunks={start:this._io.pos,ioOffset:this._io.byteOffset},this.numBytesOfChildrenChunks=this._io.readU4le(),this._debug.numBytesOfChildrenChunks.end=this._io.pos,this.numBytesOfChunkContent!=0){switch(this._debug.chunkContent={start:this._io.pos,ioOffset:this._io.byteOffset},this.chunkId){case s.ChunkType.MATT:this._raw_chunkContent=this._io.readBytes(this.numBytesOfChunkContent);var i=new h(this._raw_chunkContent);this.chunkContent=new p(i,this,this._root);break;case s.ChunkType.PACK:this._raw_chunkContent=this._io.readBytes(this.numBytesOfChunkContent);var i=new h(this._raw_chunkContent);this.chunkContent=new d(i,this,this._root);break;case s.ChunkType.RGBA:this._raw_chunkContent=this._io.readBytes(this.numBytesOfChunkContent);var i=new h(this._raw_chunkContent);this.chunkContent=new f(i,this,this._root);break;case s.ChunkType.SIZE:this._raw_chunkContent=this._io.readBytes(this.numBytesOfChunkContent);var i=new h(this._raw_chunkContent);this.chunkContent=new c(i,this,this._root);break;case s.ChunkType.XYZI:this._raw_chunkContent=this._io.readBytes(this.numBytesOfChunkContent);var i=new h(this._raw_chunkContent);this.chunkContent=new y(i,this,this._root);break;default:this.chunkContent=this._io.readBytes(this.numBytesOfChunkContent);break}this._debug.chunkContent.end=this._io.pos}if(this.numBytesOfChildrenChunks!=0){for(this._debug.childrenChunks={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.childrenChunks.arr=[],this.childrenChunks=[];!this._io.isEof();)this._debug.childrenChunks.arr[this.childrenChunks.length]={start:this._io.pos,ioOffset:this._io.byteOffset},this.childrenChunks.push(new t(this._io,this,this._root)),this._debug.childrenChunks.arr[this.childrenChunks.length-1].end=this._io.pos;this._debug.childrenChunks.end=this._io.pos}},t})(),u=s.Color=(function(){function t(i,e,o){this._io=i,this._parent=e,this._root=o,this._debug={},this._read()}return t.prototype._read=function(){this._debug.r={start:this._io.pos,ioOffset:this._io.byteOffset},this.r=this._io.readU1(),this._debug.r.end=this._io.pos,this._debug.g={start:this._io.pos,ioOffset:this._io.byteOffset},this.g=this._io.readU1(),this._debug.g.end=this._io.pos,this._debug.b={start:this._io.pos,ioOffset:this._io.byteOffset},this.b=this._io.readU1(),this._debug.b.end=this._io.pos,this._debug.a={start:this._io.pos,ioOffset:this._io.byteOffset},this.a=this._io.readU1(),this._debug.a.end=this._io.pos},t})(),p=s.Matt=(function(){function t(i,e,o){this._io=i,this._parent=e,this._root=o,this._debug={},this._read()}return t.prototype._read=function(){this._debug.id={start:this._io.pos,ioOffset:this._io.byteOffset},this.id=this._io.readU4le(),this._debug.id.end=this._io.pos,this._debug.materialType={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"MagicavoxelVox.MaterialType"},this.materialType=this._io.readU4le(),this._debug.materialType.end=this._io.pos,this._debug.materialWeight={start:this._io.pos,ioOffset:this._io.byteOffset},this.materialWeight=this._io.readF4le(),this._debug.materialWeight.end=this._io.pos,this._debug.propertyBits={start:this._io.pos,ioOffset:this._io.byteOffset},this.propertyBits=this._io.readU4le(),this._debug.propertyBits.end=this._io.pos,this.hasPlastic&&(this._debug.plastic={start:this._io.pos,ioOffset:this._io.byteOffset},this.plastic=this._io.readF4le(),this._debug.plastic.end=this._io.pos),this.hasRoughness&&(this._debug.roughness={start:this._io.pos,ioOffset:this._io.byteOffset},this.roughness=this._io.readF4le(),this._debug.roughness.end=this._io.pos),this.hasSpecular&&(this._debug.specular={start:this._io.pos,ioOffset:this._io.byteOffset},this.specular=this._io.readF4le(),this._debug.specular.end=this._io.pos),this.hasIor&&(this._debug.ior={start:this._io.pos,ioOffset:this._io.byteOffset},this.ior=this._io.readF4le(),this._debug.ior.end=this._io.pos),this.hasAttenuation&&(this._debug.attenuation={start:this._io.pos,ioOffset:this._io.byteOffset},this.attenuation=this._io.readF4le(),this._debug.attenuation.end=this._io.pos),this.hasPower&&(this._debug.power={start:this._io.pos,ioOffset:this._io.byteOffset},this.power=this._io.readF4le(),this._debug.power.end=this._io.pos),this.hasGlow&&(this._debug.glow={start:this._io.pos,ioOffset:this._io.byteOffset},this.glow=this._io.readF4le(),this._debug.glow.end=this._io.pos),this.hasIsTotalPower&&(this._debug.isTotalPower={start:this._io.pos,ioOffset:this._io.byteOffset},this.isTotalPower=this._io.readF4le(),this._debug.isTotalPower.end=this._io.pos)},Object.defineProperty(t.prototype,"hasAttenuation",{get:function(){return this._m_hasAttenuation!==void 0?this._m_hasAttenuation:(this._debug._m_hasAttenuation={},this._m_hasAttenuation=(this.propertyBits&16)!=0,this._m_hasAttenuation)}}),Object.defineProperty(t.prototype,"hasGlow",{get:function(){return this._m_hasGlow!==void 0?this._m_hasGlow:(this._debug._m_hasGlow={},this._m_hasGlow=(this.propertyBits&64)!=0,this._m_hasGlow)}}),Object.defineProperty(t.prototype,"hasIor",{get:function(){return this._m_hasIor!==void 0?this._m_hasIor:(this._debug._m_hasIor={},this._m_hasIor=(this.propertyBits&8)!=0,this._m_hasIor)}}),Object.defineProperty(t.prototype,"hasIsTotalPower",{get:function(){return this._m_hasIsTotalPower!==void 0?this._m_hasIsTotalPower:(this._debug._m_hasIsTotalPower={},this._m_hasIsTotalPower=(this.propertyBits&128)!=0,this._m_hasIsTotalPower)}}),Object.defineProperty(t.prototype,"hasPlastic",{get:function(){return this._m_hasPlastic!==void 0?this._m_hasPlastic:(this._debug._m_hasPlastic={},this._m_hasPlastic=(this.propertyBits&1)!=0,this._m_hasPlastic)}}),Object.defineProperty(t.prototype,"hasPower",{get:function(){return this._m_hasPower!==void 0?this._m_hasPower:(this._debug._m_hasPower={},this._m_hasPower=(this.propertyBits&32)!=0,this._m_hasPower)}}),Object.defineProperty(t.prototype,"hasRoughness",{get:function(){return this._m_hasRoughness!==void 0?this._m_hasRoughness:(this._debug._m_hasRoughness={},this._m_hasRoughness=(this.propertyBits&2)!=0,this._m_hasRoughness)}}),Object.defineProperty(t.prototype,"hasSpecular",{get:function(){return this._m_hasSpecular!==void 0?this._m_hasSpecular:(this._debug._m_hasSpecular={},this._m_hasSpecular=(this.propertyBits&4)!=0,this._m_hasSpecular)}}),t})(),d=s.Pack=(function(){function t(i,e,o){this._io=i,this._parent=e,this._root=o,this._debug={},this._read()}return t.prototype._read=function(){this._debug.numModels={start:this._io.pos,ioOffset:this._io.byteOffset},this.numModels=this._io.readU4le(),this._debug.numModels.end=this._io.pos},t})(),f=s.Rgba=(function(){function t(i,e,o){this._io=i,this._parent=e,this._root=o,this._debug={},this._read()}return t.prototype._read=function(){this._debug.colors={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.colors.arr=[],this.colors=[];for(var i=0;i<256;i++)this._debug.colors.arr[i]={start:this._io.pos,ioOffset:this._io.byteOffset},this.colors.push(new u(this._io,this,this._root)),this._debug.colors.arr[i].end=this._io.pos;this._debug.colors.end=this._io.pos},t})(),c=s.Size=(function(){function t(i,e,o){this._io=i,this._parent=e,this._root=o,this._debug={},this._read()}return t.prototype._read=function(){this._debug.sizeX={start:this._io.pos,ioOffset:this._io.byteOffset},this.sizeX=this._io.readU4le(),this._debug.sizeX.end=this._io.pos,this._debug.sizeY={start:this._io.pos,ioOffset:this._io.byteOffset},this.sizeY=this._io.readU4le(),this._debug.sizeY.end=this._io.pos,this._debug.sizeZ={start:this._io.pos,ioOffset:this._io.byteOffset},this.sizeZ=this._io.readU4le(),this._debug.sizeZ.end=this._io.pos},t})(),l=s.Voxel=(function(){function t(i,e,o){this._io=i,this._parent=e,this._root=o,this._debug={},this._read()}return t.prototype._read=function(){this._debug.x={start:this._io.pos,ioOffset:this._io.byteOffset},this.x=this._io.readU1(),this._debug.x.end=this._io.pos,this._debug.y={start:this._io.pos,ioOffset:this._io.byteOffset},this.y=this._io.readU1(),this._debug.y.end=this._io.pos,this._debug.z={start:this._io.pos,ioOffset:this._io.byteOffset},this.z=this._io.readU1(),this._debug.z.end=this._io.pos,this._debug.colorIndex={start:this._io.pos,ioOffset:this._io.byteOffset},this.colorIndex=this._io.readU1(),this._debug.colorIndex.end=this._io.pos},t})(),y=s.Xyzi=(function(){function t(i,e,o){this._io=i,this._parent=e,this._root=o,this._debug={},this._read()}return t.prototype._read=function(){this._debug.numVoxels={start:this._io.pos,ioOffset:this._io.byteOffset},this.numVoxels=this._io.readU4le(),this._debug.numVoxels.end=this._io.pos,this._debug.voxels={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.voxels.arr=[],this.voxels=[];for(var i=0;i<this.numVoxels;i++)this._debug.voxels.arr[i]={start:this._io.pos,ioOffset:this._io.byteOffset},this.voxels.push(new l(this._io,this,this._root)),this._debug.voxels.arr[i].end=this._io.pos;this._debug.voxels.end=this._io.pos},t})();return s})();_.MagicavoxelVox=n})}});const w=O(),C={id:"magicavoxel_vox",title:"MagicaVoxel File",ksy:{meta:{id:"magicavoxel_vox",title:"MagicaVoxel File",application:"MagicaVoxel","file-extension":"vox",xref:{pronom:"fmt/976",wikidata:"Q50374901"},license:"MIT","ks-version":.9,endian:"le"},"doc-ref":["https://ephtracy.github.io/ MagicaVoxel Homepage","https://github.com/ephtracy/voxel-model/blob/master/MagicaVoxel-file-format-vox.txt Format Description"],seq:[{id:"magic",contents:"VOX "},{id:"version",type:"u4",doc:"150 expected"},{id:"main",type:"chunk"}],types:{chunk:{seq:[{id:"chunk_id",type:"u4be",enum:"chunk_type"},{id:"num_bytes_of_chunk_content",type:"u4"},{id:"num_bytes_of_children_chunks",type:"u4"},{id:"chunk_content",if:"num_bytes_of_chunk_content != 0",size:"num_bytes_of_chunk_content",type:{"switch-on":"chunk_id",cases:{"chunk_type::pack":"pack","chunk_type::size":"size","chunk_type::xyzi":"xyzi","chunk_type::rgba":"rgba","chunk_type::matt":"matt"}}},{id:"children_chunks",if:"num_bytes_of_children_chunks != 0",type:"chunk",repeat:"eos"}]},pack:{seq:[{id:"num_models",type:"u4"}]},size:{seq:[{id:"size_x",type:"u4"},{id:"size_y",type:"u4"},{id:"size_z",type:"u4"}]},xyzi:{seq:[{id:"num_voxels",type:"u4"},{id:"voxels",type:"voxel",repeat:"expr","repeat-expr":"num_voxels"}]},rgba:{seq:[{id:"colors",type:"color",repeat:"expr","repeat-expr":256}]},voxel:{seq:[{id:"x",type:"u1"},{id:"y",type:"u1"},{id:"z",type:"u1"},{id:"color_index",type:"u1"}]},color:{seq:[{id:"r",type:"u1"},{id:"g",type:"u1"},{id:"b",type:"u1"},{id:"a",type:"u1"}]},matt:{seq:[{id:"id",type:"u4"},{id:"material_type",type:"u4",enum:"material_type"},{id:"material_weight",type:"f4"},{id:"property_bits",type:"u4"},{id:"plastic",if:"has_plastic",type:"f4"},{id:"roughness",if:"has_roughness",type:"f4"},{id:"specular",if:"has_specular",type:"f4"},{id:"ior",if:"has_ior",type:"f4"},{id:"attenuation",if:"has_attenuation",type:"f4"},{id:"power",if:"has_power",type:"f4"},{id:"glow",if:"has_glow",type:"f4"},{id:"is_total_power",if:"has_is_total_power",type:"f4"}],instances:{has_plastic:{value:"(property_bits & 1) != 0"},has_roughness:{value:"(property_bits & 2) != 0"},has_specular:{value:"(property_bits & 4) != 0"},has_ior:{value:"(property_bits & 8) != 0"},has_attenuation:{value:"(property_bits & 16) != 0"},has_power:{value:"(property_bits & 32) != 0"},has_glow:{value:"(property_bits & 64) != 0"},has_is_total_power:{value:"(property_bits & 128) != 0"}}}},enums:{chunk_type:{1296124238:"main",1296127060:"matt",1346454347:"pack",1380401729:"rgba",1397316165:"size",1482250825:"xyzi"},material_type:{0:"diffuse",1:"metal",2:"glass",3:"emissive"},property_bits_type:{1:"plastic",2:"roughness",4:"specular",8:"ior",16:"attenuation",32:"power",64:"glow",128:"is_total_power"}}}};export{w as default,C as spec};
