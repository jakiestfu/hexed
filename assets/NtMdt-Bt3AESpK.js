import{k as x}from"./index-ik_lyK6M.js";var D=Object.getOwnPropertyNames,w=(O,b)=>function(){return b||(0,O[D(O)[0]])((b={exports:{}}).exports,b),b.exports},z=w({"<stdin>"(O){(function(b,n){typeof define=="function"&&define.amd?define(["exports","kaitai-struct/KaitaiStream"],n):typeof O=="object"&&O!==null&&typeof O.nodeType!="number"?n(O,x.KaitaiStream):n(b.NtMdt||(b.NtMdt={}),b.KaitaiStream)})(typeof self<"u"?self:O,function(b,n){var l=(function(){h.AdcMode=Object.freeze({HEIGHT:0,DFL:1,LATERAL_F:2,BIAS_V:3,CURRENT:4,FB_OUT:5,MAG:6,MAG_SIN:7,MAG_COS:8,RMS:9,CALC_MAG:10,PHASE1:11,PHASE2:12,CALC_PHASE:13,EX1:14,EX2:15,HV_X:16,HV_Y:17,SNAP_BACK:18,FALSE:255,0:"HEIGHT",1:"DFL",2:"LATERAL_F",3:"BIAS_V",4:"CURRENT",5:"FB_OUT",6:"MAG",7:"MAG_SIN",8:"MAG_COS",9:"RMS",10:"CALC_MAG",11:"PHASE1",12:"PHASE2",13:"CALC_PHASE",14:"EX1",15:"EX2",16:"HV_X",17:"HV_Y",18:"SNAP_BACK",255:"FALSE"}),h.Consts=Object.freeze({FRAME_MODE_SIZE:8,FRAME_HEADER_SIZE:22,AXIS_SCALES_SIZE:30,FILE_HEADER_SIZE:32,SPECTRO_VARS_MIN_SIZE:38,SCAN_VARS_MIN_SIZE:77,8:"FRAME_MODE_SIZE",22:"FRAME_HEADER_SIZE",30:"AXIS_SCALES_SIZE",32:"FILE_HEADER_SIZE",38:"SPECTRO_VARS_MIN_SIZE",77:"SCAN_VARS_MIN_SIZE"}),h.DataType=Object.freeze({FLOATFIX:-65544,FLOAT80:-16138,FLOAT64:-13320,FLOAT48:-9990,FLOAT32:-5892,INT64:-8,INT32:-4,INT16:-2,INT8:-1,UNKNOWN0:0,UINT8:1,UINT16:2,UINT32:4,UINT64:8,"-65544":"FLOATFIX","-16138":"FLOAT80","-13320":"FLOAT64","-9990":"FLOAT48","-5892":"FLOAT32","-8":"INT64","-4":"INT32","-2":"INT16","-1":"INT8",0:"UNKNOWN0",1:"UINT8",2:"UINT16",4:"UINT32",8:"UINT64"}),h.SpmMode=Object.freeze({CONSTANT_FORCE:0,CONTACT_CONSTANT_HEIGHT:1,CONTACT_ERROR:2,LATERAL_FORCE:3,FORCE_MODULATION:4,SPREADING_RESISTANCE_IMAGING:5,SEMICONTACT_TOPOGRAPHY:6,SEMICONTACT_ERROR:7,PHASE_CONTRAST:8,AC_MAGNETIC_FORCE:9,DC_MAGNETIC_FORCE:10,ELECTROSTATIC_FORCE:11,CAPACITANCE_CONTRAST:12,KELVIN_PROBE:13,CONSTANT_CURRENT:14,BARRIER_HEIGHT:15,CONSTANT_HEIGHT:16,AFAM:17,CONTACT_EFM:18,SHEAR_FORCE_TOPOGRAPHY:19,SFOM:20,CONTACT_CAPACITANCE:21,SNOM_TRANSMISSION:22,SNOM_REFLECTION:23,SNOM_ALL:24,SNOM:25,0:"CONSTANT_FORCE",1:"CONTACT_CONSTANT_HEIGHT",2:"CONTACT_ERROR",3:"LATERAL_FORCE",4:"FORCE_MODULATION",5:"SPREADING_RESISTANCE_IMAGING",6:"SEMICONTACT_TOPOGRAPHY",7:"SEMICONTACT_ERROR",8:"PHASE_CONTRAST",9:"AC_MAGNETIC_FORCE",10:"DC_MAGNETIC_FORCE",11:"ELECTROSTATIC_FORCE",12:"CAPACITANCE_CONTRAST",13:"KELVIN_PROBE",14:"CONSTANT_CURRENT",15:"BARRIER_HEIGHT",16:"CONSTANT_HEIGHT",17:"AFAM",18:"CONTACT_EFM",19:"SHEAR_FORCE_TOPOGRAPHY",20:"SFOM",21:"CONTACT_CAPACITANCE",22:"SNOM_TRANSMISSION",23:"SNOM_REFLECTION",24:"SNOM_ALL",25:"SNOM"}),h.SpmTechnique=Object.freeze({CONTACT_MODE:0,SEMICONTACT_MODE:1,TUNNEL_CURRENT:2,SNOM:3,0:"CONTACT_MODE",1:"SEMICONTACT_MODE",2:"TUNNEL_CURRENT",3:"SNOM"}),h.Unit=Object.freeze({RAMAN_SHIFT:-10,RESERVED0:-9,RESERVED1:-8,RESERVED2:-7,RESERVED3:-6,METER:-5,CENTI_METER:-4,MILLI_METER:-3,MICRO_METER:-2,NANO_METER:-1,ANGSTROM:0,NANO_AMPERE:1,VOLT:2,NONE:3,KILO_HERTZ:4,DEGREES:5,PERCENT:6,CELSIUS_DEGREE:7,VOLT_HIGH:8,SECOND:9,MILLI_SECOND:10,MICRO_SECOND:11,NANO_SECOND:12,COUNTS:13,PIXELS:14,RESERVED_SFOM0:15,RESERVED_SFOM1:16,RESERVED_SFOM2:17,RESERVED_SFOM3:18,RESERVED_SFOM4:19,AMPERE2:20,MILLI_AMPERE:21,MICRO_AMPERE:22,NANO_AMPERE2:23,PICO_AMPERE:24,VOLT2:25,MILLI_VOLT:26,MICRO_VOLT:27,NANO_VOLT:28,PICO_VOLT:29,NEWTON:30,MILLI_NEWTON:31,MICRO_NEWTON:32,NANO_NEWTON:33,PICO_NEWTON:34,RESERVED_DOS0:35,RESERVED_DOS1:36,RESERVED_DOS2:37,RESERVED_DOS3:38,RESERVED_DOS4:39,"-10":"RAMAN_SHIFT","-9":"RESERVED0","-8":"RESERVED1","-7":"RESERVED2","-6":"RESERVED3","-5":"METER","-4":"CENTI_METER","-3":"MILLI_METER","-2":"MICRO_METER","-1":"NANO_METER",0:"ANGSTROM",1:"NANO_AMPERE",2:"VOLT",3:"NONE",4:"KILO_HERTZ",5:"DEGREES",6:"PERCENT",7:"CELSIUS_DEGREE",8:"VOLT_HIGH",9:"SECOND",10:"MILLI_SECOND",11:"MICRO_SECOND",12:"NANO_SECOND",13:"COUNTS",14:"PIXELS",15:"RESERVED_SFOM0",16:"RESERVED_SFOM1",17:"RESERVED_SFOM2",18:"RESERVED_SFOM3",19:"RESERVED_SFOM4",20:"AMPERE2",21:"MILLI_AMPERE",22:"MICRO_AMPERE",23:"NANO_AMPERE2",24:"PICO_AMPERE",25:"VOLT2",26:"MILLI_VOLT",27:"MICRO_VOLT",28:"NANO_VOLT",29:"PICO_VOLT",30:"NEWTON",31:"MILLI_NEWTON",32:"MICRO_NEWTON",33:"NANO_NEWTON",34:"PICO_NEWTON",35:"RESERVED_DOS0",36:"RESERVED_DOS1",37:"RESERVED_DOS2",38:"RESERVED_DOS3",39:"RESERVED_DOS4"}),h.XmlParamType=Object.freeze({NONE:0,LASER_WAVELENGTH:1,UNITS:2,DATA_ARRAY:255,0:"NONE",1:"LASER_WAVELENGTH",2:"UNITS",255:"DATA_ARRAY"}),h.XmlScanLocation=Object.freeze({HLT:0,HLB:1,HRT:2,HRB:3,VLT:4,VLB:5,VRT:6,VRB:7,0:"HLT",1:"HLB",2:"HRT",3:"HRB",4:"VLT",5:"VLB",6:"VRT",7:"VRB"});function h(a,r,f){this._io=a,this._parent=r,this._root=f||this,this._debug={},this._read()}h.prototype._read=function(){if(this._debug.signature={start:this._io.pos,ioOffset:this._io.byteOffset},this.signature=this._io.readBytes(4),this._debug.signature.end=this._io.pos,n.byteArrayCompare(this.signature,new Uint8Array([1,176,147,255]))!=0){var a=new n.ValidationNotEqualError(new Uint8Array([1,176,147,255]),this.signature,this._io,"/seq/0");throw this._debug.signature.validationError=a,a}this._debug.size={start:this._io.pos,ioOffset:this._io.byteOffset},this.size=this._io.readU4le(),this._debug.size.end=this._io.pos,this._debug.reserved0={start:this._io.pos,ioOffset:this._io.byteOffset},this.reserved0=this._io.readBytes(4),this._debug.reserved0.end=this._io.pos,this._debug.lastFrame={start:this._io.pos,ioOffset:this._io.byteOffset},this.lastFrame=this._io.readU2le(),this._debug.lastFrame.end=this._io.pos,this._debug.reserved1={start:this._io.pos,ioOffset:this._io.byteOffset},this.reserved1=this._io.readBytes(18),this._debug.reserved1.end=this._io.pos,this._debug.wrondDoc={start:this._io.pos,ioOffset:this._io.byteOffset},this.wrondDoc=this._io.readBytes(1),this._debug.wrondDoc.end=this._io.pos,this._debug.frames={start:this._io.pos,ioOffset:this._io.byteOffset},this._raw_frames=this._io.readBytes(this.size);var r=new n(this._raw_frames);this.frames=new S(r,this,this._root),this._debug.frames.end=this._io.pos};var E=h.Frame=(function(){a.FrameType=Object.freeze({SCANNED:0,SPECTROSCOPY:1,TEXT:3,OLD_MDA:105,MDA:106,PALETTE:107,CURVES_NEW:190,CURVES:201,0:"SCANNED",1:"SPECTROSCOPY",3:"TEXT",105:"OLD_MDA",106:"MDA",107:"PALETTE",190:"CURVES_NEW",201:"CURVES"});function a(e,d,o){this._io=e,this._parent=d,this._root=o,this._debug={},this._read()}a.prototype._read=function(){this._debug.size={start:this._io.pos,ioOffset:this._io.byteOffset},this.size=this._io.readU4le(),this._debug.size.end=this._io.pos,this._debug.main={start:this._io.pos,ioOffset:this._io.byteOffset},this._raw_main=this._io.readBytes(this.size-4);var e=new n(this._raw_main);this.main=new C(e,this,this._root),this._debug.main.end=this._io.pos};var r=a.AxisScale=(function(){function e(d,o,t){this._io=d,this._parent=o,this._root=t,this._debug={},this._read()}return e.prototype._read=function(){this._debug.offset={start:this._io.pos,ioOffset:this._io.byteOffset},this.offset=this._io.readF4le(),this._debug.offset.end=this._io.pos,this._debug.step={start:this._io.pos,ioOffset:this._io.byteOffset},this.step=this._io.readF4le(),this._debug.step.end=this._io.pos,this._debug.unit={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"NtMdt.Unit"},this.unit=this._io.readS2le(),this._debug.unit.end=this._io.pos},e})(),f=a.DateTime=(function(){function e(t,s,i){this._io=t,this._parent=s,this._root=i,this._debug={},this._read()}e.prototype._read=function(){this._debug.date={start:this._io.pos,ioOffset:this._io.byteOffset},this.date=new d(this._io,this,this._root),this._debug.date.end=this._io.pos,this._debug.time={start:this._io.pos,ioOffset:this._io.byteOffset},this.time=new o(this._io,this,this._root),this._debug.time.end=this._io.pos};var d=e.Date=(function(){function t(s,i,_){this._io=s,this._parent=i,this._root=_,this._debug={},this._read()}return t.prototype._read=function(){this._debug.year={start:this._io.pos,ioOffset:this._io.byteOffset},this.year=this._io.readU2le(),this._debug.year.end=this._io.pos,this._debug.month={start:this._io.pos,ioOffset:this._io.byteOffset},this.month=this._io.readU2le(),this._debug.month.end=this._io.pos,this._debug.day={start:this._io.pos,ioOffset:this._io.byteOffset},this.day=this._io.readU2le(),this._debug.day.end=this._io.pos},t})(),o=e.Time=(function(){function t(s,i,_){this._io=s,this._parent=i,this._root=_,this._debug={},this._read()}return t.prototype._read=function(){this._debug.hour={start:this._io.pos,ioOffset:this._io.byteOffset},this.hour=this._io.readU2le(),this._debug.hour.end=this._io.pos,this._debug.min={start:this._io.pos,ioOffset:this._io.byteOffset},this.min=this._io.readU2le(),this._debug.min.end=this._io.pos,this._debug.sec={start:this._io.pos,ioOffset:this._io.byteOffset},this.sec=this._io.readU2le(),this._debug.sec.end=this._io.pos},t})();return e})(),p=a.Dots=(function(){function e(s,i,_){this._io=s,this._parent=i,this._root=_,this._debug={},this._read()}e.prototype._read=function(){this._debug.fmNdots={start:this._io.pos,ioOffset:this._io.byteOffset},this.fmNdots=this._io.readU2le(),this._debug.fmNdots.end=this._io.pos,this.fmNdots>0&&(this._debug.coordHeader={start:this._io.pos,ioOffset:this._io.byteOffset},this.coordHeader=new t(this._io,this,this._root),this._debug.coordHeader.end=this._io.pos),this._debug.coordinates={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.coordinates.arr=[],this.coordinates=[];for(var s=0;s<this.fmNdots;s++)this._debug.coordinates.arr[s]={start:this._io.pos,ioOffset:this._io.byteOffset},this.coordinates.push(new o(this._io,this,this._root)),this._debug.coordinates.arr[s].end=this._io.pos;this._debug.coordinates.end=this._io.pos,this._debug.data={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.data.arr=[],this.data=[];for(var s=0;s<this.fmNdots;s++)this._debug.data.arr[s]={start:this._io.pos,ioOffset:this._io.byteOffset},this.data.push(new d(this._io,this,this._root,s)),this._debug.data.arr[s].end=this._io.pos;this._debug.data.end=this._io.pos};var d=e.DataLinez=(function(){function s(i,_,u,c){this._io=i,this._parent=_,this._root=u,this.index=c,this._debug={},this._read()}return s.prototype._read=function(){this._debug.forward={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.forward.arr=[],this.forward=[];for(var i=0;i<this._parent.coordinates[this.index].forwardSize;i++)this._debug.forward.arr[i]={start:this._io.pos,ioOffset:this._io.byteOffset},this.forward.push(this._io.readS2le()),this._debug.forward.arr[i].end=this._io.pos;this._debug.forward.end=this._io.pos,this._debug.backward={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.backward.arr=[],this.backward=[];for(var i=0;i<this._parent.coordinates[this.index].backwardSize;i++)this._debug.backward.arr[i]={start:this._io.pos,ioOffset:this._io.byteOffset},this.backward.push(this._io.readS2le()),this._debug.backward.arr[i].end=this._io.pos;this._debug.backward.end=this._io.pos},s})(),o=e.DotsData=(function(){function s(i,_,u){this._io=i,this._parent=_,this._root=u,this._debug={},this._read()}return s.prototype._read=function(){this._debug.coordX={start:this._io.pos,ioOffset:this._io.byteOffset},this.coordX=this._io.readF4le(),this._debug.coordX.end=this._io.pos,this._debug.coordY={start:this._io.pos,ioOffset:this._io.byteOffset},this.coordY=this._io.readF4le(),this._debug.coordY.end=this._io.pos,this._debug.forwardSize={start:this._io.pos,ioOffset:this._io.byteOffset},this.forwardSize=this._io.readS4le(),this._debug.forwardSize.end=this._io.pos,this._debug.backwardSize={start:this._io.pos,ioOffset:this._io.byteOffset},this.backwardSize=this._io.readS4le(),this._debug.backwardSize.end=this._io.pos},s})(),t=e.DotsHeader=(function(){function s(_,u,c){this._io=_,this._parent=u,this._root=c,this._debug={},this._read()}s.prototype._read=function(){this._debug.headerSize={start:this._io.pos,ioOffset:this._io.byteOffset},this.headerSize=this._io.readS4le(),this._debug.headerSize.end=this._io.pos,this._debug.header={start:this._io.pos,ioOffset:this._io.byteOffset},this._raw_header=this._io.readBytes(this.headerSize);var _=new n(this._raw_header);this.header=new i(_,this,this._root),this._debug.header.end=this._io.pos};var i=s.Header=(function(){function _(u,c,v){this._io=u,this._parent=c,this._root=v,this._debug={},this._read()}return _.prototype._read=function(){this._debug.coordSize={start:this._io.pos,ioOffset:this._io.byteOffset},this.coordSize=this._io.readS4le(),this._debug.coordSize.end=this._io.pos,this._debug.version={start:this._io.pos,ioOffset:this._io.byteOffset},this.version=this._io.readS4le(),this._debug.version.end=this._io.pos,this._debug.xyunits={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"NtMdt.Unit"},this.xyunits=this._io.readS2le(),this._debug.xyunits.end=this._io.pos},_})();return s})();return e})(),A=a.FdCurvesNew=(function(){function e(o,t,s){this._io=o,this._parent=t,this._root=s,this._debug={},this._read()}e.prototype._read=function(){this._debug.blockCount={start:this._io.pos,ioOffset:this._io.byteOffset},this.blockCount=this._io.readU4le(),this._debug.blockCount.end=this._io.pos,this._debug.blocksHeaders={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.blocksHeaders.arr=[],this.blocksHeaders=[];for(var o=0;o<this.blockCount;o++)this._debug.blocksHeaders.arr[o]={start:this._io.pos,ioOffset:this._io.byteOffset},this.blocksHeaders.push(new d(this._io,this,this._root)),this._debug.blocksHeaders.arr[o].end=this._io.pos;this._debug.blocksHeaders.end=this._io.pos,this._debug.blocksNames={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.blocksNames.arr=[],this.blocksNames=[];for(var o=0;o<this.blockCount;o++)this._debug.blocksNames.arr[o]={start:this._io.pos,ioOffset:this._io.byteOffset},this.blocksNames.push(n.bytesToStr(this._io.readBytes(this.blocksHeaders[o].nameLen),"UTF-8")),this._debug.blocksNames.arr[o].end=this._io.pos;this._debug.blocksNames.end=this._io.pos,this._debug.blocksData={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.blocksData.arr=[],this.blocksData=[];for(var o=0;o<this.blockCount;o++)this._debug.blocksData.arr[o]={start:this._io.pos,ioOffset:this._io.byteOffset},this.blocksData.push(this._io.readBytes(this.blocksHeaders[o].len)),this._debug.blocksData.arr[o].end=this._io.pos;this._debug.blocksData.end=this._io.pos};var d=e.BlockDescr=(function(){function o(t,s,i){this._io=t,this._parent=s,this._root=i,this._debug={},this._read()}return o.prototype._read=function(){this._debug.nameLen={start:this._io.pos,ioOffset:this._io.byteOffset},this.nameLen=this._io.readU4le(),this._debug.nameLen.end=this._io.pos,this._debug.len={start:this._io.pos,ioOffset:this._io.byteOffset},this.len=this._io.readU4le(),this._debug.len.end=this._io.pos},o})();return e})(),R=a.FdMetaData=(function(){function e(t,s,i){this._io=t,this._parent=s,this._root=i,this._debug={},this._read()}e.prototype._read=function(){this._debug.headSize={start:this._io.pos,ioOffset:this._io.byteOffset},this.headSize=this._io.readU4le(),this._debug.headSize.end=this._io.pos,this._debug.totLen={start:this._io.pos,ioOffset:this._io.byteOffset},this.totLen=this._io.readU4le(),this._debug.totLen.end=this._io.pos,this._debug.guids={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.guids.arr=[],this.guids=[];for(var t=0;t<2;t++)this._debug.guids.arr[t]={start:this._io.pos,ioOffset:this._io.byteOffset},this.guids.push(new T(this._io,this,this._root)),this._debug.guids.arr[t].end=this._io.pos;this._debug.guids.end=this._io.pos,this._debug.frameStatus={start:this._io.pos,ioOffset:this._io.byteOffset},this.frameStatus=this._io.readBytes(4),this._debug.frameStatus.end=this._io.pos,this._debug.nameSize={start:this._io.pos,ioOffset:this._io.byteOffset},this.nameSize=this._io.readU4le(),this._debug.nameSize.end=this._io.pos,this._debug.commSize={start:this._io.pos,ioOffset:this._io.byteOffset},this.commSize=this._io.readU4le(),this._debug.commSize.end=this._io.pos,this._debug.viewInfoSize={start:this._io.pos,ioOffset:this._io.byteOffset},this.viewInfoSize=this._io.readU4le(),this._debug.viewInfoSize.end=this._io.pos,this._debug.specSize={start:this._io.pos,ioOffset:this._io.byteOffset},this.specSize=this._io.readU4le(),this._debug.specSize.end=this._io.pos,this._debug.sourceInfoSize={start:this._io.pos,ioOffset:this._io.byteOffset},this.sourceInfoSize=this._io.readU4le(),this._debug.sourceInfoSize.end=this._io.pos,this._debug.varSize={start:this._io.pos,ioOffset:this._io.byteOffset},this.varSize=this._io.readU4le(),this._debug.varSize.end=this._io.pos,this._debug.dataOffset={start:this._io.pos,ioOffset:this._io.byteOffset},this.dataOffset=this._io.readU4le(),this._debug.dataOffset.end=this._io.pos,this._debug.dataSize={start:this._io.pos,ioOffset:this._io.byteOffset},this.dataSize=this._io.readU4le(),this._debug.dataSize.end=this._io.pos,this._debug.title={start:this._io.pos,ioOffset:this._io.byteOffset},this.title=n.bytesToStr(this._io.readBytes(this.nameSize),"UTF-8"),this._debug.title.end=this._io.pos,this._debug.xml={start:this._io.pos,ioOffset:this._io.byteOffset},this.xml=n.bytesToStr(this._io.readBytes(this.commSize),"UTF-8"),this._debug.xml.end=this._io.pos,this._debug.structLen={start:this._io.pos,ioOffset:this._io.byteOffset},this.structLen=this._io.readU4le(),this._debug.structLen.end=this._io.pos,this._debug.arraySize={start:this._io.pos,ioOffset:this._io.byteOffset},this.arraySize=this._io.readU8le(),this._debug.arraySize.end=this._io.pos,this._debug.cellSize={start:this._io.pos,ioOffset:this._io.byteOffset},this.cellSize=this._io.readU4le(),this._debug.cellSize.end=this._io.pos,this._debug.nDimensions={start:this._io.pos,ioOffset:this._io.byteOffset},this.nDimensions=this._io.readU4le(),this._debug.nDimensions.end=this._io.pos,this._debug.nMesurands={start:this._io.pos,ioOffset:this._io.byteOffset},this.nMesurands=this._io.readU4le(),this._debug.nMesurands.end=this._io.pos,this._debug.dimensions={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.dimensions.arr=[],this.dimensions=[];for(var t=0;t<this.nDimensions;t++)this._debug.dimensions.arr[t]={start:this._io.pos,ioOffset:this._io.byteOffset},this.dimensions.push(new d(this._io,this,this._root)),this._debug.dimensions.arr[t].end=this._io.pos;this._debug.dimensions.end=this._io.pos,this._debug.mesurands={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.mesurands.arr=[],this.mesurands=[];for(var t=0;t<this.nMesurands;t++)this._debug.mesurands.arr[t]={start:this._io.pos,ioOffset:this._io.byteOffset},this.mesurands.push(new d(this._io,this,this._root)),this._debug.mesurands.arr[t].end=this._io.pos;this._debug.mesurands.end=this._io.pos};var d=e.Calibration=(function(){function t(s,i,_){this._io=s,this._parent=i,this._root=_,this._debug={},this._read()}return t.prototype._read=function(){this._debug.lenTot={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenTot=this._io.readU4le(),this._debug.lenTot.end=this._io.pos,this._debug.lenStruct={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenStruct=this._io.readU4le(),this._debug.lenStruct.end=this._io.pos,this._debug.lenName={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenName=this._io.readU4le(),this._debug.lenName.end=this._io.pos,this._debug.lenComment={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenComment=this._io.readU4le(),this._debug.lenComment.end=this._io.pos,this._debug.lenUnit={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenUnit=this._io.readU4le(),this._debug.lenUnit.end=this._io.pos,this._debug.siUnit={start:this._io.pos,ioOffset:this._io.byteOffset},this.siUnit=this._io.readU8le(),this._debug.siUnit.end=this._io.pos,this._debug.accuracy={start:this._io.pos,ioOffset:this._io.byteOffset},this.accuracy=this._io.readF8le(),this._debug.accuracy.end=this._io.pos,this._debug.functionIdAndDimensions={start:this._io.pos,ioOffset:this._io.byteOffset},this.functionIdAndDimensions=this._io.readU8le(),this._debug.functionIdAndDimensions.end=this._io.pos,this._debug.bias={start:this._io.pos,ioOffset:this._io.byteOffset},this.bias=this._io.readF8le(),this._debug.bias.end=this._io.pos,this._debug.scale={start:this._io.pos,ioOffset:this._io.byteOffset},this.scale=this._io.readF8le(),this._debug.scale.end=this._io.pos,this._debug.minIndex={start:this._io.pos,ioOffset:this._io.byteOffset},this.minIndex=this._io.readU8le(),this._debug.minIndex.end=this._io.pos,this._debug.maxIndex={start:this._io.pos,ioOffset:this._io.byteOffset},this.maxIndex=this._io.readU8le(),this._debug.maxIndex.end=this._io.pos,this._debug.dataType={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"NtMdt.DataType"},this.dataType=this._io.readS4le(),this._debug.dataType.end=this._io.pos,this._debug.lenAuthor={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenAuthor=this._io.readU4le(),this._debug.lenAuthor.end=this._io.pos,this._debug.name={start:this._io.pos,ioOffset:this._io.byteOffset},this.name=n.bytesToStr(this._io.readBytes(this.lenName),"UTF-8"),this._debug.name.end=this._io.pos,this._debug.comment={start:this._io.pos,ioOffset:this._io.byteOffset},this.comment=n.bytesToStr(this._io.readBytes(this.lenComment),"UTF-8"),this._debug.comment.end=this._io.pos,this._debug.unit={start:this._io.pos,ioOffset:this._io.byteOffset},this.unit=n.bytesToStr(this._io.readBytes(this.lenUnit),"UTF-8"),this._debug.unit.end=this._io.pos,this._debug.author={start:this._io.pos,ioOffset:this._io.byteOffset},this.author=n.bytesToStr(this._io.readBytes(this.lenAuthor),"UTF-8"),this._debug.author.end=this._io.pos},Object.defineProperty(t.prototype,"count",{get:function(){return this._m_count!==void 0?this._m_count:(this._debug._m_count={},this._m_count=this.maxIndex-this.minIndex+1,this._m_count)}}),t})(),o=e.Image=(function(){function t(i,_,u){this._io=i,this._parent=_,this._root=u,this._debug={},this._read()}t.prototype._read=function(){for(this._debug.image={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.image.arr=[],this.image=[];!this._io.isEof();)this._debug.image.arr[this.image.length]={start:this._io.pos,ioOffset:this._io.byteOffset},this.image.push(new s(this._io,this,this._root)),this._debug.image.arr[this.image.length-1].end=this._io.pos;this._debug.image.end=this._io.pos};var s=t.Vec=(function(){function i(_,u,c){this._io=_,this._parent=u,this._root=c,this._debug={},this._read()}return i.prototype._read=function(){this._debug.items={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.items.arr=[],this.items=[];for(var _=0;_<this._parent._parent.nMesurands;_++){switch(this._debug.items.arr[_]={start:this._io.pos,ioOffset:this._io.byteOffset},this._parent._parent.mesurands[_].dataType){case h.DataType.FLOAT32:this.items.push(this._io.readF4le());break;case h.DataType.FLOAT64:this.items.push(this._io.readF8le());break;case h.DataType.INT16:this.items.push(this._io.readS2le());break;case h.DataType.INT32:this.items.push(this._io.readS4le());break;case h.DataType.INT64:this.items.push(this._io.readS8le());break;case h.DataType.INT8:this.items.push(this._io.readS1());break;case h.DataType.UINT16:this.items.push(this._io.readU2le());break;case h.DataType.UINT32:this.items.push(this._io.readU4le());break;case h.DataType.UINT64:this.items.push(this._io.readU8le());break;case h.DataType.UINT8:this.items.push(this._io.readU1());break}this._debug.items.arr[_].end=this._io.pos}this._debug.items.end=this._io.pos},i})();return t})();return Object.defineProperty(e.prototype,"image",{get:function(){if(this._m_image!==void 0)return this._m_image;var t=this._io.pos;this._io.seek(this.dataOffset),this._debug._m_image={start:this._io.pos,ioOffset:this._io.byteOffset},this._raw__m_image=this._io.readBytes(this.dataSize);var s=new n(this._raw__m_image);return this._m_image=new o(s,this,this._root),this._debug._m_image.end=this._io.pos,this._io.seek(t),this._m_image}}),e})(),I=a.FdScanned=(function(){e.InputSignal=Object.freeze({EXTENSION_SLOT:0,BIAS_V:1,GROUND:2,0:"EXTENSION_SLOT",1:"BIAS_V",2:"GROUND"}),e.LiftMode=Object.freeze({STEP:0,FINE:1,SLOPE:2,0:"STEP",1:"FINE",2:"SLOPE"}),e.Mode=Object.freeze({STM:0,AFM:1,UNKNOWN2:2,UNKNOWN3:3,UNKNOWN4:4,0:"STM",1:"AFM",2:"UNKNOWN2",3:"UNKNOWN3",4:"UNKNOWN4"});function e(t,s,i){this._io=t,this._parent=s,this._root=i,this._debug={},this._read()}e.prototype._read=function(){this._debug.vars={start:this._io.pos,ioOffset:this._io.byteOffset},this._raw_vars=this._io.readBytes(this._parent.varSize);var t=new n(this._raw_vars);this.vars=new o(t,this,this._root),this._debug.vars.end=this._io.pos,this._debug.fmMode={start:this._io.pos,ioOffset:this._io.byteOffset},this.fmMode=this._io.readU2le(),this._debug.fmMode.end=this._io.pos,this._debug.fmXres={start:this._io.pos,ioOffset:this._io.byteOffset},this.fmXres=this._io.readU2le(),this._debug.fmXres.end=this._io.pos,this._debug.fmYres={start:this._io.pos,ioOffset:this._io.byteOffset},this.fmYres=this._io.readU2le(),this._debug.fmYres.end=this._io.pos,this._debug.dots={start:this._io.pos,ioOffset:this._io.byteOffset},this.dots=new p(this._io,this,this._root),this._debug.dots.end=this._io.pos,this._debug.image={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.image.arr=[],this.image=[];for(var s=0;s<this.fmXres*this.fmYres;s++)this._debug.image.arr[s]={start:this._io.pos,ioOffset:this._io.byteOffset},this.image.push(this._io.readS2le()),this._debug.image.arr[s].end=this._io.pos;this._debug.image.end=this._io.pos,this._debug.title={start:this._io.pos,ioOffset:this._io.byteOffset},this.title=new y(this._io,this,this._root),this._debug.title.end=this._io.pos,this._debug.xml={start:this._io.pos,ioOffset:this._io.byteOffset},this.xml=new g(this._io,this,this._root),this._debug.xml.end=this._io.pos},e.Dot=(function(){function t(s,i,_){this._io=s,this._parent=i,this._root=_,this._debug={},this._read()}return t.prototype._read=function(){this._debug.x={start:this._io.pos,ioOffset:this._io.byteOffset},this.x=this._io.readS2le(),this._debug.x.end=this._io.pos,this._debug.y={start:this._io.pos,ioOffset:this._io.byteOffset},this.y=this._io.readS2le(),this._debug.y.end=this._io.pos},t})();var d=e.ScanDir=(function(){function t(s,i,_){this._io=s,this._parent=i,this._root=_,this._debug={},this._read()}return t.prototype._read=function(){this._debug.unkn={start:this._io.pos,ioOffset:this._io.byteOffset},this.unkn=this._io.readBitsIntBe(4),this._debug.unkn.end=this._io.pos,this._debug.doublePass={start:this._io.pos,ioOffset:this._io.byteOffset},this.doublePass=this._io.readBitsIntBe(1)!=0,this._debug.doublePass.end=this._io.pos,this._debug.bottom={start:this._io.pos,ioOffset:this._io.byteOffset},this.bottom=this._io.readBitsIntBe(1)!=0,this._debug.bottom.end=this._io.pos,this._debug.left={start:this._io.pos,ioOffset:this._io.byteOffset},this.left=this._io.readBitsIntBe(1)!=0,this._debug.left.end=this._io.pos,this._debug.horizontal={start:this._io.pos,ioOffset:this._io.byteOffset},this.horizontal=this._io.readBitsIntBe(1)!=0,this._debug.horizontal.end=this._io.pos},t})(),o=e.Vars=(function(){function t(s,i,_){this._io=s,this._parent=i,this._root=_,this._debug={},this._read()}return t.prototype._read=function(){this._debug.xScale={start:this._io.pos,ioOffset:this._io.byteOffset},this.xScale=new r(this._io,this,this._root),this._debug.xScale.end=this._io.pos,this._debug.yScale={start:this._io.pos,ioOffset:this._io.byteOffset},this.yScale=new r(this._io,this,this._root),this._debug.yScale.end=this._io.pos,this._debug.zScale={start:this._io.pos,ioOffset:this._io.byteOffset},this.zScale=new r(this._io,this,this._root),this._debug.zScale.end=this._io.pos,this._debug.channelIndex={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"NtMdt.AdcMode"},this.channelIndex=this._io.readU1(),this._debug.channelIndex.end=this._io.pos,this._debug.mode={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"NtMdt.Frame.FdScanned.Mode"},this.mode=this._io.readU1(),this._debug.mode.end=this._io.pos,this._debug.xres={start:this._io.pos,ioOffset:this._io.byteOffset},this.xres=this._io.readU2le(),this._debug.xres.end=this._io.pos,this._debug.yres={start:this._io.pos,ioOffset:this._io.byteOffset},this.yres=this._io.readU2le(),this._debug.yres.end=this._io.pos,this._debug.ndacq={start:this._io.pos,ioOffset:this._io.byteOffset},this.ndacq=this._io.readU2le(),this._debug.ndacq.end=this._io.pos,this._debug.stepLength={start:this._io.pos,ioOffset:this._io.byteOffset},this.stepLength=this._io.readF4le(),this._debug.stepLength.end=this._io.pos,this._debug.adt={start:this._io.pos,ioOffset:this._io.byteOffset},this.adt=this._io.readU2le(),this._debug.adt.end=this._io.pos,this._debug.adcGainAmpLog10={start:this._io.pos,ioOffset:this._io.byteOffset},this.adcGainAmpLog10=this._io.readU1(),this._debug.adcGainAmpLog10.end=this._io.pos,this._debug.adcIndex={start:this._io.pos,ioOffset:this._io.byteOffset},this.adcIndex=this._io.readU1(),this._debug.adcIndex.end=this._io.pos,this._debug.inputSignalOrVersion={start:this._io.pos,ioOffset:this._io.byteOffset},this.inputSignalOrVersion=this._io.readU1(),this._debug.inputSignalOrVersion.end=this._io.pos,this._debug.substrPlaneOrderOrPassNum={start:this._io.pos,ioOffset:this._io.byteOffset},this.substrPlaneOrderOrPassNum=this._io.readU1(),this._debug.substrPlaneOrderOrPassNum.end=this._io.pos,this._debug.scanDir={start:this._io.pos,ioOffset:this._io.byteOffset},this.scanDir=new d(this._io,this,this._root),this._debug.scanDir.end=this._io.pos,this._debug.powerOf2={start:this._io.pos,ioOffset:this._io.byteOffset},this.powerOf2=this._io.readU1(),this._debug.powerOf2.end=this._io.pos,this._debug.velocity={start:this._io.pos,ioOffset:this._io.byteOffset},this.velocity=this._io.readF4le(),this._debug.velocity.end=this._io.pos,this._debug.setpoint={start:this._io.pos,ioOffset:this._io.byteOffset},this.setpoint=this._io.readF4le(),this._debug.setpoint.end=this._io.pos,this._debug.biasVoltage={start:this._io.pos,ioOffset:this._io.byteOffset},this.biasVoltage=this._io.readF4le(),this._debug.biasVoltage.end=this._io.pos,this._debug.draw={start:this._io.pos,ioOffset:this._io.byteOffset},this.draw=this._io.readU1(),this._debug.draw.end=this._io.pos,this._debug.reserved={start:this._io.pos,ioOffset:this._io.byteOffset},this.reserved=this._io.readU1(),this._debug.reserved.end=this._io.pos,this._debug.xoff={start:this._io.pos,ioOffset:this._io.byteOffset},this.xoff=this._io.readS4le(),this._debug.xoff.end=this._io.pos,this._debug.yoff={start:this._io.pos,ioOffset:this._io.byteOffset},this.yoff=this._io.readS4le(),this._debug.yoff.end=this._io.pos,this._debug.nlCorr={start:this._io.pos,ioOffset:this._io.byteOffset},this.nlCorr=this._io.readU1(),this._debug.nlCorr.end=this._io.pos},t})();return e})(),m=a.FdSpectroscopy=(function(){function e(o,t,s){this._io=o,this._parent=t,this._root=s,this._debug={},this._read()}e.prototype._read=function(){this._debug.vars={start:this._io.pos,ioOffset:this._io.byteOffset},this._raw_vars=this._io.readBytes(this._parent.varSize);var o=new n(this._raw_vars);this.vars=new d(o,this,this._root),this._debug.vars.end=this._io.pos,this._debug.fmMode={start:this._io.pos,ioOffset:this._io.byteOffset},this.fmMode=this._io.readU2le(),this._debug.fmMode.end=this._io.pos,this._debug.fmXres={start:this._io.pos,ioOffset:this._io.byteOffset},this.fmXres=this._io.readU2le(),this._debug.fmXres.end=this._io.pos,this._debug.fmYres={start:this._io.pos,ioOffset:this._io.byteOffset},this.fmYres=this._io.readU2le(),this._debug.fmYres.end=this._io.pos,this._debug.dots={start:this._io.pos,ioOffset:this._io.byteOffset},this.dots=new p(this._io,this,this._root),this._debug.dots.end=this._io.pos,this._debug.data={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.data.arr=[],this.data=[];for(var t=0;t<this.fmXres*this.fmYres;t++)this._debug.data.arr[t]={start:this._io.pos,ioOffset:this._io.byteOffset},this.data.push(this._io.readS2le()),this._debug.data.arr[t].end=this._io.pos;this._debug.data.end=this._io.pos,this._debug.title={start:this._io.pos,ioOffset:this._io.byteOffset},this.title=new y(this._io,this,this._root),this._debug.title.end=this._io.pos,this._debug.xml={start:this._io.pos,ioOffset:this._io.byteOffset},this.xml=new g(this._io,this,this._root),this._debug.xml.end=this._io.pos};var d=e.Vars=(function(){function o(t,s,i){this._io=t,this._parent=s,this._root=i,this._debug={},this._read()}return o.prototype._read=function(){this._debug.xScale={start:this._io.pos,ioOffset:this._io.byteOffset},this.xScale=new r(this._io,this,this._root),this._debug.xScale.end=this._io.pos,this._debug.yScale={start:this._io.pos,ioOffset:this._io.byteOffset},this.yScale=new r(this._io,this,this._root),this._debug.yScale.end=this._io.pos,this._debug.zScale={start:this._io.pos,ioOffset:this._io.byteOffset},this.zScale=new r(this._io,this,this._root),this._debug.zScale.end=this._io.pos,this._debug.spMode={start:this._io.pos,ioOffset:this._io.byteOffset},this.spMode=this._io.readU2le(),this._debug.spMode.end=this._io.pos,this._debug.spFilter={start:this._io.pos,ioOffset:this._io.byteOffset},this.spFilter=this._io.readU2le(),this._debug.spFilter.end=this._io.pos,this._debug.uBegin={start:this._io.pos,ioOffset:this._io.byteOffset},this.uBegin=this._io.readF4le(),this._debug.uBegin.end=this._io.pos,this._debug.uEnd={start:this._io.pos,ioOffset:this._io.byteOffset},this.uEnd=this._io.readF4le(),this._debug.uEnd.end=this._io.pos,this._debug.zUp={start:this._io.pos,ioOffset:this._io.byteOffset},this.zUp=this._io.readS2le(),this._debug.zUp.end=this._io.pos,this._debug.zDown={start:this._io.pos,ioOffset:this._io.byteOffset},this.zDown=this._io.readS2le(),this._debug.zDown.end=this._io.pos,this._debug.spAveraging={start:this._io.pos,ioOffset:this._io.byteOffset},this.spAveraging=this._io.readU2le(),this._debug.spAveraging.end=this._io.pos,this._debug.spRepeat={start:this._io.pos,ioOffset:this._io.byteOffset},this.spRepeat=this._io.readU1(),this._debug.spRepeat.end=this._io.pos,this._debug.spBack={start:this._io.pos,ioOffset:this._io.byteOffset},this.spBack=this._io.readU1(),this._debug.spBack.end=this._io.pos,this._debug.sp4nx={start:this._io.pos,ioOffset:this._io.byteOffset},this.sp4nx=this._io.readS2le(),this._debug.sp4nx.end=this._io.pos,this._debug.spOsc={start:this._io.pos,ioOffset:this._io.byteOffset},this.spOsc=this._io.readU1(),this._debug.spOsc.end=this._io.pos,this._debug.spN4={start:this._io.pos,ioOffset:this._io.byteOffset},this.spN4=this._io.readU1(),this._debug.spN4.end=this._io.pos,this._debug.sp4x0={start:this._io.pos,ioOffset:this._io.byteOffset},this.sp4x0=this._io.readF4le(),this._debug.sp4x0.end=this._io.pos,this._debug.sp4xr={start:this._io.pos,ioOffset:this._io.byteOffset},this.sp4xr=this._io.readF4le(),this._debug.sp4xr.end=this._io.pos,this._debug.sp4u={start:this._io.pos,ioOffset:this._io.byteOffset},this.sp4u=this._io.readS2le(),this._debug.sp4u.end=this._io.pos,this._debug.sp4i={start:this._io.pos,ioOffset:this._io.byteOffset},this.sp4i=this._io.readS2le(),this._debug.sp4i.end=this._io.pos,this._debug.spNx={start:this._io.pos,ioOffset:this._io.byteOffset},this.spNx=this._io.readS2le(),this._debug.spNx.end=this._io.pos},o})();return e})(),C=a.FrameMain=(function(){function e(d,o,t){this._io=d,this._parent=o,this._root=t,this._debug={},this._read()}return e.prototype._read=function(){switch(this._debug.type={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"NtMdt.Frame.FrameType"},this.type=this._io.readU2le(),this._debug.type.end=this._io.pos,this._debug.version={start:this._io.pos,ioOffset:this._io.byteOffset},this.version=new N(this._io,this,this._root),this._debug.version.end=this._io.pos,this._debug.dateTime={start:this._io.pos,ioOffset:this._io.byteOffset},this.dateTime=new f(this._io,this,this._root),this._debug.dateTime.end=this._io.pos,this._debug.varSize={start:this._io.pos,ioOffset:this._io.byteOffset},this.varSize=this._io.readU2le(),this._debug.varSize.end=this._io.pos,this._debug.frameData={start:this._io.pos,ioOffset:this._io.byteOffset},this.type){case h.Frame.FrameType.CURVES:this._raw_frameData=this._io.readBytesFull();var d=new n(this._raw_frameData);this.frameData=new m(d,this,this._root);break;case h.Frame.FrameType.CURVES_NEW:this._raw_frameData=this._io.readBytesFull();var d=new n(this._raw_frameData);this.frameData=new A(d,this,this._root);break;case h.Frame.FrameType.MDA:this._raw_frameData=this._io.readBytesFull();var d=new n(this._raw_frameData);this.frameData=new R(d,this,this._root);break;case h.Frame.FrameType.SCANNED:this._raw_frameData=this._io.readBytesFull();var d=new n(this._raw_frameData);this.frameData=new I(d,this,this._root);break;case h.Frame.FrameType.SPECTROSCOPY:this._raw_frameData=this._io.readBytesFull();var d=new n(this._raw_frameData);this.frameData=new m(d,this,this._root);break;default:this.frameData=this._io.readBytesFull();break}this._debug.frameData.end=this._io.pos},e})();return a})(),S=h.Framez=(function(){function a(r,f,p){this._io=r,this._parent=f,this._root=p,this._debug={},this._read()}return a.prototype._read=function(){this._debug.frames={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.frames.arr=[],this.frames=[];for(var r=0;r<this._root.lastFrame+1;r++)this._debug.frames.arr[r]={start:this._io.pos,ioOffset:this._io.byteOffset},this.frames.push(new E(this._io,this,this._root)),this._debug.frames.arr[r].end=this._io.pos;this._debug.frames.end=this._io.pos},a})(),y=h.Title=(function(){function a(r,f,p){this._io=r,this._parent=f,this._root=p,this._debug={},this._read()}return a.prototype._read=function(){this._debug.titleLen={start:this._io.pos,ioOffset:this._io.byteOffset},this.titleLen=this._io.readU4le(),this._debug.titleLen.end=this._io.pos,this._debug.title={start:this._io.pos,ioOffset:this._io.byteOffset},this.title=n.bytesToStr(this._io.readBytes(this.titleLen),"windows-1251"),this._debug.title.end=this._io.pos},a})(),T=h.Uuid=(function(){function a(r,f,p){this._io=r,this._parent=f,this._root=p,this._debug={},this._read()}return a.prototype._read=function(){this._debug.data={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.data.arr=[],this.data=[];for(var r=0;r<16;r++)this._debug.data.arr[r]={start:this._io.pos,ioOffset:this._io.byteOffset},this.data.push(this._io.readU1()),this._debug.data.arr[r].end=this._io.pos;this._debug.data.end=this._io.pos},a})(),N=h.Version=(function(){function a(r,f,p){this._io=r,this._parent=f,this._root=p,this._debug={},this._read()}return a.prototype._read=function(){this._debug.minor={start:this._io.pos,ioOffset:this._io.byteOffset},this.minor=this._io.readU1(),this._debug.minor.end=this._io.pos,this._debug.major={start:this._io.pos,ioOffset:this._io.byteOffset},this.major=this._io.readU1(),this._debug.major.end=this._io.pos},a})(),g=h.Xml=(function(){function a(r,f,p){this._io=r,this._parent=f,this._root=p,this._debug={},this._read()}return a.prototype._read=function(){this._debug.xmlLen={start:this._io.pos,ioOffset:this._io.byteOffset},this.xmlLen=this._io.readU4le(),this._debug.xmlLen.end=this._io.pos,this._debug.xml={start:this._io.pos,ioOffset:this._io.byteOffset},this.xml=n.bytesToStr(this._io.readBytes(this.xmlLen),"UTF-16LE"),this._debug.xml.end=this._io.pos},a})();return h})();b.NtMdt=l})}});const U=z(),F={id:"nt_mdt",title:"NT-MDT data",ksy:{meta:{id:"nt_mdt",title:"NT-MDT data",application:["Nova","Image Analysis","NanoEducator","Gwyddion","Callisto"],"file-extension":"mdt",license:"GPL-3.0-or-later",endian:"le"},doc:`A native file format of NT-MDT scientific software. Usually contains
any of:

* [Scanning probe](https://en.wikipedia.org/wiki/Scanning_probe_microscopy) microscopy scans and spectra
* [Raman spectra](https://en.wikipedia.org/wiki/Raman_spectroscopy)
* results of their analysis

Some examples of mdt files can be downloaded at:

* <https://www.ntmdt-si.ru/resources/scan-gallery>
* <http://callistosoft.narod.ru/Resources/Mdt.zip>
`,"doc-ref":"https://svn.code.sf.net/p/gwyddion/code/trunk/gwyddion/modules/file/nt-mdt.c",seq:[{id:"signature",contents:[1,176,147,255]},{id:"size",type:"u4",doc:"File size (w/o header)"},{id:"reserved0",size:4},{id:"last_frame",type:"u2"},{id:"reserved1",size:18},{id:"wrond_doc",size:1,doc:"documentation specifies 32 bytes long header, but zeroth frame starts at 33th byte in reality"},{id:"frames",size:"size",type:"framez"}],types:{uuid:{seq:[{id:"data",type:"u1",repeat:"expr","repeat-expr":16}]},framez:{seq:[{id:"frames",type:"frame",repeat:"expr","repeat-expr":"_root.last_frame+1"}]},title:{seq:[{id:"title_len",type:"u4"},{id:"title",type:"str",encoding:"cp1251",size:"title_len"}]},xml:{seq:[{id:"xml_len",type:"u4"},{id:"xml",type:"str",encoding:"UTF-16LE",size:"xml_len"}]},version:{seq:[{id:"minor",type:"u1"},{id:"major",type:"u1"}]},frame:{seq:[{id:"size",type:"u4",doc:"h_sz"},{id:"main",type:"frame_main",size:"size - 4"}],enums:{frame_type:{0:"scanned",1:"spectroscopy",3:"text",105:"old_mda",106:"mda",107:"palette",190:"curves_new",201:"curves"}},types:{date_time:{seq:[{id:"date",type:"date"},{id:"time",type:"time"}],types:{date:{seq:[{id:"year",type:"u2",doc:"h_yea"},{id:"month",type:"u2",doc:"h_mon"},{id:"day",type:"u2",doc:"h_day"}]},time:{seq:[{id:"hour",type:"u2",doc:"h_h"},{id:"min",type:"u2",doc:"h_m"},{id:"sec",type:"u2",doc:"h_s"}]}}},frame_main:{seq:[{id:"type",type:"u2",enum:"frame_type",doc:"h_what"},{id:"version",type:"version"},{id:"date_time",type:"date_time"},{id:"var_size",type:"u2",doc:"h_am, v6 and older only"},{id:"frame_data","-orig-id":"dataframe","size-eos":!0,type:{"switch-on":"type",cases:{"frame_type::scanned":"fd_scanned","frame_type::mda":"fd_meta_data","frame_type::spectroscopy":"fd_spectroscopy","frame_type::curves":"fd_spectroscopy","frame_type::curves_new":"fd_curves_new"}},doc:""}]},dots:{seq:[{id:"fm_ndots",type:"u2"},{id:"coord_header","-orig-id":"coordheader",type:"dots_header",if:"fm_ndots > 0"},{id:"coordinates",type:"dots_data",repeat:"expr","repeat-expr":"fm_ndots"},{id:"data",type:"data_linez(_index)",repeat:"expr","repeat-expr":"fm_ndots"}],types:{dots_header:{seq:[{id:"header_size","-orig-id":"headersize",type:"s4"},{id:"header",size:"header_size",type:"header_"}],types:{header_:{seq:[{id:"coord_size","-orig-id":"coordsize",type:"s4"},{id:"version",type:"s4"},{id:"xyunits",type:"s2",enum:"unit"}]}}},dots_data:{seq:[{id:"coord_x",type:"f4"},{id:"coord_y",type:"f4"},{id:"forward_size",type:"s4"},{id:"backward_size",type:"s4"}]},data_linez:{params:[{id:"index",type:"u2"}],seq:[{id:"forward",type:"s2",repeat:"expr","repeat-expr":"_parent.coordinates[index].forward_size"},{id:"backward",type:"s2",repeat:"expr","repeat-expr":"_parent.coordinates[index].backward_size"}]}}},axis_scale:{seq:[{id:"offset",type:"f4",doc:"x_scale->offset = gwy_get_gfloat_le(&p);# r0 (physical units)"},{id:"step",type:"f4",doc:`x_scale->step = gwy_get_gfloat_le(&p); r (physical units) x_scale->step = fabs(x_scale->step); if (!x_scale->step) {
  g_warning("x_scale.step == 0, changing to 1");
  x_scale->step = 1.0;
}
`},{id:"unit",type:"s2",enum:"unit",doc:"U"}]},fd_curves_new:{seq:[{id:"block_count",type:"u4"},{id:"blocks_headers",type:"block_descr",repeat:"expr","repeat-expr":"block_count"},{id:"blocks_names",type:"str",encoding:"UTF-8",size:"blocks_headers[_index].name_len",repeat:"expr","repeat-expr":"block_count"},{id:"blocks_data",size:"blocks_headers[_index].len",repeat:"expr","repeat-expr":"block_count"}],types:{block_descr:{seq:[{id:"name_len",type:"u4"},{id:"len",type:"u4"}]}}},fd_spectroscopy:{seq:[{id:"vars",type:"vars",size:"_parent.var_size"},{id:"fm_mode",type:"u2"},{id:"fm_xres",type:"u2"},{id:"fm_yres",type:"u2"},{id:"dots",type:"dots"},{id:"data",type:"s2",repeat:"expr","repeat-expr":"fm_xres*fm_yres"},{id:"title",type:"title"},{id:"xml",type:"xml"}],types:{vars:{seq:[{id:"x_scale",type:"axis_scale"},{id:"y_scale",type:"axis_scale"},{id:"z_scale",type:"axis_scale"},{id:"sp_mode",type:"u2"},{id:"sp_filter",type:"u2"},{id:"u_begin",type:"f4"},{id:"u_end",type:"f4"},{id:"z_up",type:"s2"},{id:"z_down",type:"s2"},{id:"sp_averaging",type:"u2"},{id:"sp_repeat",type:"u1"},{id:"sp_back",type:"u1"},{id:"sp_4nx",type:"s2"},{id:"sp_osc",type:"u1"},{id:"sp_n4",type:"u1"},{id:"sp_4x0",type:"f4"},{id:"sp_4xr",type:"f4"},{id:"sp_4u",type:"s2"},{id:"sp_4i",type:"s2"},{id:"sp_nx",type:"s2"}]}}},fd_meta_data:{seq:[{id:"head_size",type:"u4"},{id:"tot_len",type:"u4"},{id:"guids",type:"uuid",repeat:"expr","repeat-expr":2},{id:"frame_status",size:4},{id:"name_size",type:"u4"},{id:"comm_size",type:"u4"},{id:"view_info_size",type:"u4"},{id:"spec_size",type:"u4"},{id:"source_info_size",type:"u4"},{id:"var_size",type:"u4"},{id:"data_offset",type:"u4"},{id:"data_size",type:"u4"},{id:"title",type:"str",size:"name_size",encoding:"UTF-8"},{id:"xml",type:"str",size:"comm_size",encoding:"UTF-8"},{id:"struct_len",type:"u4"},{id:"array_size",type:"u8"},{id:"cell_size",type:"u4"},{id:"n_dimensions",type:"u4"},{id:"n_mesurands",type:"u4"},{id:"dimensions",type:"calibration",repeat:"expr","repeat-expr":"n_dimensions"},{id:"mesurands",type:"calibration",repeat:"expr","repeat-expr":"n_mesurands"}],instances:{image:{pos:"data_offset",type:"image",size:"data_size"}},types:{image:{seq:[{id:"image",type:"vec",repeat:"eos"}],types:{vec:{seq:[{id:"items",type:{"switch-on":"_parent._parent.mesurands[_index].data_type",cases:{"data_type::uint8":"u1","data_type::uint16":"u2","data_type::uint32":"u4","data_type::uint64":"u8","data_type::int8":"s1","data_type::int16":"s2","data_type::int32":"s4","data_type::int64":"s8","data_type::float32":"f4","data_type::float64":"f8"}},repeat:"expr","repeat-expr":"_parent._parent.n_mesurands"}]}}},calibration:{seq:[{id:"len_tot",type:"u4"},{id:"len_struct",type:"u4"},{id:"len_name",type:"u4"},{id:"len_comment",type:"u4"},{id:"len_unit",type:"u4"},{id:"si_unit",type:"u8"},{id:"accuracy",type:"f8"},{id:"function_id_and_dimensions",type:"u8"},{id:"bias",type:"f8"},{id:"scale",type:"f8"},{id:"min_index",type:"u8"},{id:"max_index",type:"u8"},{id:"data_type",type:"s4",enum:"data_type"},{id:"len_author",type:"u4"},{id:"name",type:"str",encoding:"utf-8",size:"len_name"},{id:"comment",type:"str",encoding:"utf-8",size:"len_comment"},{id:"unit",type:"str",encoding:"utf-8",size:"len_unit"},{id:"author",type:"str",encoding:"utf-8",size:"len_author"}],instances:{count:{"-orig-id":"nx, ny and nz",value:"max_index - min_index + 1"}}}}},fd_scanned:{seq:[{id:"vars",type:"vars",size:"_parent.var_size"},{id:"orig_format",type:"u4",doc:"s_oem",if:!1},{id:"tune",type:"u4",enum:"lift_mode",doc:"z_tune",if:!1},{id:"feedback_gain",type:"f8",doc:"s_fbg",if:!1},{id:"dac_scale",type:"s4",doc:"s_s",if:!1},{id:"overscan",type:"s4",doc:"s_xov (in %)",if:!1},{id:"fm_mode",type:"u2",doc:"m_mode"},{id:"fm_xres",type:"u2",doc:"m_nx"},{id:"fm_yres",type:"u2",doc:"m_ny"},{id:"dots",type:"dots"},{id:"image",type:"s2",repeat:"expr","repeat-expr":"fm_xres * fm_yres"},{id:"title",type:"title"},{id:"xml",type:"xml"}],types:{vars:{seq:[{id:"x_scale",type:"axis_scale"},{id:"y_scale",type:"axis_scale"},{id:"z_scale",type:"axis_scale"},{id:"channel_index",type:"u1",enum:"adc_mode",doc:"s_mode"},{id:"mode",type:"u1",enum:"mode",doc:"s_dev"},{id:"xres",type:"u2",doc:"s_nx"},{id:"yres",type:"u2",doc:"s_ny"},{id:"ndacq",type:"u2",doc:"Step (DAC)"},{id:"step_length",type:"f4",doc:"s_rs in Angstrom's (Angstrom*gwy_get_gfloat_le(&p))"},{id:"adt",type:"u2",doc:"s_adt"},{id:"adc_gain_amp_log10",type:"u1",doc:"s_adc_a"},{id:"adc_index",type:"u1",doc:"ADC index"},{id:"input_signal_or_version",type:"u1",doc:"MDTInputSignal smp_in; s_smp_in (for signal) s_8xx (for version)"},{id:"substr_plane_order_or_pass_num",type:"u1",doc:"s_spl or z_03"},{id:"scan_dir",type:"scan_dir",doc:"s_xy TODO: interpretation"},{id:"power_of_2",type:"u1",doc:"s_2n (bool)"},{id:"velocity",type:"f4",doc:"s_vel (Angstrom/second)"},{id:"setpoint",type:"f4",doc:"s_i0"},{id:"bias_voltage",type:"f4",doc:"s_ut"},{id:"draw",type:"u1",doc:"s_draw (bool)"},{id:"reserved",type:"u1"},{id:"xoff",type:"s4",doc:"s_x00 (in DAC quants)"},{id:"yoff",type:"s4",doc:"s_y00 (in DAC quants)"},{id:"nl_corr",type:"u1",doc:"s_cor (bool)"}]},dot:{seq:[{id:"x",type:"s2"},{id:"y",type:"s2"}]},scan_dir:{seq:[{id:"unkn",type:"b4"},{id:"double_pass",type:"b1"},{id:"bottom",type:"b1",doc:"Bottom - 1 Top - 0"},{id:"left",type:"b1",doc:"Left - 1 Right - 0"},{id:"horizontal",type:"b1",doc:"Horizontal - 1 Vertical - 0"}]}},enums:{mode:{0:"stm",1:"afm",2:"unknown2",3:"unknown3",4:"unknown4"},input_signal:{0:"extension_slot",1:"bias_v",2:"ground"},lift_mode:{0:"step",1:"fine",2:"slope"}}}}}},enums:{spm_technique:{0:"contact_mode",1:"semicontact_mode",2:"tunnel_current",3:"snom"},data_type:{0:"unknown0",1:"uint8",2:"uint16",4:"uint32",8:"uint64","-1":"int8","-2":"int16","-4":"int32","-8":"int64","-5892":"float32","-9990":"float48","-13320":"float64","-16138":"float80","-65544":"floatfix"},xml_scan_location:{0:"hlt",1:"hlb",2:"hrt",3:"hrb",4:"vlt",5:"vlb",6:"vrt",7:"vrb"},xml_param_type:{0:"none",1:"laser_wavelength",2:"units",255:"data_array"},spm_mode:{0:"constant_force",1:"contact_constant_height",2:"contact_error",3:"lateral_force",4:"force_modulation",5:"spreading_resistance_imaging",6:"semicontact_topography",7:"semicontact_error",8:"phase_contrast",9:"ac_magnetic_force",10:"dc_magnetic_force",11:"electrostatic_force",12:"capacitance_contrast",13:"kelvin_probe",14:"constant_current",15:"barrier_height",16:"constant_height",17:"afam",18:"contact_efm",19:"shear_force_topography",20:"sfom",21:"contact_capacitance",22:"snom_transmission",23:"snom_reflection",24:"snom_all",25:"snom"},adc_mode:{0:"height",1:"dfl",2:"lateral_f",3:"bias_v",4:"current",5:"fb_out",6:"mag",7:"mag_sin",8:"mag_cos",9:"rms",10:"calc_mag",11:"phase1",12:"phase2",13:"calc_phase",14:"ex1",15:"ex2",16:"hv_x",17:"hv_y",18:"snap_back",255:"off"},consts:{8:"frame_mode_size",22:"frame_header_size",30:"axis_scales_size",32:"file_header_size",38:"spectro_vars_min_size",77:"scan_vars_min_size"},unit:{0:"angstrom",1:"nano_ampere",2:"volt",3:"none",4:"kilo_hertz",5:"degrees",6:"percent",7:"celsius_degree",8:"volt_high",9:"second",10:"milli_second",11:"micro_second",12:"nano_second",13:"counts",14:"pixels",15:"reserved_sfom0",16:"reserved_sfom1",17:"reserved_sfom2",18:"reserved_sfom3",19:"reserved_sfom4",20:"ampere2",21:"milli_ampere",22:"micro_ampere",23:"nano_ampere2",24:"pico_ampere",25:"volt2",26:"milli_volt",27:"micro_volt",28:"nano_volt",29:"pico_volt",30:"newton",31:"milli_newton",32:"micro_newton",33:"nano_newton",34:"pico_newton",35:"reserved_dos0",36:"reserved_dos1",37:"reserved_dos2",38:"reserved_dos3",39:"reserved_dos4","-10":"raman_shift","-9":"reserved0","-8":"reserved1","-7":"reserved2","-6":"reserved3","-5":"meter","-4":"centi_meter","-3":"milli_meter","-2":"micro_meter","-1":"nano_meter"}}}};export{U as default,F as spec};
