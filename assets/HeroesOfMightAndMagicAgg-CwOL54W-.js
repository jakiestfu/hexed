import{k as d}from"./index-COmSdSC_.js";var g=Object.getOwnPropertyNames,p=(s,i)=>function(){return i||(0,s[g(s)[0]])((i={exports:{}}).exports,i),i.exports},u=p({"<stdin>"(s){(function(i,o){typeof define=="function"&&define.amd?define(["exports","kaitai-struct/KaitaiStream"],o):typeof s=="object"&&s!==null&&typeof s.nodeType!="number"?o(s,d.KaitaiStream):o(i.HeroesOfMightAndMagicAgg||(i.HeroesOfMightAndMagicAgg={}),i.KaitaiStream)})(typeof self<"u"?self:s,function(i,o){var n=(function(){function h(e,t,_){this._io=e,this._parent=t,this._root=_||this,this._debug={},this._read()}h.prototype._read=function(){this._debug.numFiles={start:this._io.pos,ioOffset:this._io.byteOffset},this.numFiles=this._io.readU2le(),this._debug.numFiles.end=this._io.pos,this._debug.entries={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.entries.arr=[],this.entries=[];for(var e=0;e<this.numFiles;e++)this._debug.entries.arr[e]={start:this._io.pos,ioOffset:this._io.byteOffset},this.entries.push(new f(this._io,this,this._root)),this._debug.entries.arr[e].end=this._io.pos;this._debug.entries.end=this._io.pos};var f=h.Entry=(function(){function e(t,_,r){this._io=t,this._parent=_,this._root=r,this._debug={},this._read()}return e.prototype._read=function(){this._debug.hash={start:this._io.pos,ioOffset:this._io.byteOffset},this.hash=this._io.readU2le(),this._debug.hash.end=this._io.pos,this._debug.offset={start:this._io.pos,ioOffset:this._io.byteOffset},this.offset=this._io.readU4le(),this._debug.offset.end=this._io.pos,this._debug.size={start:this._io.pos,ioOffset:this._io.byteOffset},this.size=this._io.readU4le(),this._debug.size.end=this._io.pos,this._debug.size2={start:this._io.pos,ioOffset:this._io.byteOffset},this.size2=this._io.readU4le(),this._debug.size2.end=this._io.pos},Object.defineProperty(e.prototype,"body",{get:function(){if(this._m_body!==void 0)return this._m_body;var t=this._io.pos;return this._io.seek(this.offset),this._debug._m_body={start:this._io.pos,ioOffset:this._io.byteOffset},this._m_body=this._io.readBytes(this.size),this._debug._m_body.end=this._io.pos,this._io.seek(t),this._m_body}}),e})(),a=h.Filename=(function(){function e(t,_,r){this._io=t,this._parent=_,this._root=r,this._debug={},this._read()}return e.prototype._read=function(){this._debug.str={start:this._io.pos,ioOffset:this._io.byteOffset},this.str=o.bytesToStr(this._io.readBytesTerm(0,!1,!0,!0),"ASCII"),this._debug.str.end=this._io.pos},e})();return Object.defineProperty(h.prototype,"filenames",{get:function(){if(this._m_filenames!==void 0)return this._m_filenames;var e=this._io.pos;this._io.seek(this.entries[this.entries.length-1].offset+this.entries[this.entries.length-1].size),this._debug._m_filenames={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug._m_filenames.arr=[],this._raw__m_filenames=[],this._m_filenames=[];for(var t=0;t<this.numFiles;t++){this._debug._m_filenames.arr[t]={start:this._io.pos,ioOffset:this._io.byteOffset},this._raw__m_filenames.push(this._io.readBytes(15));var _=new o(this._raw__m_filenames[t]);this._m_filenames.push(new a(_,this,this._root)),this._debug._m_filenames.arr[t].end=this._io.pos}return this._debug._m_filenames.end=this._io.pos,this._io.seek(e),this._m_filenames}}),h})();i.HeroesOfMightAndMagicAgg=n})}});const b=u(),l={id:"heroes_of_might_and_magic_agg",title:"heroes_of_might_and_magic_agg",ksy:{meta:{id:"heroes_of_might_and_magic_agg",application:"Heroes of Might and Magic","file-extension":"agg",license:"CC0-1.0",endian:"le"},"doc-ref":"https://web.archive.org/web/20170215190034/http://rewiki.regengedanken.de/wiki/.AGG_(Heroes_of_Might_and_Magic)",seq:[{id:"num_files",type:"u2"},{id:"entries",type:"entry",repeat:"expr","repeat-expr":"num_files"}],types:{entry:{seq:[{id:"hash",type:"u2"},{id:"offset",type:"u4"},{id:"size",type:"u4"},{id:"size2",type:"u4"}],instances:{body:{pos:"offset",size:"size"}}},filename:{seq:[{id:"str",type:"strz",encoding:"ASCII"}]}},instances:{filenames:{pos:"entries.last.offset + entries.last.size",size:15,type:"filename",repeat:"expr","repeat-expr":"num_files"}}}};export{b as default,l as spec};
