var b=(h,i)=>()=>(i||h((i={exports:{}}).exports,i),i.exports);var p=b(r=>{(function(h,i){typeof define=="function"&&define.amd?define(["exports","kaitai-struct/KaitaiStream"],i):typeof r=="object"&&r!==null&&typeof r.nodeType!="number"?i(r,require("kaitai-struct/KaitaiStream")):i(h.Pcx||(h.Pcx={}),h.KaitaiStream)})(typeof self<"u"?self:void 0,function(h,i){var d=(function(){o.Encodings=Object.freeze({RLE:1,1:"RLE"}),o.Versions=Object.freeze({V2_5:0,V2_8_WITH_PALETTE:2,V2_8_WITHOUT_PALETTE:3,PAINTBRUSH_FOR_WINDOWS:4,V3_0:5,0:"V2_5",2:"V2_8_WITH_PALETTE",3:"V2_8_WITHOUT_PALETTE",4:"PAINTBRUSH_FOR_WINDOWS",5:"V3_0"});function o(s,t,e){this._io=s,this._parent=t,this._root=e||this,this._debug={},this._read()}o.prototype._read=function(){this._debug.hdr={start:this._io.pos,ioOffset:this._io.byteOffset},this._raw_hdr=this._io.readBytes(128);var s=new i(this._raw_hdr);this.hdr=new n(s,this,this._root),this._debug.hdr.end=this._io.pos};var n=o.Header=(function(){function s(t,e,_){this._io=t,this._parent=e,this._root=_,this._debug={},this._read()}return s.prototype._read=function(){if(this._debug.magic={start:this._io.pos,ioOffset:this._io.byteOffset},this.magic=this._io.readBytes(1),this._debug.magic.end=this._io.pos,i.byteArrayCompare(this.magic,new Uint8Array([10]))!=0){var t=new i.ValidationNotEqualError(new Uint8Array([10]),this.magic,this._io,"/types/header/seq/0");throw this._debug.magic.validationError=t,t}if(this._debug.version={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"Pcx.Versions"},this.version=this._io.readU1(),this._debug.version.end=this._io.pos,this._debug.encoding={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"Pcx.Encodings"},this.encoding=this._io.readU1(),this._debug.encoding.end=this._io.pos,this._debug.bitsPerPixel={start:this._io.pos,ioOffset:this._io.byteOffset},this.bitsPerPixel=this._io.readU1(),this._debug.bitsPerPixel.end=this._io.pos,this._debug.imgXMin={start:this._io.pos,ioOffset:this._io.byteOffset},this.imgXMin=this._io.readU2le(),this._debug.imgXMin.end=this._io.pos,this._debug.imgYMin={start:this._io.pos,ioOffset:this._io.byteOffset},this.imgYMin=this._io.readU2le(),this._debug.imgYMin.end=this._io.pos,this._debug.imgXMax={start:this._io.pos,ioOffset:this._io.byteOffset},this.imgXMax=this._io.readU2le(),this._debug.imgXMax.end=this._io.pos,this._debug.imgYMax={start:this._io.pos,ioOffset:this._io.byteOffset},this.imgYMax=this._io.readU2le(),this._debug.imgYMax.end=this._io.pos,this._debug.hdpi={start:this._io.pos,ioOffset:this._io.byteOffset},this.hdpi=this._io.readU2le(),this._debug.hdpi.end=this._io.pos,this._debug.vdpi={start:this._io.pos,ioOffset:this._io.byteOffset},this.vdpi=this._io.readU2le(),this._debug.vdpi.end=this._io.pos,this._debug.palette16={start:this._io.pos,ioOffset:this._io.byteOffset},this.palette16=this._io.readBytes(48),this._debug.palette16.end=this._io.pos,this._debug.reserved={start:this._io.pos,ioOffset:this._io.byteOffset},this.reserved=this._io.readBytes(1),this._debug.reserved.end=this._io.pos,i.byteArrayCompare(this.reserved,new Uint8Array([0]))!=0){var t=new i.ValidationNotEqualError(new Uint8Array([0]),this.reserved,this._io,"/types/header/seq/11");throw this._debug.reserved.validationError=t,t}this._debug.numPlanes={start:this._io.pos,ioOffset:this._io.byteOffset},this.numPlanes=this._io.readU1(),this._debug.numPlanes.end=this._io.pos,this._debug.bytesPerLine={start:this._io.pos,ioOffset:this._io.byteOffset},this.bytesPerLine=this._io.readU2le(),this._debug.bytesPerLine.end=this._io.pos,this._debug.paletteInfo={start:this._io.pos,ioOffset:this._io.byteOffset},this.paletteInfo=this._io.readU2le(),this._debug.paletteInfo.end=this._io.pos,this._debug.hScreenSize={start:this._io.pos,ioOffset:this._io.byteOffset},this.hScreenSize=this._io.readU2le(),this._debug.hScreenSize.end=this._io.pos,this._debug.vScreenSize={start:this._io.pos,ioOffset:this._io.byteOffset},this.vScreenSize=this._io.readU2le(),this._debug.vScreenSize.end=this._io.pos},s})(),f=o.Rgb=(function(){function s(t,e,_){this._io=t,this._parent=e,this._root=_,this._debug={},this._read()}return s.prototype._read=function(){this._debug.r={start:this._io.pos,ioOffset:this._io.byteOffset},this.r=this._io.readU1(),this._debug.r.end=this._io.pos,this._debug.g={start:this._io.pos,ioOffset:this._io.byteOffset},this.g=this._io.readU1(),this._debug.g.end=this._io.pos,this._debug.b={start:this._io.pos,ioOffset:this._io.byteOffset},this.b=this._io.readU1(),this._debug.b.end=this._io.pos},s})(),a=o.TPalette256=(function(){function s(t,e,_){this._io=t,this._parent=e,this._root=_,this._debug={},this._read()}return s.prototype._read=function(){if(this._debug.magic={start:this._io.pos,ioOffset:this._io.byteOffset},this.magic=this._io.readBytes(1),this._debug.magic.end=this._io.pos,i.byteArrayCompare(this.magic,new Uint8Array([12]))!=0){var t=new i.ValidationNotEqualError(new Uint8Array([12]),this.magic,this._io,"/types/t_palette_256/seq/0");throw this._debug.magic.validationError=t,t}this._debug.colors={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.colors.arr=[],this.colors=[];for(var e=0;e<256;e++)this._debug.colors.arr[e]={start:this._io.pos,ioOffset:this._io.byteOffset},this.colors.push(new f(this._io,this,this._root)),this._debug.colors.arr[e].end=this._io.pos;this._debug.colors.end=this._io.pos},s})();return Object.defineProperty(o.prototype,"palette256",{get:function(){if(this._m_palette256!==void 0)return this._m_palette256;if(this.hdr.version==o.Versions.V3_0&&this.hdr.bitsPerPixel==8&&this.hdr.numPlanes==1){var s=this._io.pos;this._io.seek(this._io.size-769),this._debug._m_palette256={start:this._io.pos,ioOffset:this._io.byteOffset},this._m_palette256=new a(this._io,this,this._root),this._debug._m_palette256.end=this._io.pos,this._io.seek(s)}return this._m_palette256}}),o})();h.Pcx=d})});export default p();
