import{k as B}from"./index-DZ3xxA7Z.js";var z=Object.getOwnPropertyNames,q=(f,d)=>function(){return d||(0,f[z(f)[0]])((d={exports:{}}).exports,d),d.exports},D=q({"<stdin>"(f){(function(d,_){typeof define=="function"&&define.amd?define(["exports","kaitai-struct/KaitaiStream"],_):typeof f=="object"&&f!==null&&typeof f.nodeType!="number"?_(f,B.KaitaiStream):_(d.Mcap||(d.Mcap={}),d.KaitaiStream)})(typeof self<"u"?self:f,function(d,_){var g=(function(){o.Opcode=Object.freeze({HEADER:1,FOOTER:2,SCHEMA:3,CHANNEL:4,MESSAGE:5,CHUNK:6,MESSAGE_INDEX:7,CHUNK_INDEX:8,ATTACHMENT:9,ATTACHMENT_INDEX:10,STATISTICS:11,METADATA:12,METADATA_INDEX:13,SUMMARY_OFFSET:14,DATA_END:15,1:"HEADER",2:"FOOTER",3:"SCHEMA",4:"CHANNEL",5:"MESSAGE",6:"CHUNK",7:"MESSAGE_INDEX",8:"CHUNK_INDEX",9:"ATTACHMENT",10:"ATTACHMENT_INDEX",11:"STATISTICS",12:"METADATA",13:"METADATA_INDEX",14:"SUMMARY_OFFSET",15:"DATA_END"});function o(e,t,i){this._io=e,this._parent=t,this._root=i||this,this._debug={},this._read()}o.prototype._read=function(){this._debug.headerMagic={start:this._io.pos,ioOffset:this._io.byteOffset},this.headerMagic=new c(this._io,this,this._root),this._debug.headerMagic.end=this._io.pos,this._debug.records={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.records.arr=[],this.records=[];do{this._debug.records.arr[this.records.length]={start:this._io.pos,ioOffset:this._io.byteOffset};var e=new u(this._io,this,this._root);this.records.push(e),this._debug.records.arr[this.records.length-1].end=this._io.pos}while(e.op!=o.Opcode.FOOTER);this._debug.records.end=this._io.pos,this._debug.footerMagic={start:this._io.pos,ioOffset:this._io.byteOffset},this.footerMagic=new c(this._io,this,this._root),this._debug.footerMagic.end=this._io.pos};var y=o.Attachment=(function(){function e(t,i,s){this._io=t,this._parent=i,this._root=s,this._debug={},this._read()}return e.prototype._read=function(){this._debug.logTime={start:this._io.pos,ioOffset:this._io.byteOffset},this.logTime=this._io.readU8le(),this._debug.logTime.end=this._io.pos,this._debug.createTime={start:this._io.pos,ioOffset:this._io.byteOffset},this.createTime=this._io.readU8le(),this._debug.createTime.end=this._io.pos,this._debug.name={start:this._io.pos,ioOffset:this._io.byteOffset},this.name=new n(this._io,this,this._root),this._debug.name.end=this._io.pos,this._debug.contentType={start:this._io.pos,ioOffset:this._io.byteOffset},this.contentType=new n(this._io,this,this._root),this._debug.contentType.end=this._io.pos,this._debug.lenData={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenData=this._io.readU8le(),this._debug.lenData.end=this._io.pos,this._debug.data={start:this._io.pos,ioOffset:this._io.byteOffset},this.data=this._io.readBytes(this.lenData),this._debug.data.end=this._io.pos,this.crc32InputEnd>=0&&(this._debug.invokeCrc32InputEnd={start:this._io.pos,ioOffset:this._io.byteOffset},this.invokeCrc32InputEnd=this._io.readBytes(0),this._debug.invokeCrc32InputEnd.end=this._io.pos),this._debug.crc32={start:this._io.pos,ioOffset:this._io.byteOffset},this.crc32=this._io.readU4le(),this._debug.crc32.end=this._io.pos},Object.defineProperty(e.prototype,"crc32Input",{get:function(){if(this._m_crc32Input!==void 0)return this._m_crc32Input;var t=this._io.pos;return this._io.seek(0),this._debug._m_crc32Input={start:this._io.pos,ioOffset:this._io.byteOffset},this._m_crc32Input=this._io.readBytes(this.crc32InputEnd),this._debug._m_crc32Input.end=this._io.pos,this._io.seek(t),this._m_crc32Input}}),Object.defineProperty(e.prototype,"crc32InputEnd",{get:function(){return this._m_crc32InputEnd!==void 0?this._m_crc32InputEnd:(this._debug._m_crc32InputEnd={},this._m_crc32InputEnd=this._io.pos,this._m_crc32InputEnd)}}),e})(),b=o.AttachmentIndex=(function(){function e(t,i,s){this._io=t,this._parent=i,this._root=s,this._debug={},this._read()}return e.prototype._read=function(){this._debug.ofsAttachment={start:this._io.pos,ioOffset:this._io.byteOffset},this.ofsAttachment=this._io.readU8le(),this._debug.ofsAttachment.end=this._io.pos,this._debug.lenAttachment={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenAttachment=this._io.readU8le(),this._debug.lenAttachment.end=this._io.pos,this._debug.logTime={start:this._io.pos,ioOffset:this._io.byteOffset},this.logTime=this._io.readU8le(),this._debug.logTime.end=this._io.pos,this._debug.createTime={start:this._io.pos,ioOffset:this._io.byteOffset},this.createTime=this._io.readU8le(),this._debug.createTime.end=this._io.pos,this._debug.dataSize={start:this._io.pos,ioOffset:this._io.byteOffset},this.dataSize=this._io.readU8le(),this._debug.dataSize.end=this._io.pos,this._debug.name={start:this._io.pos,ioOffset:this._io.byteOffset},this.name=new n(this._io,this,this._root),this._debug.name.end=this._io.pos,this._debug.contentType={start:this._io.pos,ioOffset:this._io.byteOffset},this.contentType=new n(this._io,this,this._root),this._debug.contentType.end=this._io.pos},Object.defineProperty(e.prototype,"attachment",{get:function(){if(this._m_attachment!==void 0)return this._m_attachment;var t=this._root._io,i=t.pos;t.seek(this.ofsAttachment),this._debug._m_attachment={start:t.pos,ioOffset:t.byteOffset},this._raw__m_attachment=t.readBytes(this.lenAttachment);var s=new _(this._raw__m_attachment);return this._m_attachment=new u(s,this,this._root),this._debug._m_attachment.end=t.pos,t.seek(i),this._m_attachment}}),e})(),l=o.Channel=(function(){function e(t,i,s){this._io=t,this._parent=i,this._root=s,this._debug={},this._read()}return e.prototype._read=function(){this._debug.id={start:this._io.pos,ioOffset:this._io.byteOffset},this.id=this._io.readU2le(),this._debug.id.end=this._io.pos,this._debug.schemaId={start:this._io.pos,ioOffset:this._io.byteOffset},this.schemaId=this._io.readU2le(),this._debug.schemaId.end=this._io.pos,this._debug.topic={start:this._io.pos,ioOffset:this._io.byteOffset},this.topic=new n(this._io,this,this._root),this._debug.topic.end=this._io.pos,this._debug.messageEncoding={start:this._io.pos,ioOffset:this._io.byteOffset},this.messageEncoding=new n(this._io,this,this._root),this._debug.messageEncoding.end=this._io.pos,this._debug.metadata={start:this._io.pos,ioOffset:this._io.byteOffset},this.metadata=new m(this._io,this,this._root),this._debug.metadata.end=this._io.pos},e})(),O=o.Chunk=(function(){function e(t,i,s){this._io=t,this._parent=i,this._root=s,this._debug={},this._read()}return e.prototype._read=function(){switch(this._debug.messageStartTime={start:this._io.pos,ioOffset:this._io.byteOffset},this.messageStartTime=this._io.readU8le(),this._debug.messageStartTime.end=this._io.pos,this._debug.messageEndTime={start:this._io.pos,ioOffset:this._io.byteOffset},this.messageEndTime=this._io.readU8le(),this._debug.messageEndTime.end=this._io.pos,this._debug.uncompressedSize={start:this._io.pos,ioOffset:this._io.byteOffset},this.uncompressedSize=this._io.readU8le(),this._debug.uncompressedSize.end=this._io.pos,this._debug.uncompressedCrc32={start:this._io.pos,ioOffset:this._io.byteOffset},this.uncompressedCrc32=this._io.readU4le(),this._debug.uncompressedCrc32.end=this._io.pos,this._debug.compression={start:this._io.pos,ioOffset:this._io.byteOffset},this.compression=new n(this._io,this,this._root),this._debug.compression.end=this._io.pos,this._debug.lenRecords={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenRecords=this._io.readU8le(),this._debug.lenRecords.end=this._io.pos,this._debug.records={start:this._io.pos,ioOffset:this._io.byteOffset},this.compression.str){case"":this._raw_records=this._io.readBytes(this.lenRecords);var t=new _(this._raw_records);this.records=new p(t,this,this._root);break;default:this.records=this._io.readBytes(this.lenRecords);break}this._debug.records.end=this._io.pos},e})(),w=o.ChunkIndex=(function(){function e(s,h,r){this._io=s,this._parent=h,this._root=r,this._debug={},this._read()}e.prototype._read=function(){this._debug.messageStartTime={start:this._io.pos,ioOffset:this._io.byteOffset},this.messageStartTime=this._io.readU8le(),this._debug.messageStartTime.end=this._io.pos,this._debug.messageEndTime={start:this._io.pos,ioOffset:this._io.byteOffset},this.messageEndTime=this._io.readU8le(),this._debug.messageEndTime.end=this._io.pos,this._debug.ofsChunk={start:this._io.pos,ioOffset:this._io.byteOffset},this.ofsChunk=this._io.readU8le(),this._debug.ofsChunk.end=this._io.pos,this._debug.lenChunk={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenChunk=this._io.readU8le(),this._debug.lenChunk.end=this._io.pos,this._debug.lenMessageIndexOffsets={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenMessageIndexOffsets=this._io.readU4le(),this._debug.lenMessageIndexOffsets.end=this._io.pos,this._debug.messageIndexOffsets={start:this._io.pos,ioOffset:this._io.byteOffset},this._raw_messageIndexOffsets=this._io.readBytes(this.lenMessageIndexOffsets);var s=new _(this._raw_messageIndexOffsets);this.messageIndexOffsets=new i(s,this,this._root),this._debug.messageIndexOffsets.end=this._io.pos,this._debug.messageIndexLength={start:this._io.pos,ioOffset:this._io.byteOffset},this.messageIndexLength=this._io.readU8le(),this._debug.messageIndexLength.end=this._io.pos,this._debug.compression={start:this._io.pos,ioOffset:this._io.byteOffset},this.compression=new n(this._io,this,this._root),this._debug.compression.end=this._io.pos,this._debug.compressedSize={start:this._io.pos,ioOffset:this._io.byteOffset},this.compressedSize=this._io.readU8le(),this._debug.compressedSize.end=this._io.pos,this._debug.uncompressedSize={start:this._io.pos,ioOffset:this._io.byteOffset},this.uncompressedSize=this._io.readU8le(),this._debug.uncompressedSize.end=this._io.pos};var t=e.MessageIndexOffset=(function(){function s(h,r,a){this._io=h,this._parent=r,this._root=a,this._debug={},this._read()}return s.prototype._read=function(){this._debug.channelId={start:this._io.pos,ioOffset:this._io.byteOffset},this.channelId=this._io.readU2le(),this._debug.channelId.end=this._io.pos,this._debug.offset={start:this._io.pos,ioOffset:this._io.byteOffset},this.offset=this._io.readU8le(),this._debug.offset.end=this._io.pos},s})(),i=e.MessageIndexOffsets=(function(){function s(h,r,a){this._io=h,this._parent=r,this._root=a,this._debug={},this._read()}return s.prototype._read=function(){for(this._debug.entries={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.entries.arr=[],this.entries=[];!this._io.isEof();)this._debug.entries.arr[this.entries.length]={start:this._io.pos,ioOffset:this._io.byteOffset},this.entries.push(new t(this._io,this,this._root)),this._debug.entries.arr[this.entries.length-1].end=this._io.pos;this._debug.entries.end=this._io.pos},s})();return Object.defineProperty(e.prototype,"chunk",{get:function(){if(this._m_chunk!==void 0)return this._m_chunk;var s=this._root._io,h=s.pos;s.seek(this.ofsChunk),this._debug._m_chunk={start:s.pos,ioOffset:s.byteOffset},this._raw__m_chunk=s.readBytes(this.lenChunk);var r=new _(this._raw__m_chunk);return this._m_chunk=new u(r,this,this._root),this._debug._m_chunk.end=s.pos,s.seek(h),this._m_chunk}}),e})(),C=o.DataEnd=(function(){function e(t,i,s){this._io=t,this._parent=i,this._root=s,this._debug={},this._read()}return e.prototype._read=function(){this._debug.dataSectionCrc32={start:this._io.pos,ioOffset:this._io.byteOffset},this.dataSectionCrc32=this._io.readU4le(),this._debug.dataSectionCrc32.end=this._io.pos},e})(),S=o.Footer=(function(){function e(t,i,s){this._io=t,this._parent=i,this._root=s,this._debug={},this._read()}return e.prototype._read=function(){this._debug.ofsSummarySection={start:this._io.pos,ioOffset:this._io.byteOffset},this.ofsSummarySection=this._io.readU8le(),this._debug.ofsSummarySection.end=this._io.pos,this._debug.ofsSummaryOffsetSection={start:this._io.pos,ioOffset:this._io.byteOffset},this.ofsSummaryOffsetSection=this._io.readU8le(),this._debug.ofsSummaryOffsetSection.end=this._io.pos,this._debug.summaryCrc32={start:this._io.pos,ioOffset:this._io.byteOffset},this.summaryCrc32=this._io.readU4le(),this._debug.summaryCrc32.end=this._io.pos},Object.defineProperty(e.prototype,"ofsSummaryCrc32Input",{get:function(){return this._m_ofsSummaryCrc32Input!==void 0?this._m_ofsSummaryCrc32Input:(this._debug._m_ofsSummaryCrc32Input={},this._m_ofsSummaryCrc32Input=this.ofsSummarySection!=0?this.ofsSummarySection:this._root.ofsFooter,this._m_ofsSummaryCrc32Input)}}),Object.defineProperty(e.prototype,"summaryCrc32Input",{get:function(){if(this._m_summaryCrc32Input!==void 0)return this._m_summaryCrc32Input;var t=this._root._io,i=t.pos;return t.seek(this.ofsSummaryCrc32Input),this._debug._m_summaryCrc32Input={start:t.pos,ioOffset:t.byteOffset},this._m_summaryCrc32Input=t.readBytes(this._root._io.size-this.ofsSummaryCrc32Input-8-4),this._debug._m_summaryCrc32Input.end=t.pos,t.seek(i),this._m_summaryCrc32Input}}),Object.defineProperty(e.prototype,"summaryOffsetSection",{get:function(){if(this._m_summaryOffsetSection!==void 0)return this._m_summaryOffsetSection;if(this.ofsSummaryOffsetSection!=0){var t=this._root._io,i=t.pos;t.seek(this.ofsSummaryOffsetSection),this._debug._m_summaryOffsetSection={start:t.pos,ioOffset:t.byteOffset},this._raw__m_summaryOffsetSection=t.readBytes(this._root.ofsFooter-this.ofsSummaryOffsetSection);var s=new _(this._raw__m_summaryOffsetSection);this._m_summaryOffsetSection=new p(s,this,this._root),this._debug._m_summaryOffsetSection.end=t.pos,t.seek(i)}return this._m_summaryOffsetSection}}),Object.defineProperty(e.prototype,"summarySection",{get:function(){if(this._m_summarySection!==void 0)return this._m_summarySection;if(this.ofsSummarySection!=0){var t=this._root._io,i=t.pos;t.seek(this.ofsSummarySection),this._debug._m_summarySection={start:t.pos,ioOffset:t.byteOffset},this._raw__m_summarySection=t.readBytes((this.ofsSummaryOffsetSection!=0?this.ofsSummaryOffsetSection:this._root.ofsFooter)-this.ofsSummarySection);var s=new _(this._raw__m_summarySection);this._m_summarySection=new p(s,this,this._root),this._debug._m_summarySection.end=t.pos,t.seek(i)}return this._m_summarySection}}),e})(),v=o.Header=(function(){function e(t,i,s){this._io=t,this._parent=i,this._root=s,this._debug={},this._read()}return e.prototype._read=function(){this._debug.profile={start:this._io.pos,ioOffset:this._io.byteOffset},this.profile=new n(this._io,this,this._root),this._debug.profile.end=this._io.pos,this._debug.library={start:this._io.pos,ioOffset:this._io.byteOffset},this.library=new n(this._io,this,this._root),this._debug.library.end=this._io.pos},e})(),c=o.Magic=(function(){function e(t,i,s){this._io=t,this._parent=i,this._root=s,this._debug={},this._read()}return e.prototype._read=function(){if(this._debug.magic={start:this._io.pos,ioOffset:this._io.byteOffset},this.magic=this._io.readBytes(8),this._debug.magic.end=this._io.pos,_.byteArrayCompare(this.magic,new Uint8Array([137,77,67,65,80,48,13,10]))!=0){var t=new _.ValidationNotEqualError(new Uint8Array([137,77,67,65,80,48,13,10]),this.magic,this._io,"/types/magic/seq/0");throw this._debug.magic.validationError=t,t}},e})(),m=o.MapStrStr=(function(){function e(i,s,h){this._io=i,this._parent=s,this._root=h,this._debug={},this._read()}e.prototype._read=function(){this._debug.lenEntries={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenEntries=this._io.readU4le(),this._debug.lenEntries.end=this._io.pos,this._debug.entries={start:this._io.pos,ioOffset:this._io.byteOffset},this._raw_entries=this._io.readBytes(this.lenEntries);var i=new _(this._raw_entries);this.entries=new t(i,this,this._root),this._debug.entries.end=this._io.pos};var t=e.Entries=(function(){function i(s,h,r){this._io=s,this._parent=h,this._root=r,this._debug={},this._read()}return i.prototype._read=function(){for(this._debug.entries={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.entries.arr=[],this.entries=[];!this._io.isEof();)this._debug.entries.arr[this.entries.length]={start:this._io.pos,ioOffset:this._io.byteOffset},this.entries.push(new U(this._io,this,this._root)),this._debug.entries.arr[this.entries.length-1].end=this._io.pos;this._debug.entries.end=this._io.pos},i})();return e})(),E=o.Message=(function(){function e(t,i,s){this._io=t,this._parent=i,this._root=s,this._debug={},this._read()}return e.prototype._read=function(){this._debug.channelId={start:this._io.pos,ioOffset:this._io.byteOffset},this.channelId=this._io.readU2le(),this._debug.channelId.end=this._io.pos,this._debug.sequence={start:this._io.pos,ioOffset:this._io.byteOffset},this.sequence=this._io.readU4le(),this._debug.sequence.end=this._io.pos,this._debug.logTime={start:this._io.pos,ioOffset:this._io.byteOffset},this.logTime=this._io.readU8le(),this._debug.logTime.end=this._io.pos,this._debug.publishTime={start:this._io.pos,ioOffset:this._io.byteOffset},this.publishTime=this._io.readU8le(),this._debug.publishTime.end=this._io.pos,this._debug.data={start:this._io.pos,ioOffset:this._io.byteOffset},this.data=this._io.readBytesFull(),this._debug.data.end=this._io.pos},e})(),I=o.MessageIndex=(function(){function e(s,h,r){this._io=s,this._parent=h,this._root=r,this._debug={},this._read()}e.prototype._read=function(){this._debug.channelId={start:this._io.pos,ioOffset:this._io.byteOffset},this.channelId=this._io.readU2le(),this._debug.channelId.end=this._io.pos,this._debug.lenRecords={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenRecords=this._io.readU4le(),this._debug.lenRecords.end=this._io.pos,this._debug.records={start:this._io.pos,ioOffset:this._io.byteOffset},this._raw_records=this._io.readBytes(this.lenRecords);var s=new _(this._raw_records);this.records=new t(s,this,this._root),this._debug.records.end=this._io.pos};var t=e.MessageIndexEntries=(function(){function s(h,r,a){this._io=h,this._parent=r,this._root=a,this._debug={},this._read()}return s.prototype._read=function(){for(this._debug.entries={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.entries.arr=[],this.entries=[];!this._io.isEof();)this._debug.entries.arr[this.entries.length]={start:this._io.pos,ioOffset:this._io.byteOffset},this.entries.push(new i(this._io,this,this._root)),this._debug.entries.arr[this.entries.length-1].end=this._io.pos;this._debug.entries.end=this._io.pos},s})(),i=e.MessageIndexEntry=(function(){function s(h,r,a){this._io=h,this._parent=r,this._root=a,this._debug={},this._read()}return s.prototype._read=function(){this._debug.logTime={start:this._io.pos,ioOffset:this._io.byteOffset},this.logTime=this._io.readU8le(),this._debug.logTime.end=this._io.pos,this._debug.offset={start:this._io.pos,ioOffset:this._io.byteOffset},this.offset=this._io.readU8le(),this._debug.offset.end=this._io.pos},s})();return e})(),M=o.Metadata=(function(){function e(t,i,s){this._io=t,this._parent=i,this._root=s,this._debug={},this._read()}return e.prototype._read=function(){this._debug.name={start:this._io.pos,ioOffset:this._io.byteOffset},this.name=new n(this._io,this,this._root),this._debug.name.end=this._io.pos,this._debug.metadata={start:this._io.pos,ioOffset:this._io.byteOffset},this.metadata=new m(this._io,this,this._root),this._debug.metadata.end=this._io.pos},e})(),T=o.MetadataIndex=(function(){function e(t,i,s){this._io=t,this._parent=i,this._root=s,this._debug={},this._read()}return e.prototype._read=function(){this._debug.ofsMetadata={start:this._io.pos,ioOffset:this._io.byteOffset},this.ofsMetadata=this._io.readU8le(),this._debug.ofsMetadata.end=this._io.pos,this._debug.lenMetadata={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenMetadata=this._io.readU8le(),this._debug.lenMetadata.end=this._io.pos,this._debug.name={start:this._io.pos,ioOffset:this._io.byteOffset},this.name=new n(this._io,this,this._root),this._debug.name.end=this._io.pos},Object.defineProperty(e.prototype,"metadata",{get:function(){if(this._m_metadata!==void 0)return this._m_metadata;var t=this._root._io,i=t.pos;t.seek(this.ofsMetadata),this._debug._m_metadata={start:t.pos,ioOffset:t.byteOffset},this._raw__m_metadata=t.readBytes(this.lenMetadata);var s=new _(this._raw__m_metadata);return this._m_metadata=new u(s,this,this._root),this._debug._m_metadata.end=t.pos,t.seek(i),this._m_metadata}}),e})(),n=o.PrefixedStr=(function(){function e(t,i,s){this._io=t,this._parent=i,this._root=s,this._debug={},this._read()}return e.prototype._read=function(){this._debug.lenStr={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenStr=this._io.readU4le(),this._debug.lenStr.end=this._io.pos,this._debug.str={start:this._io.pos,ioOffset:this._io.byteOffset},this.str=_.bytesToStr(this._io.readBytes(this.lenStr),"UTF-8"),this._debug.str.end=this._io.pos},e})(),u=o.Record=(function(){function e(t,i,s){this._io=t,this._parent=i,this._root=s,this._debug={},this._read()}return e.prototype._read=function(){switch(this._debug.op={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"Mcap.Opcode"},this.op=this._io.readU1(),this._debug.op.end=this._io.pos,this._debug.lenBody={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenBody=this._io.readU8le(),this._debug.lenBody.end=this._io.pos,this._debug.body={start:this._io.pos,ioOffset:this._io.byteOffset},this.op){case o.Opcode.ATTACHMENT:this._raw_body=this._io.readBytes(this.lenBody);var t=new _(this._raw_body);this.body=new y(t,this,this._root);break;case o.Opcode.ATTACHMENT_INDEX:this._raw_body=this._io.readBytes(this.lenBody);var t=new _(this._raw_body);this.body=new b(t,this,this._root);break;case o.Opcode.CHANNEL:this._raw_body=this._io.readBytes(this.lenBody);var t=new _(this._raw_body);this.body=new l(t,this,this._root);break;case o.Opcode.CHUNK:this._raw_body=this._io.readBytes(this.lenBody);var t=new _(this._raw_body);this.body=new O(t,this,this._root);break;case o.Opcode.CHUNK_INDEX:this._raw_body=this._io.readBytes(this.lenBody);var t=new _(this._raw_body);this.body=new w(t,this,this._root);break;case o.Opcode.DATA_END:this._raw_body=this._io.readBytes(this.lenBody);var t=new _(this._raw_body);this.body=new C(t,this,this._root);break;case o.Opcode.FOOTER:this._raw_body=this._io.readBytes(this.lenBody);var t=new _(this._raw_body);this.body=new S(t,this,this._root);break;case o.Opcode.HEADER:this._raw_body=this._io.readBytes(this.lenBody);var t=new _(this._raw_body);this.body=new v(t,this,this._root);break;case o.Opcode.MESSAGE:this._raw_body=this._io.readBytes(this.lenBody);var t=new _(this._raw_body);this.body=new E(t,this,this._root);break;case o.Opcode.MESSAGE_INDEX:this._raw_body=this._io.readBytes(this.lenBody);var t=new _(this._raw_body);this.body=new I(t,this,this._root);break;case o.Opcode.METADATA:this._raw_body=this._io.readBytes(this.lenBody);var t=new _(this._raw_body);this.body=new M(t,this,this._root);break;case o.Opcode.METADATA_INDEX:this._raw_body=this._io.readBytes(this.lenBody);var t=new _(this._raw_body);this.body=new T(t,this,this._root);break;case o.Opcode.SCHEMA:this._raw_body=this._io.readBytes(this.lenBody);var t=new _(this._raw_body);this.body=new k(t,this,this._root);break;case o.Opcode.STATISTICS:this._raw_body=this._io.readBytes(this.lenBody);var t=new _(this._raw_body);this.body=new x(t,this,this._root);break;case o.Opcode.SUMMARY_OFFSET:this._raw_body=this._io.readBytes(this.lenBody);var t=new _(this._raw_body);this.body=new A(t,this,this._root);break;default:this.body=this._io.readBytes(this.lenBody);break}this._debug.body.end=this._io.pos},e})(),p=o.Records=(function(){function e(t,i,s){this._io=t,this._parent=i,this._root=s,this._debug={},this._read()}return e.prototype._read=function(){for(this._debug.records={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.records.arr=[],this.records=[];!this._io.isEof();)this._debug.records.arr[this.records.length]={start:this._io.pos,ioOffset:this._io.byteOffset},this.records.push(new u(this._io,this,this._root)),this._debug.records.arr[this.records.length-1].end=this._io.pos;this._debug.records.end=this._io.pos},e})(),k=o.Schema=(function(){function e(t,i,s){this._io=t,this._parent=i,this._root=s,this._debug={},this._read()}return e.prototype._read=function(){this._debug.id={start:this._io.pos,ioOffset:this._io.byteOffset},this.id=this._io.readU2le(),this._debug.id.end=this._io.pos,this._debug.name={start:this._io.pos,ioOffset:this._io.byteOffset},this.name=new n(this._io,this,this._root),this._debug.name.end=this._io.pos,this._debug.encoding={start:this._io.pos,ioOffset:this._io.byteOffset},this.encoding=new n(this._io,this,this._root),this._debug.encoding.end=this._io.pos,this._debug.lenData={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenData=this._io.readU4le(),this._debug.lenData.end=this._io.pos,this._debug.data={start:this._io.pos,ioOffset:this._io.byteOffset},this.data=this._io.readBytes(this.lenData),this._debug.data.end=this._io.pos},e})(),x=o.Statistics=(function(){function e(s,h,r){this._io=s,this._parent=h,this._root=r,this._debug={},this._read()}e.prototype._read=function(){this._debug.messageCount={start:this._io.pos,ioOffset:this._io.byteOffset},this.messageCount=this._io.readU8le(),this._debug.messageCount.end=this._io.pos,this._debug.schemaCount={start:this._io.pos,ioOffset:this._io.byteOffset},this.schemaCount=this._io.readU2le(),this._debug.schemaCount.end=this._io.pos,this._debug.channelCount={start:this._io.pos,ioOffset:this._io.byteOffset},this.channelCount=this._io.readU4le(),this._debug.channelCount.end=this._io.pos,this._debug.attachmentCount={start:this._io.pos,ioOffset:this._io.byteOffset},this.attachmentCount=this._io.readU4le(),this._debug.attachmentCount.end=this._io.pos,this._debug.metadataCount={start:this._io.pos,ioOffset:this._io.byteOffset},this.metadataCount=this._io.readU4le(),this._debug.metadataCount.end=this._io.pos,this._debug.chunkCount={start:this._io.pos,ioOffset:this._io.byteOffset},this.chunkCount=this._io.readU4le(),this._debug.chunkCount.end=this._io.pos,this._debug.messageStartTime={start:this._io.pos,ioOffset:this._io.byteOffset},this.messageStartTime=this._io.readU8le(),this._debug.messageStartTime.end=this._io.pos,this._debug.messageEndTime={start:this._io.pos,ioOffset:this._io.byteOffset},this.messageEndTime=this._io.readU8le(),this._debug.messageEndTime.end=this._io.pos,this._debug.lenChannelMessageCounts={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenChannelMessageCounts=this._io.readU4le(),this._debug.lenChannelMessageCounts.end=this._io.pos,this._debug.channelMessageCounts={start:this._io.pos,ioOffset:this._io.byteOffset},this._raw_channelMessageCounts=this._io.readBytes(this.lenChannelMessageCounts);var s=new _(this._raw_channelMessageCounts);this.channelMessageCounts=new i(s,this,this._root),this._debug.channelMessageCounts.end=this._io.pos};var t=e.ChannelMessageCount=(function(){function s(h,r,a){this._io=h,this._parent=r,this._root=a,this._debug={},this._read()}return s.prototype._read=function(){this._debug.channelId={start:this._io.pos,ioOffset:this._io.byteOffset},this.channelId=this._io.readU2le(),this._debug.channelId.end=this._io.pos,this._debug.messageCount={start:this._io.pos,ioOffset:this._io.byteOffset},this.messageCount=this._io.readU8le(),this._debug.messageCount.end=this._io.pos},s})(),i=e.ChannelMessageCounts=(function(){function s(h,r,a){this._io=h,this._parent=r,this._root=a,this._debug={},this._read()}return s.prototype._read=function(){for(this._debug.entries={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.entries.arr=[],this.entries=[];!this._io.isEof();)this._debug.entries.arr[this.entries.length]={start:this._io.pos,ioOffset:this._io.byteOffset},this.entries.push(new t(this._io,this,this._root)),this._debug.entries.arr[this.entries.length-1].end=this._io.pos;this._debug.entries.end=this._io.pos},s})();return e})(),A=o.SummaryOffset=(function(){function e(t,i,s){this._io=t,this._parent=i,this._root=s,this._debug={},this._read()}return e.prototype._read=function(){this._debug.groupOpcode={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"Mcap.Opcode"},this.groupOpcode=this._io.readU1(),this._debug.groupOpcode.end=this._io.pos,this._debug.ofsGroup={start:this._io.pos,ioOffset:this._io.byteOffset},this.ofsGroup=this._io.readU8le(),this._debug.ofsGroup.end=this._io.pos,this._debug.lenGroup={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenGroup=this._io.readU8le(),this._debug.lenGroup.end=this._io.pos},Object.defineProperty(e.prototype,"group",{get:function(){if(this._m_group!==void 0)return this._m_group;var t=this._root._io,i=t.pos;t.seek(this.ofsGroup),this._debug._m_group={start:t.pos,ioOffset:t.byteOffset},this._raw__m_group=t.readBytes(this.lenGroup);var s=new _(this._raw__m_group);return this._m_group=new p(s,this,this._root),this._debug._m_group.end=t.pos,t.seek(i),this._m_group}}),e})(),U=o.TupleStrStr=(function(){function e(t,i,s){this._io=t,this._parent=i,this._root=s,this._debug={},this._read()}return e.prototype._read=function(){this._debug.key={start:this._io.pos,ioOffset:this._io.byteOffset},this.key=new n(this._io,this,this._root),this._debug.key.end=this._io.pos,this._debug.value={start:this._io.pos,ioOffset:this._io.byteOffset},this.value=new n(this._io,this,this._root),this._debug.value.end=this._io.pos},e})();return Object.defineProperty(o.prototype,"footer",{get:function(){if(this._m_footer!==void 0)return this._m_footer;var e=this._io.pos;this._io.seek(this.ofsFooter),this._debug._m_footer={start:this._io.pos,ioOffset:this._io.byteOffset},this._raw__m_footer=this._io.readBytesFull();var t=new _(this._raw__m_footer);return this._m_footer=new u(t,this,this._root),this._debug._m_footer.end=this._io.pos,this._io.seek(e),this._m_footer}}),Object.defineProperty(o.prototype,"ofsFooter",{get:function(){return this._m_ofsFooter!==void 0?this._m_ofsFooter:(this._debug._m_ofsFooter={},this._m_ofsFooter=this._io.size-1-8-20-8,this._m_ofsFooter)}}),o})();d.Mcap=g})}});const R=D(),F={id:"mcap",title:"MCAP",ksy:{meta:{id:"mcap",title:"MCAP","file-extension":"mcap",license:"Apache-2.0",endian:"le"},doc:`MCAP is a modular container format and logging library for pub/sub messages with
arbitrary message serialization. It is primarily intended for use in robotics
applications, and works well under various workloads, resource constraints, and
durability requirements.

Time values (\`log_time\`, \`publish_time\`, \`create_time\`) are represented in
nanoseconds since a user-understood epoch (i.e. Unix epoch, robot boot time,
etc.)
`,"doc-ref":"https://github.com/foxglove/mcap/tree/c1cc51d/docs/specification#readme",seq:[{id:"header_magic",type:"magic"},{id:"records",type:"record",repeat:"until","repeat-until":"_.op == opcode::footer"},{id:"footer_magic",type:"magic"}],instances:{footer:{pos:"ofs_footer","size-eos":!0,type:"record"},ofs_footer:{value:"_io.size - footer.op._sizeof - footer.len_body._sizeof - sizeof<footer> - sizeof<magic>"}},enums:{opcode:{1:"header",2:"footer",3:"schema",4:"channel",5:"message",6:"chunk",7:"message_index",8:"chunk_index",9:"attachment",10:"attachment_index",11:"statistics",12:"metadata",13:"metadata_index",14:"summary_offset",15:"data_end"}},types:{magic:{seq:[{id:"magic",contents:[137,`MCAP0\r
`]}]},prefixed_str:{seq:[{id:"len_str",type:"u4"},{id:"str",type:"str",size:"len_str",encoding:"UTF-8"}]},tuple_str_str:{seq:[{id:"key",type:"prefixed_str"},{id:"value",type:"prefixed_str"}]},map_str_str:{seq:[{id:"len_entries",type:"u4"},{id:"entries",size:"len_entries",type:"entries"}],types:{entries:{seq:[{id:"entries",type:"tuple_str_str",repeat:"eos"}]}}},records:{seq:[{id:"records",type:"record",repeat:"eos"}]},record:{seq:[{id:"op",type:"u1",enum:"opcode"},{id:"len_body",type:"u8"},{id:"body",size:"len_body",type:{"switch-on":"op",cases:{"opcode::header":"header","opcode::footer":"footer","opcode::schema":"schema","opcode::channel":"channel","opcode::message":"message","opcode::chunk":"chunk","opcode::message_index":"message_index","opcode::chunk_index":"chunk_index","opcode::attachment":"attachment","opcode::attachment_index":"attachment_index","opcode::statistics":"statistics","opcode::metadata":"metadata","opcode::metadata_index":"metadata_index","opcode::summary_offset":"summary_offset","opcode::data_end":"data_end"}}}]},header:{seq:[{id:"profile",type:"prefixed_str"},{id:"library",type:"prefixed_str"}]},footer:{seq:[{id:"ofs_summary_section","-orig-id":"summary_start",type:"u8"},{id:"ofs_summary_offset_section","-orig-id":"summary_offset_start",type:"u8"},{id:"summary_crc32","-orig-id":"summary_crc",type:"u4",doc:`A CRC-32 of all bytes from the start of the Summary section up through and
including the end of the previous field (summary_offset_start) in the footer
record. A value of 0 indicates the CRC-32 is not available.
`}],instances:{summary_section:{io:"_root._io",pos:"ofs_summary_section",size:"(ofs_summary_offset_section != 0 ? ofs_summary_offset_section : _root.ofs_footer) - ofs_summary_section",type:"records",if:"ofs_summary_section != 0"},summary_offset_section:{io:"_root._io",pos:"ofs_summary_offset_section",size:"_root.ofs_footer - ofs_summary_offset_section",type:"records",if:"ofs_summary_offset_section != 0"},ofs_summary_crc32_input:{value:"ofs_summary_section != 0 ? ofs_summary_section : _root.ofs_footer"},summary_crc32_input:{io:"_root._io",pos:"ofs_summary_crc32_input",size:"_root._io.size - ofs_summary_crc32_input - sizeof<magic> - summary_crc32._sizeof"}}},schema:{seq:[{id:"id",type:"u2"},{id:"name",type:"prefixed_str"},{id:"encoding",type:"prefixed_str"},{id:"len_data",type:"u4"},{id:"data",size:"len_data"}]},channel:{seq:[{id:"id",type:"u2"},{id:"schema_id",type:"u2"},{id:"topic",type:"prefixed_str"},{id:"message_encoding",type:"prefixed_str"},{id:"metadata",type:"map_str_str"}]},message:{seq:[{id:"channel_id",type:"u2"},{id:"sequence",type:"u4"},{id:"log_time",type:"u8"},{id:"publish_time",type:"u8"},{id:"data","size-eos":!0}]},chunk:{seq:[{id:"message_start_time",type:"u8"},{id:"message_end_time",type:"u8"},{id:"uncompressed_size",type:"u8"},{id:"uncompressed_crc32","-orig-id":"uncompressed_crc",type:"u4",doc:"CRC-32 checksum of uncompressed `records` field. A value of zero indicates that\nCRC validation should not be performed.\n"},{id:"compression",type:"prefixed_str"},{id:"len_records",type:"u8"},{id:"records",size:"len_records",type:{"switch-on":"compression.str",cases:{'""':"records"}}}]},message_index:{seq:[{id:"channel_id",type:"u2"},{id:"len_records",type:"u4"},{id:"records",size:"len_records",type:"message_index_entries"}],types:{message_index_entry:{seq:[{id:"log_time",type:"u8"},{id:"offset",type:"u8"}]},message_index_entries:{seq:[{id:"entries",type:"message_index_entry",repeat:"eos"}]}}},chunk_index:{seq:[{id:"message_start_time",type:"u8"},{id:"message_end_time",type:"u8"},{id:"ofs_chunk","-orig-id":"chunk_start_offset",type:"u8"},{id:"len_chunk","-orig-id":"chunk_length",type:"u8"},{id:"len_message_index_offsets",type:"u4"},{id:"message_index_offsets",size:"len_message_index_offsets",type:"message_index_offsets"},{id:"message_index_length",type:"u8"},{id:"compression",type:"prefixed_str"},{id:"compressed_size",type:"u8"},{id:"uncompressed_size",type:"u8"}],instances:{chunk:{io:"_root._io",pos:"ofs_chunk",size:"len_chunk",type:"record"}},types:{message_index_offset:{seq:[{id:"channel_id",type:"u2"},{id:"offset",type:"u8"}]},message_index_offsets:{seq:[{id:"entries",type:"message_index_offset",repeat:"eos"}]}}},attachment:{seq:[{id:"log_time",type:"u8"},{id:"create_time",type:"u8"},{id:"name",type:"prefixed_str"},{id:"content_type",type:"prefixed_str"},{id:"len_data",type:"u8"},{id:"data",size:"len_data"},{id:"invoke_crc32_input_end",size:0,if:"crc32_input_end >= 0"},{id:"crc32","-orig-id":"crc",type:"u4",doc:`CRC-32 checksum of preceding fields in the record. A value of zero indicates that
CRC validation should not be performed.
`}],instances:{crc32_input_end:{value:"_io.pos"},crc32_input:{pos:0,size:"crc32_input_end"}}},attachment_index:{seq:[{id:"ofs_attachment","-orig-id":"offset",type:"u8"},{id:"len_attachment","-orig-id":"length",type:"u8"},{id:"log_time",type:"u8"},{id:"create_time",type:"u8"},{id:"data_size",type:"u8"},{id:"name",type:"prefixed_str"},{id:"content_type",type:"prefixed_str"}],instances:{attachment:{io:"_root._io",pos:"ofs_attachment",size:"len_attachment",type:"record"}}},statistics:{seq:[{id:"message_count",type:"u8"},{id:"schema_count",type:"u2"},{id:"channel_count",type:"u4"},{id:"attachment_count",type:"u4"},{id:"metadata_count",type:"u4"},{id:"chunk_count",type:"u4"},{id:"message_start_time",type:"u8"},{id:"message_end_time",type:"u8"},{id:"len_channel_message_counts",type:"u4"},{id:"channel_message_counts",size:"len_channel_message_counts",type:"channel_message_counts"}],types:{channel_message_counts:{seq:[{id:"entries",type:"channel_message_count",repeat:"eos"}]},channel_message_count:{seq:[{id:"channel_id",type:"u2"},{id:"message_count",type:"u8"}]}}},metadata:{seq:[{id:"name",type:"prefixed_str"},{id:"metadata",type:"map_str_str"}]},metadata_index:{seq:[{id:"ofs_metadata","-orig-id":"offset",type:"u8"},{id:"len_metadata","-orig-id":"length",type:"u8"},{id:"name",type:"prefixed_str"}],instances:{metadata:{io:"_root._io",pos:"ofs_metadata",size:"len_metadata",type:"record"}}},summary_offset:{seq:[{id:"group_opcode",type:"u1",enum:"opcode"},{id:"ofs_group","-orig-id":"group_start",type:"u8"},{id:"len_group","-orig-id":"group_length",type:"u8"}],instances:{group:{io:"_root._io",pos:"ofs_group",size:"len_group",type:"records"}}},data_end:{seq:[{id:"data_section_crc32","-orig-id":"data_section_crc",type:"u4",doc:`CRC-32 of all bytes in the data section. A value of 0 indicates the CRC-32 is not
available.
`}]}}}};export{R as default,F as spec};
