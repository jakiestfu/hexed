import{k as I}from"./index-LM5QM2-c.js";var m=Object.getOwnPropertyNames,h=(t,e)=>function(){return e||(0,t[m(t)[0]])((e={exports:{}}).exports,e),e.exports},g=h({"<stdin>"(t){(function(e,i){typeof define=="function"&&define.amd?define(["exports","kaitai-struct/KaitaiStream"],i):typeof t=="object"&&t!==null&&typeof t.nodeType!="number"?i(t,I.KaitaiStream):i(e.Uimage||(e.Uimage={}),e.KaitaiStream)})(typeof self<"u"?self:t,function(e,i){var r=(function(){o.UimageArch=Object.freeze({INVALID:0,ALPHA:1,ARM:2,I386:3,IA64:4,MIPS:5,MIPS64:6,PPC:7,S390:8,SH:9,SPARC:10,SPARC64:11,M68K:12,NIOS:13,MICROBLAZE:14,NIOS2:15,BLACKFIN:16,AVR32:17,ST200:18,SANDBOX:19,NDS32:20,OPENRISC:21,ARM64:22,ARC:23,X86_64:24,XTENSA:25,RISCV:26,0:"INVALID",1:"ALPHA",2:"ARM",3:"I386",4:"IA64",5:"MIPS",6:"MIPS64",7:"PPC",8:"S390",9:"SH",10:"SPARC",11:"SPARC64",12:"M68K",13:"NIOS",14:"MICROBLAZE",15:"NIOS2",16:"BLACKFIN",17:"AVR32",18:"ST200",19:"SANDBOX",20:"NDS32",21:"OPENRISC",22:"ARM64",23:"ARC",24:"X86_64",25:"XTENSA",26:"RISCV"}),o.UimageComp=Object.freeze({NONE:0,GZIP:1,BZIP2:2,LZMA:3,LZO:4,LZ4:5,ZSTD:6,0:"NONE",1:"GZIP",2:"BZIP2",3:"LZMA",4:"LZO",5:"LZ4",6:"ZSTD"}),o.UimageOs=Object.freeze({INVALID:0,OPENBSD:1,NETBSD:2,FREEBSD:3,BSD4_4:4,LINUX:5,SVR4:6,ESIX:7,SOLARIS:8,IRIX:9,SCO:10,DELL:11,NCR:12,LYNXOS:13,VXWORKS:14,PSOS:15,QNX:16,U_BOOT:17,RTEMS:18,ARTOS:19,UNITY:20,INTEGRITY:21,OSE:22,PLAN9:23,OPENRTOS:24,ARM_TRUSTED_FIRMWARE:25,TEE:26,OPENSBI:27,EFI:28,0:"INVALID",1:"OPENBSD",2:"NETBSD",3:"FREEBSD",4:"BSD4_4",5:"LINUX",6:"SVR4",7:"ESIX",8:"SOLARIS",9:"IRIX",10:"SCO",11:"DELL",12:"NCR",13:"LYNXOS",14:"VXWORKS",15:"PSOS",16:"QNX",17:"U_BOOT",18:"RTEMS",19:"ARTOS",20:"UNITY",21:"INTEGRITY",22:"OSE",23:"PLAN9",24:"OPENRTOS",25:"ARM_TRUSTED_FIRMWARE",26:"TEE",27:"OPENSBI",28:"EFI"}),o.UimageType=Object.freeze({INVALID:0,STANDALONE:1,KERNEL:2,RAMDISK:3,MULTI:4,FIRMWARE:5,SCRIPT:6,FILESYSTEM:7,FLATDT:8,KWBIMAGE:9,IMXIMAGE:10,UBLIMAGE:11,OMAPIMAGE:12,AISIMAGE:13,KERNEL_NOLOAD:14,PBLIMAGE:15,MXSIMAGE:16,GPIMAGE:17,ATMELIMAGE:18,SOCFPGAIMAGE:19,X86_SETUP:20,LPC32XXIMAGE:21,LOADABLE:22,RKIMAGE:23,RKSD:24,RKSPI:25,ZYNQIMAGE:26,ZYNQMPIMAGE:27,ZYNQMPBIF:28,FPGA:29,VYBRIDIMAGE:30,TEE:31,FIRMWARE_IVT:32,PMMC:33,STM32IMAGE:34,SOCFPGAIMAGE_V1:35,MTKIMAGE:36,IMX8MIMAGE:37,IMX8IMAGE:38,COPRO:39,SUNXI_EGON:40,0:"INVALID",1:"STANDALONE",2:"KERNEL",3:"RAMDISK",4:"MULTI",5:"FIRMWARE",6:"SCRIPT",7:"FILESYSTEM",8:"FLATDT",9:"KWBIMAGE",10:"IMXIMAGE",11:"UBLIMAGE",12:"OMAPIMAGE",13:"AISIMAGE",14:"KERNEL_NOLOAD",15:"PBLIMAGE",16:"MXSIMAGE",17:"GPIMAGE",18:"ATMELIMAGE",19:"SOCFPGAIMAGE",20:"X86_SETUP",21:"LPC32XXIMAGE",22:"LOADABLE",23:"RKIMAGE",24:"RKSD",25:"RKSPI",26:"ZYNQIMAGE",27:"ZYNQMPIMAGE",28:"ZYNQMPBIF",29:"FPGA",30:"VYBRIDIMAGE",31:"TEE",32:"FIRMWARE_IVT",33:"PMMC",34:"STM32IMAGE",35:"SOCFPGAIMAGE_V1",36:"MTKIMAGE",37:"IMX8MIMAGE",38:"IMX8IMAGE",39:"COPRO",40:"SUNXI_EGON"});function o(s,d,a){this._io=s,this._parent=d,this._root=a||this,this._debug={},this._read()}o.prototype._read=function(){this._debug.header={start:this._io.pos,ioOffset:this._io.byteOffset},this.header=new c(this._io,this,this._root),this._debug.header.end=this._io.pos,this._debug.data={start:this._io.pos,ioOffset:this._io.byteOffset},this.data=this._io.readBytes(this.header.lenImage),this._debug.data.end=this._io.pos};var c=o.Uheader=(function(){function s(d,a,n){this._io=d,this._parent=a,this._root=n,this._debug={},this._read()}return s.prototype._read=function(){if(this._debug.magic={start:this._io.pos,ioOffset:this._io.byteOffset},this.magic=this._io.readBytes(4),this._debug.magic.end=this._io.pos,i.byteArrayCompare(this.magic,new Uint8Array([39,5,25,86]))!=0){var d=new i.ValidationNotEqualError(new Uint8Array([39,5,25,86]),this.magic,this._io,"/types/uheader/seq/0");throw this._debug.magic.validationError=d,d}this._debug.headerCrc={start:this._io.pos,ioOffset:this._io.byteOffset},this.headerCrc=this._io.readU4be(),this._debug.headerCrc.end=this._io.pos,this._debug.timestamp={start:this._io.pos,ioOffset:this._io.byteOffset},this.timestamp=this._io.readU4be(),this._debug.timestamp.end=this._io.pos,this._debug.lenImage={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenImage=this._io.readU4be(),this._debug.lenImage.end=this._io.pos,this._debug.loadAddress={start:this._io.pos,ioOffset:this._io.byteOffset},this.loadAddress=this._io.readU4be(),this._debug.loadAddress.end=this._io.pos,this._debug.entryAddress={start:this._io.pos,ioOffset:this._io.byteOffset},this.entryAddress=this._io.readU4be(),this._debug.entryAddress.end=this._io.pos,this._debug.dataCrc={start:this._io.pos,ioOffset:this._io.byteOffset},this.dataCrc=this._io.readU4be(),this._debug.dataCrc.end=this._io.pos,this._debug.osType={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"Uimage.UimageOs"},this.osType=this._io.readU1(),this._debug.osType.end=this._io.pos,this._debug.architecture={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"Uimage.UimageArch"},this.architecture=this._io.readU1(),this._debug.architecture.end=this._io.pos,this._debug.imageType={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"Uimage.UimageType"},this.imageType=this._io.readU1(),this._debug.imageType.end=this._io.pos,this._debug.compressionType={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"Uimage.UimageComp"},this.compressionType=this._io.readU1(),this._debug.compressionType.end=this._io.pos,this._debug.name={start:this._io.pos,ioOffset:this._io.byteOffset},this.name=i.bytesToStr(i.bytesTerminate(this._io.readBytes(32),0,!1),"UTF-8"),this._debug.name.end=this._io.pos},s})();return o})();e.Uimage=r})}});const A=g(),p={id:"uimage",title:"U-Boot Image wrapper",ksy:{meta:{id:"uimage",title:"U-Boot Image wrapper",license:"CC0-1.0",endian:"be"},doc:`The new uImage format allows more flexibility in handling images of various
types (kernel, ramdisk, etc.), it also enhances integrity protection of images
with sha1 and md5 checksums.
`,"doc-ref":"https://source.denx.de/u-boot/u-boot/-/raw/e4dba4ba6f/include/image.h",seq:[{id:"header",type:"uheader"},{id:"data",size:"header.len_image"}],types:{uheader:{seq:[{id:"magic",contents:[39,5,25,86]},{id:"header_crc",type:"u4"},{id:"timestamp",type:"u4"},{id:"len_image",type:"u4"},{id:"load_address",type:"u4"},{id:"entry_address",type:"u4"},{id:"data_crc",type:"u4"},{id:"os_type",type:"u1",enum:"uimage_os"},{id:"architecture",type:"u1",enum:"uimage_arch"},{id:"image_type",type:"u1",enum:"uimage_type"},{id:"compression_type",type:"u1",enum:"uimage_comp"},{id:"name",size:32,encoding:"UTF-8",type:"strz"}]}},enums:{uimage_os:{0:{id:"invalid",doc:"Invalid OS"},1:{id:"openbsd",doc:"OpenBSD"},2:{id:"netbsd",doc:"NetBSD"},3:{id:"freebsd",doc:"FreeBSD"},4:{id:"bsd4_4",doc:"4.4BSD"},5:{id:"linux",doc:"Linux"},6:{id:"svr4",doc:"SVR4"},7:{id:"esix",doc:"Esix"},8:{id:"solaris",doc:"Solaris"},9:{id:"irix",doc:"Irix"},10:{id:"sco",doc:"SCO"},11:{id:"dell",doc:"Dell"},12:{id:"ncr",doc:"NCR"},13:{id:"lynxos",doc:"LynxOS"},14:{id:"vxworks",doc:"VxWorks"},15:{id:"psos",doc:"pSOS"},16:{id:"qnx",doc:"QNX"},17:{id:"u_boot",doc:"Firmware"},18:{id:"rtems",doc:"RTEMS"},19:{id:"artos",doc:"ARTOS"},20:{id:"unity",doc:"Unity OS"},21:{id:"integrity",doc:"INTEGRITY"},22:{id:"ose",doc:"OSE"},23:{id:"plan9",doc:"Plan 9"},24:{id:"openrtos",doc:"OpenRTOS"},25:{id:"arm_trusted_firmware",doc:"ARM Trusted Firmware"},26:{id:"tee",doc:"Trusted Execution Environment"},27:{id:"opensbi",doc:"RISC-V OpenSBI"},28:{id:"efi",doc:"EFI Firmware (e.g. GRUB2)"}},uimage_arch:{0:{id:"invalid",doc:"Invalid CPU"},1:{id:"alpha",doc:"Alpha"},2:{id:"arm",doc:"ARM"},3:{id:"i386",doc:"Intel x86"},4:{id:"ia64",doc:"IA64"},5:{id:"mips",doc:"MIPS"},6:{id:"mips64",doc:"MIPS 64 Bit"},7:{id:"ppc",doc:"PowerPC"},8:{id:"s390",doc:"IBM S390"},9:{id:"sh",doc:"SuperH"},10:{id:"sparc",doc:"Sparc"},11:{id:"sparc64",doc:"Sparc 64 Bit"},12:{id:"m68k",doc:"M68K"},13:{id:"nios",doc:"Nios-32"},14:{id:"microblaze",doc:"MicroBlaze"},15:{id:"nios2",doc:"Nios-II"},16:{id:"blackfin",doc:"Blackfin"},17:{id:"avr32",doc:"AVR32"},18:{id:"st200",doc:"STMicroelectronics ST200"},19:{id:"sandbox",doc:"Sandbox architecture (test only)"},20:{id:"nds32",doc:"ANDES Technology - NDS32"},21:{id:"openrisc",doc:"OpenRISC 1000"},22:{id:"arm64",doc:"ARM64"},23:{id:"arc",doc:"Synopsys DesignWare ARC"},24:{id:"x86_64",doc:"AMD x86_64, Intel and Via"},25:{id:"xtensa",doc:"Xtensa"},26:{id:"riscv",doc:"RISC-V"}},uimage_comp:{0:{id:"none",doc:"No Compression Used"},1:"gzip",2:"bzip2",3:"lzma",4:"lzo",5:"lz4",6:"zstd"},uimage_type:{0:{id:"invalid",doc:"Invalid Image"},1:{id:"standalone",doc:"Standalone Program"},2:{id:"kernel",doc:"OS Kernel Image"},3:{id:"ramdisk",doc:"RAMDisk Image"},4:{id:"multi",doc:"Multi-File Image"},5:{id:"firmware",doc:"Firmware Image"},6:{id:"script",doc:"Script file"},7:{id:"filesystem",doc:"Filesystem Image (any type)"},8:{id:"flatdt",doc:"Binary Flat Device Tree Blob"},9:{id:"kwbimage",doc:"Kirkwood Boot Image"},10:{id:"imximage",doc:"Freescale IMXBoot Image"},11:{id:"ublimage",doc:"Davinci UBL Image"},12:{id:"omapimage",doc:"TI OMAP Config Header Image"},13:{id:"aisimage",doc:"TI Davinci AIS Image"},14:{id:"kernel_noload",doc:"OS Kernel Image, can run from any load address"},15:{id:"pblimage",doc:"Freescale PBL Boot Image"},16:{id:"mxsimage",doc:"Freescale MXSBoot Image"},17:{id:"gpimage",doc:"TI Keystone GPHeader Image"},18:{id:"atmelimage",doc:"ATMEL ROM bootable Image"},19:{id:"socfpgaimage",doc:"Altera SOCFPGA CV/AV Preloader"},20:{id:"x86_setup",doc:"x86 setup.bin Image"},21:{id:"lpc32xximage",doc:"x86 setup.bin Image"},22:{id:"loadable",doc:"A list of typeless images"},23:{id:"rkimage",doc:"Rockchip Boot Image"},24:{id:"rksd",doc:"Rockchip SD card"},25:{id:"rkspi",doc:"Rockchip SPI image"},26:{id:"zynqimage",doc:"Xilinx Zynq Boot Image"},27:{id:"zynqmpimage",doc:"Xilinx ZynqMP Boot Image"},28:{id:"zynqmpbif",doc:"Xilinx ZynqMP Boot Image (bif)"},29:{id:"fpga",doc:"FPGA Image"},30:{id:"vybridimage",doc:"VYBRID .vyb Image"},31:{id:"tee",doc:"Trusted Execution Environment OS Image"},32:{id:"firmware_ivt",doc:"Firmware Image with HABv4 IVT"},33:{id:"pmmc",doc:"TI Power Management Micro-Controller Firmware"},34:{id:"stm32image",doc:"STMicroelectronics STM32 Image"},35:{id:"socfpgaimage_v1",doc:"Altera SOCFPGA A10 Preloader"},36:{id:"mtkimage",doc:"MediaTek BootROM loadable Image"},37:{id:"imx8mimage",doc:"Freescale IMX8MBoot Image"},38:{id:"imx8image",doc:"Freescale IMX8Boot Image"},39:{id:"copro",doc:"Coprocessor Image for remoteproc"},40:{id:"sunxi_egon",doc:"Allwinner eGON Boot Image"}}}}};export{A as default,p as spec};
