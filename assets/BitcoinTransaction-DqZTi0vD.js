import{k as b}from"./index-COA_x_BK.js";var y=Object.getOwnPropertyNames,l=(n,o)=>function(){return o||(0,n[y(n)[0]])((o={exports:{}}).exports,o),o.exports},S=l({"<stdin>"(n){(function(o,t){typeof define=="function"&&define.amd?define(["exports","kaitai-struct/KaitaiStream"],t):typeof n=="object"&&n!==null&&typeof n.nodeType!="number"?t(n,b.KaitaiStream):t(o.BitcoinTransaction||(o.BitcoinTransaction={}),o.KaitaiStream)})(typeof self<"u"?self:n,function(o,t){var f=(function(){function d(i,_,e){this._io=i,this._parent=_,this._root=e||this,this._debug={},this._read()}d.prototype._read=function(){this._debug.version={start:this._io.pos,ioOffset:this._io.byteOffset},this.version=this._io.readU4le(),this._debug.version.end=this._io.pos,this._debug.numVins={start:this._io.pos,ioOffset:this._io.byteOffset},this.numVins=this._io.readU1(),this._debug.numVins.end=this._io.pos,this._debug.vins={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.vins.arr=[],this.vins=[];for(var i=0;i<this.numVins;i++)this._debug.vins.arr[i]={start:this._io.pos,ioOffset:this._io.byteOffset},this.vins.push(new c(this._io,this,this._root)),this._debug.vins.arr[i].end=this._io.pos;this._debug.vins.end=this._io.pos,this._debug.numVouts={start:this._io.pos,ioOffset:this._io.byteOffset},this.numVouts=this._io.readU1(),this._debug.numVouts.end=this._io.pos,this._debug.vouts={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.vouts.arr=[],this.vouts=[];for(var i=0;i<this.numVouts;i++)this._debug.vouts.arr[i]={start:this._io.pos,ioOffset:this._io.byteOffset},this.vouts.push(new g(this._io,this,this._root)),this._debug.vouts.arr[i].end=this._io.pos;this._debug.vouts.end=this._io.pos,this._debug.locktime={start:this._io.pos,ioOffset:this._io.byteOffset},this.locktime=this._io.readU4le(),this._debug.locktime.end=this._io.pos};var c=d.Vin=(function(){function i(e,r,a){this._io=e,this._parent=r,this._root=a,this._debug={},this._read()}i.prototype._read=function(){this._debug.txid={start:this._io.pos,ioOffset:this._io.byteOffset},this.txid=this._io.readBytes(32),this._debug.txid.end=this._io.pos,this._debug.outputId={start:this._io.pos,ioOffset:this._io.byteOffset},this.outputId=this._io.readU4le(),this._debug.outputId.end=this._io.pos,this._debug.lenScript={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenScript=this._io.readU1(),this._debug.lenScript.end=this._io.pos,this._debug.scriptSig={start:this._io.pos,ioOffset:this._io.byteOffset},this._raw_scriptSig=this._io.readBytes(this.lenScript);var e=new t(this._raw_scriptSig);if(this.scriptSig=new _(e,this,this._root),this._debug.scriptSig.end=this._io.pos,this._debug.endOfVin={start:this._io.pos,ioOffset:this._io.byteOffset},this.endOfVin=this._io.readBytes(4),this._debug.endOfVin.end=this._io.pos,t.byteArrayCompare(this.endOfVin,new Uint8Array([255,255,255,255]))!=0){var r=new t.ValidationNotEqualError(new Uint8Array([255,255,255,255]),this.endOfVin,this._io,"/types/vin/seq/4");throw this._debug.endOfVin.validationError=r,r}};var _=i.ScriptSignature=(function(){e.SighashType=Object.freeze({SIGHASH_ALL:1,SIGHASH_NONE:2,SIGHASH_SINGLE:3,SIGHASH_ANYONECANPAY:80,1:"SIGHASH_ALL",2:"SIGHASH_NONE",3:"SIGHASH_SINGLE",80:"SIGHASH_ANYONECANPAY"});function e(h,s,u){this._io=h,this._parent=s,this._root=u,this._debug={},this._read()}e.prototype._read=function(){this._debug.lenSigStack={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenSigStack=this._io.readU1(),this._debug.lenSigStack.end=this._io.pos,this._debug.derSig={start:this._io.pos,ioOffset:this._io.byteOffset},this.derSig=new r(this._io,this,this._root),this._debug.derSig.end=this._io.pos,this._debug.sigType={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"BitcoinTransaction.Vin.ScriptSignature.SighashType"},this.sigType=this._io.readU1(),this._debug.sigType.end=this._io.pos,this._debug.lenPubkeyStack={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenPubkeyStack=this._io.readU1(),this._debug.lenPubkeyStack.end=this._io.pos,this._debug.pubkey={start:this._io.pos,ioOffset:this._io.byteOffset},this.pubkey=new a(this._io,this,this._root),this._debug.pubkey.end=this._io.pos};var r=e.DerSignature=(function(){function h(s,u,p){this._io=s,this._parent=u,this._root=p,this._debug={},this._read()}return h.prototype._read=function(){if(this._debug.sequence={start:this._io.pos,ioOffset:this._io.byteOffset},this.sequence=this._io.readBytes(1),this._debug.sequence.end=this._io.pos,t.byteArrayCompare(this.sequence,new Uint8Array([48]))!=0){var s=new t.ValidationNotEqualError(new Uint8Array([48]),this.sequence,this._io,"/types/vin/types/script_signature/types/der_signature/seq/0");throw this._debug.sequence.validationError=s,s}if(this._debug.lenSig={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenSig=this._io.readU1(),this._debug.lenSig.end=this._io.pos,this._debug.sep1={start:this._io.pos,ioOffset:this._io.byteOffset},this.sep1=this._io.readBytes(1),this._debug.sep1.end=this._io.pos,t.byteArrayCompare(this.sep1,new Uint8Array([2]))!=0){var s=new t.ValidationNotEqualError(new Uint8Array([2]),this.sep1,this._io,"/types/vin/types/script_signature/types/der_signature/seq/2");throw this._debug.sep1.validationError=s,s}if(this._debug.lenSigR={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenSigR=this._io.readU1(),this._debug.lenSigR.end=this._io.pos,this._debug.sigR={start:this._io.pos,ioOffset:this._io.byteOffset},this.sigR=this._io.readBytes(this.lenSigR),this._debug.sigR.end=this._io.pos,this._debug.sep2={start:this._io.pos,ioOffset:this._io.byteOffset},this.sep2=this._io.readBytes(1),this._debug.sep2.end=this._io.pos,t.byteArrayCompare(this.sep2,new Uint8Array([2]))!=0){var s=new t.ValidationNotEqualError(new Uint8Array([2]),this.sep2,this._io,"/types/vin/types/script_signature/types/der_signature/seq/5");throw this._debug.sep2.validationError=s,s}this._debug.lenSigS={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenSigS=this._io.readU1(),this._debug.lenSigS.end=this._io.pos,this._debug.sigS={start:this._io.pos,ioOffset:this._io.byteOffset},this.sigS=this._io.readBytes(this.lenSigS),this._debug.sigS.end=this._io.pos},h})(),a=e.PublicKey=(function(){function h(s,u,p){this._io=s,this._parent=u,this._root=p,this._debug={},this._read()}return h.prototype._read=function(){this._debug.type={start:this._io.pos,ioOffset:this._io.byteOffset},this.type=this._io.readU1(),this._debug.type.end=this._io.pos,this._debug.x={start:this._io.pos,ioOffset:this._io.byteOffset},this.x=this._io.readBytes(32),this._debug.x.end=this._io.pos,this._debug.y={start:this._io.pos,ioOffset:this._io.byteOffset},this.y=this._io.readBytes(32),this._debug.y.end=this._io.pos},h})();return e})();return i})(),g=d.Vout=(function(){function i(_,e,r){this._io=_,this._parent=e,this._root=r,this._debug={},this._read()}return i.prototype._read=function(){this._debug.amount={start:this._io.pos,ioOffset:this._io.byteOffset},this.amount=this._io.readU8le(),this._debug.amount.end=this._io.pos,this._debug.lenScript={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenScript=this._io.readU1(),this._debug.lenScript.end=this._io.pos,this._debug.scriptPubKey={start:this._io.pos,ioOffset:this._io.byteOffset},this.scriptPubKey=this._io.readBytes(this.lenScript),this._debug.scriptPubKey.end=this._io.pos},i})();return d})();o.BitcoinTransaction=f})}});const v=S(),k={id:"bitcoin_transaction",title:"Bitcoin Transaction",ksy:{meta:{id:"bitcoin_transaction",title:"Bitcoin Transaction",license:"MIT",endian:"le"},"doc-ref":`https://bitcoin.org/en/developer-guide#transactions
https://en.bitcoin.it/wiki/Transaction
`,seq:[{id:"version",type:"u4",doc:`Version number.
`},{id:"num_vins",type:"u1",doc:`Number of input transactions.
`},{id:"vins",type:"vin",repeat:"expr","repeat-expr":"num_vins",doc:`Input transactions.
An input refers to an output from a previous transaction.
`},{id:"num_vouts",type:"u1",doc:`Number of output transactions.
`},{id:"vouts",type:"vout",repeat:"expr","repeat-expr":"num_vouts",doc:`Output transactions.
`},{id:"locktime",type:"u4"}],types:{vin:{seq:[{id:"txid",size:32,doc:`Previous transaction hash.
`},{id:"output_id",type:"u4",doc:`ID indexing an output of the transaction referred by txid.
This output will be used as an input in the present transaction.
`},{id:"len_script",type:"u1",doc:`ScriptSig's length.
`},{id:"script_sig",size:"len_script",type:"script_signature",doc:`ScriptSig.
`,"doc-ref":`https://en.bitcoin.it/wiki/Transaction#Input
https://en.bitcoin.it/wiki/Script
`},{id:"end_of_vin",contents:[255,255,255,255],doc:`Magic number indicating the end of the current input.
`}],types:{script_signature:{seq:[{id:"len_sig_stack",type:"u1"},{id:"der_sig",type:"der_signature",doc:`DER-encoded ECDSA signature.
`,"doc-ref":`https://en.wikipedia.org/wiki/X.690#DER_encoding
https://en.wikipedia.org/wiki/Elliptic_Curve_Digital_Signature_Algorithm
`},{id:"sig_type",type:"u1",enum:"sighash_type",doc:`Type of signature.
`},{id:"len_pubkey_stack",type:"u1"},{id:"pubkey",type:"public_key",doc:`Public key (bitcoin address of the recipient).
`}],types:{der_signature:{seq:[{id:"sequence",contents:[48]},{id:"len_sig",type:"u1"},{id:"sep_1",contents:[2]},{id:"len_sig_r",type:"u1",doc:`'r' value's length.
`},{id:"sig_r",size:"len_sig_r",doc:`'r' value of the ECDSA signature.
`,"doc-ref":"https://en.wikipedia.org/wiki/Elliptic_Curve_Digital_Signature_Algorithm"},{id:"sep_2",contents:[2]},{id:"len_sig_s",type:"u1",doc:`'s' value's length.
`},{id:"sig_s",size:"len_sig_s",doc:`'s' value of the ECDSA signature.
`,"doc-ref":"https://en.wikipedia.org/wiki/Elliptic_Curve_Digital_Signature_Algorithm"}]},public_key:{seq:[{id:"type",type:"u1"},{id:"x",size:32,doc:`'x' coordinate of the public key on the elliptic curve.
`},{id:"y",size:32,doc:`'y' coordinate of the public key on the elliptic curve.
`}]}},enums:{sighash_type:{1:"sighash_all",2:"sighash_none",3:"sighash_single",80:"sighash_anyonecanpay"}}}}},vout:{seq:[{id:"amount",type:"u8",doc:`Number of Satoshis to be transferred.
`},{id:"len_script",type:"u1",doc:`ScriptPubKey's length.
`},{id:"script_pub_key",size:"len_script",doc:`ScriptPubKey.
`,"doc-ref":`https://en.bitcoin.it/wiki/Transaction#Output
https://en.bitcoin.it/wiki/Script
`}]}}}};export{v as default,k as spec};
