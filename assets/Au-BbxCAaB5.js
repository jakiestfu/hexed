import{k as h}from"./index-DZ3xxA7Z.js";var u=Object.getOwnPropertyNames,c=(i,t)=>function(){return t||(0,i[u(i)[0]])((t={exports:{}}).exports,t),t.exports},l=c({"<stdin>"(i){(function(t,e){typeof define=="function"&&define.amd?define(["exports","kaitai-struct/KaitaiStream"],e):typeof i=="object"&&i!==null&&typeof i.nodeType!="number"?e(i,h.KaitaiStream):e(t.Au||(t.Au={}),t.KaitaiStream)})(typeof self<"u"?self:i,function(t,e){var d=(function(){o.Encodings=Object.freeze({MULAW_8:1,LINEAR_8:2,LINEAR_16:3,LINEAR_24:4,LINEAR_32:5,FLOAT:6,DOUBLE:7,FRAGMENTED:8,NESTED:9,DSP_CORE:10,FIXED_POINT_8:11,FIXED_POINT_16:12,FIXED_POINT_24:13,FIXED_POINT_32:14,DISPLAY:16,MULAW_SQUELCH:17,EMPHASIZED:18,COMPRESSED:19,COMPRESSED_EMPHASIZED:20,DSP_COMMANDS:21,DSP_COMMANDS_SAMPLES:22,ADPCM_G721:23,ADPCM_G722:24,ADPCM_G723_3:25,ADPCM_G723_5:26,ALAW_8:27,AES:28,DELTA_MULAW_8:29,1:"MULAW_8",2:"LINEAR_8",3:"LINEAR_16",4:"LINEAR_24",5:"LINEAR_32",6:"FLOAT",7:"DOUBLE",8:"FRAGMENTED",9:"NESTED",10:"DSP_CORE",11:"FIXED_POINT_8",12:"FIXED_POINT_16",13:"FIXED_POINT_24",14:"FIXED_POINT_32",16:"DISPLAY",17:"MULAW_SQUELCH",18:"EMPHASIZED",19:"COMPRESSED",20:"COMPRESSED_EMPHASIZED",21:"DSP_COMMANDS",22:"DSP_COMMANDS_SAMPLES",23:"ADPCM_G721",24:"ADPCM_G722",25:"ADPCM_G723_3",26:"ADPCM_G723_5",27:"ALAW_8",28:"AES",29:"DELTA_MULAW_8"});function o(a,s,n){this._io=a,this._parent=s,this._root=n||this,this._debug={},this._read()}o.prototype._read=function(){if(this._debug.magic={start:this._io.pos,ioOffset:this._io.byteOffset},this.magic=this._io.readBytes(4),this._debug.magic.end=this._io.pos,e.byteArrayCompare(this.magic,new Uint8Array([46,115,110,100]))!=0){var a=new e.ValidationNotEqualError(new Uint8Array([46,115,110,100]),this.magic,this._io,"/seq/0");throw this._debug.magic.validationError=a,a}this._debug.ofsData={start:this._io.pos,ioOffset:this._io.byteOffset},this.ofsData=this._io.readU4be(),this._debug.ofsData.end=this._io.pos,this._debug.header={start:this._io.pos,ioOffset:this._io.byteOffset},this._raw_header=this._io.readBytes(this.ofsData-4-4);var s=new e(this._raw_header);this.header=new _(s,this,this._root),this._debug.header.end=this._io.pos};var _=o.Header=(function(){function a(s,n,r){this._io=s,this._parent=n,this._root=r,this._debug={},this._read()}return a.prototype._read=function(){if(this._debug.dataSize={start:this._io.pos,ioOffset:this._io.byteOffset},this.dataSize=this._io.readU4be(),this._debug.dataSize.end=this._io.pos,this._debug.encoding={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"Au.Encodings"},this.encoding=this._io.readU4be(),this._debug.encoding.end=this._io.pos,this._debug.sampleRate={start:this._io.pos,ioOffset:this._io.byteOffset},this.sampleRate=this._io.readU4be(),this._debug.sampleRate.end=this._io.pos,this._debug.numChannels={start:this._io.pos,ioOffset:this._io.byteOffset},this.numChannels=this._io.readU4be(),this._debug.numChannels.end=this._io.pos,!(this.numChannels>=1)){var s=new e.ValidationLessThanError(1,this.numChannels,this._io,"/types/header/seq/3");throw this._debug.numChannels.validationError=s,s}this._debug.comment={start:this._io.pos,ioOffset:this._io.byteOffset},this.comment=e.bytesToStr(e.bytesTerminate(this._io.readBytesFull(),0,!1),"ASCII"),this._debug.comment.end=this._io.pos},a})();return Object.defineProperty(o.prototype,"lenData",{get:function(){return this._m_lenData!==void 0?this._m_lenData:(this._debug._m_lenData={},this._m_lenData=this.header.dataSize==4294967295?this._io.size-this.ofsData:this.header.dataSize,this._m_lenData)}}),o})();t.Au=d})}});const m=l(),p={id:"au",title:"AU audio format",ksy:{meta:{id:"au",title:"AU audio format","file-extension":["au","snd"],xref:{justsolve:"AU",mime:["audio/basic","audio/x-adpcm"],pronom:"x-fmt/139",wikidata:"Q672985"},license:"CC0-1.0","ks-version":.9,endian:"be"},doc:`The NeXT/Sun audio file format.

Sample files:

* <https://github.com/python/cpython/tree/b8a7daf077da/Lib/test/sndhdrdata>
* <ftp://ftp-ccrma.stanford.edu/pub/Lisp/sf.tar.gz>
* <https://www.mmsp.ece.mcgill.ca/Documents/AudioFormats/AU/Samples.html>
`,"doc-ref":["https://www.mmsp.ece.mcgill.ca/Documents/AudioFormats/AU/AU.html","http://soundfile.sapp.org/doc/NextFormat/","http://soundfile.sapp.org/doc/NextFormat/soundstruct.h","https://github.com/andreiw/polaris/blob/deb47cb/usr/src/head/audio/au.h#L87-L112","https://github.com/libsndfile/libsndfile/blob/86c9f9eb/src/au.c#L39-L74","https://github.com/chirlu/sox/blob/dd8b63bd/src/au.c#L34-L49","https://github.com/mpruett/audiofile/blob/b62c902/libaudiofile/NeXT.cpp#L65-L96"],seq:[{id:"magic",contents:".snd"},{id:"ofs_data",type:"u4"},{id:"header",type:"header",size:"ofs_data - magic._sizeof - ofs_data._sizeof"}],instances:{len_data:{value:"header.data_size == 0xffff_ffff ? _io.size - ofs_data : header.data_size"}},types:{header:{seq:[{id:"data_size",type:"u4",doc:"don't read this field, access `_root.len_data` instead\n\nvalue `0xffff_ffff` means unspecified size\n"},{id:"encoding",type:"u4",enum:"encodings"},{id:"sample_rate",type:"u4"},{id:"num_channels",type:"u4",valid:{min:1},doc:"number of interleaved channels"},{id:"comment","size-eos":!0,type:"strz",encoding:"ASCII",doc:`Most resources claim that this field must be at least 4 bytes long.
However, most programs don't enforce it, and [Audacity](
https://www.audacityteam.org/) even generates .au files with this field
being 0-byte long. According to <https://nixdoc.net/man-pages/IRIX/man4/dmedia/next.4.html>,
"NeXT files require that this chunk be at least 4 bytes (chars) long,
whereas this chunk may be zerolength in a Sun .au file."

By convention, size should be a multiple of 4 -
see <https://github.com/chirlu/sox/blob/dd8b63bd/src/au.c#L132-L133>.
Page <http://soundfile.sapp.org/doc/NextFormat/> also mentions that for some
sound playing programs, this field must have an even byte size. So a multiple
of 4 is probably best for compatibility.

Must be null-terminated. It is usually an ASCII text string, but this space
might be also used to store application-specific binary (i.e. non-ASCII) data.
`}]}},enums:{encodings:{1:{id:"mulaw_8",doc:"8-bit G.711 mu-law"},2:{id:"linear_8",doc:"8-bit signed linear PCM"},3:{id:"linear_16",doc:"16-bit signed linear PCM"},4:{id:"linear_24",doc:"24-bit signed linear PCM"},5:{id:"linear_32",doc:"32-bit signed linear PCM"},6:{id:"float",doc:"32-bit IEEE floating point"},7:{id:"double",doc:"64-bit IEEE double-precision floating point"},8:{id:"fragmented",doc:"sampled data which has become fragmented due to editing"},9:{id:"nested",doc:"multiple sound structures"},10:{id:"dsp_core",doc:"a loadable DSP core program"},11:"fixed_point_8",12:"fixed_point_16",13:"fixed_point_24",14:"fixed_point_32",16:{id:"display",doc:"non-audio display data used by the Sound Kit's `SoundView` class, can't be played"},17:{id:"mulaw_squelch",doc:"8-bit mu-law with run-length encoding of silence"},18:{id:"emphasized",doc:"16-bit linear with emphasis"},19:{id:"compressed",doc:"16-bit linear with NeXT compression"},20:{id:"compressed_emphasized",doc:"16-bit linear with emphasis and NeXT compression"},21:{id:"dsp_commands",doc:"Music Kit DSP commands"},22:{id:"dsp_commands_samples",doc:"Music Kit DSP samples"},23:{id:"adpcm_g721",doc:"4-bit G.721 ADPCM (32 kb/s)"},24:{id:"adpcm_g722",doc:"G.722 ADPCM"},25:{id:"adpcm_g723_3",doc:"3-bit G.723 ADPCM (24 kb/s)"},26:{id:"adpcm_g723_5",doc:"5-bit G.723 ADPCM (40 kb/s)"},27:{id:"alaw_8",doc:"8-bit G.711 A-law"},28:"aes",29:"delta_mulaw_8"}}}};export{m as default,p as spec};
