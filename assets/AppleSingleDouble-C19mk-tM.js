import{k as p}from"./index-COA_x_BK.js";var l=Object.getOwnPropertyNames,u=(o,i)=>function(){return i||(0,o[l(o)[0]])((i={exports:{}}).exports,i),i.exports},b=u({"<stdin>"(o){(function(i,_){typeof define=="function"&&define.amd?define(["exports","kaitai-struct/KaitaiStream"],_):typeof o=="object"&&o!==null&&typeof o.nodeType!="number"?_(o,p.KaitaiStream):_(i.AppleSingleDouble||(i.AppleSingleDouble={}),i.KaitaiStream)})(typeof self<"u"?self:o,function(i,_){var d=(function(){n.FileType=Object.freeze({APPLE_SINGLE:333312,APPLE_DOUBLE:333319,333312:"APPLE_SINGLE",333319:"APPLE_DOUBLE"});function n(e,t,s){this._io=e,this._parent=t,this._root=s||this,this._debug={},this._read()}n.prototype._read=function(){this._debug.magic={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"AppleSingleDouble.FileType"},this.magic=this._io.readU4be(),this._debug.magic.end=this._io.pos,this._debug.version={start:this._io.pos,ioOffset:this._io.byteOffset},this.version=this._io.readU4be(),this._debug.version.end=this._io.pos,this._debug.reserved={start:this._io.pos,ioOffset:this._io.byteOffset},this.reserved=this._io.readBytes(16),this._debug.reserved.end=this._io.pos,this._debug.numEntries={start:this._io.pos,ioOffset:this._io.byteOffset},this.numEntries=this._io.readU2be(),this._debug.numEntries.end=this._io.pos,this._debug.entries={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.entries.arr=[],this.entries=[];for(var e=0;e<this.numEntries;e++)this._debug.entries.arr[e]={start:this._io.pos,ioOffset:this._io.byteOffset},this.entries.push(new a(this._io,this,this._root)),this._debug.entries.arr[e].end=this._io.pos;this._debug.entries.end=this._io.pos};var a=n.Entry=(function(){e.Types=Object.freeze({DATA_FORK:1,RESOURCE_FORK:2,REAL_NAME:3,COMMENT:4,ICON_BW:5,ICON_COLOR:6,FILE_DATES_INFO:8,FINDER_INFO:9,MACINTOSH_FILE_INFO:10,PRODOS_FILE_INFO:11,MSDOS_FILE_INFO:12,AFP_SHORT_NAME:13,AFP_FILE_INFO:14,AFP_DIRECTORY_ID:15,1:"DATA_FORK",2:"RESOURCE_FORK",3:"REAL_NAME",4:"COMMENT",5:"ICON_BW",6:"ICON_COLOR",8:"FILE_DATES_INFO",9:"FINDER_INFO",10:"MACINTOSH_FILE_INFO",11:"PRODOS_FILE_INFO",12:"MSDOS_FILE_INFO",13:"AFP_SHORT_NAME",14:"AFP_FILE_INFO",15:"AFP_DIRECTORY_ID"});function e(t,s,r){this._io=t,this._parent=s,this._root=r,this._debug={},this._read()}return e.prototype._read=function(){this._debug.type={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"AppleSingleDouble.Entry.Types"},this.type=this._io.readU4be(),this._debug.type.end=this._io.pos,this._debug.ofsBody={start:this._io.pos,ioOffset:this._io.byteOffset},this.ofsBody=this._io.readU4be(),this._debug.ofsBody.end=this._io.pos,this._debug.lenBody={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenBody=this._io.readU4be(),this._debug.lenBody.end=this._io.pos},Object.defineProperty(e.prototype,"body",{get:function(){if(this._m_body!==void 0)return this._m_body;var t=this._io.pos;switch(this._io.seek(this.ofsBody),this._debug._m_body={start:this._io.pos,ioOffset:this._io.byteOffset},this.type){case n.Entry.Types.FINDER_INFO:this._raw__m_body=this._io.readBytes(this.lenBody);var s=new _(this._raw__m_body);this._m_body=new h(s,this,this._root);break;default:this._m_body=this._io.readBytes(this.lenBody);break}return this._debug._m_body.end=this._io.pos,this._io.seek(t),this._m_body}}),e})(),h=n.FinderInfo=(function(){function e(t,s,r){this._io=t,this._parent=s,this._root=r,this._debug={},this._read()}return e.prototype._read=function(){this._debug.fileType={start:this._io.pos,ioOffset:this._io.byteOffset},this.fileType=this._io.readBytes(4),this._debug.fileType.end=this._io.pos,this._debug.fileCreator={start:this._io.pos,ioOffset:this._io.byteOffset},this.fileCreator=this._io.readBytes(4),this._debug.fileCreator.end=this._io.pos,this._debug.flags={start:this._io.pos,ioOffset:this._io.byteOffset},this.flags=this._io.readU2be(),this._debug.flags.end=this._io.pos,this._debug.location={start:this._io.pos,ioOffset:this._io.byteOffset},this.location=new f(this._io,this,this._root),this._debug.location.end=this._io.pos,this._debug.folderId={start:this._io.pos,ioOffset:this._io.byteOffset},this.folderId=this._io.readU2be(),this._debug.folderId.end=this._io.pos},e})(),f=n.Point=(function(){function e(t,s,r){this._io=t,this._parent=s,this._root=r,this._debug={},this._read()}return e.prototype._read=function(){this._debug.x={start:this._io.pos,ioOffset:this._io.byteOffset},this.x=this._io.readU2be(),this._debug.x.end=this._io.pos,this._debug.y={start:this._io.pos,ioOffset:this._io.byteOffset},this.y=this._io.readU2be(),this._debug.y.end=this._io.pos},e})();return n})();i.AppleSingleDouble=d})}});const c=b(),O={id:"apple_single_double",title:"AppleSingle / AppleDouble",ksy:{meta:{id:"apple_single_double",title:"AppleSingle / AppleDouble",xref:{forensicswiki:"appledouble_header_file",justsolve:"AppleDouble",rfc:1740,wikidata:"Q4781113"},tags:["filesystem","macos"],license:"CC0-1.0",endian:"be"},doc:`AppleSingle and AppleDouble files are used by certain Mac
applications (e.g. Finder) to store Mac-specific file attributes on
filesystems that do not support that.

Syntactically, both formats are the same, the only difference is how
they are being used:

* AppleSingle means that only one file will be created on external
  filesystem that will hold both the data (AKA "data fork" in Apple
  terminology), and the attributes (AKA "resource fork").
* AppleDouble means that two files will be created: a normal file
  that keeps the data ("data fork") is kept separately from an
  auxiliary file that contains attributes ("resource fork"), which
  is kept with the same name, but starting with an extra dot and
  underscore \`._\` to keep it hidden.

In modern practice (Mac OS X), Finder only uses AppleDouble to keep
compatibility with other OSes, as virtually nobody outside of Mac
understands how to access data in AppleSingle container.
`,"doc-ref":"http://kaiser-edv.de/documents/AppleSingle_AppleDouble.pdf",seq:[{id:"magic",type:"u4",enum:"file_type"},{id:"version",type:"u4"},{id:"reserved",size:16,doc:"Must be all 0."},{id:"num_entries",type:"u2"},{id:"entries",type:"entry",repeat:"expr","repeat-expr":"num_entries"}],enums:{file_type:{333312:"apple_single",333319:"apple_double"}},types:{entry:{seq:[{id:"type",type:"u4",enum:"types"},{id:"ofs_body",type:"u4"},{id:"len_body",type:"u4"}],instances:{body:{pos:"ofs_body",size:"len_body",type:{"switch-on":"type",cases:{"types::finder_info":"finder_info"}}}},enums:{types:{1:{id:"data_fork"},2:{id:"resource_fork"},3:{id:"real_name",doc:"File name on a file system that supports all the attributes."},4:{id:"comment"},5:{id:"icon_bw"},6:{id:"icon_color"},8:{id:"file_dates_info",doc:"File creation, modification, access date/timestamps."},9:{id:"finder_info"},10:{id:"macintosh_file_info"},11:{id:"prodos_file_info"},12:{id:"msdos_file_info"},13:{id:"afp_short_name"},14:{id:"afp_file_info"},15:{id:"afp_directory_id"}}}},finder_info:{"-orig-id":"FInfo",doc:"Information specific to Finder","doc-ref":"older Inside Macintosh, Volume II page 84 or Volume IV page 104.",seq:[{id:"file_type","-orig-id":"fdType",size:4},{id:"file_creator","-orig-id":"fdCreator",size:4},{id:"flags","-orig-id":"fdFlags",type:"u2"},{id:"location","-orig-id":"fdLocation",type:"point",doc:"File icon's coordinates when displaying this folder."},{id:"folder_id","-orig-id":"fdFldr",type:"u2",doc:"File folder ID (=window)."}]},point:{doc:"Specifies 2D coordinate in QuickDraw grid.",seq:[{id:"x",type:"u2"},{id:"y",type:"u2"}]}}}};export{c as default,O as spec};
