import{k as f}from"./index-C9sUxlHS.js";var p=Object.getOwnPropertyNames,b=(o,s)=>function(){return s||(0,o[p(o)[0]])((s={exports:{}}).exports,s),s.exports},m=b({"<stdin>"(o){(function(s,e){typeof define=="function"&&define.amd?define(["exports","kaitai-struct/KaitaiStream"],e):typeof o=="object"&&o!==null&&typeof o.nodeType!="number"?e(o,f.KaitaiStream):e(s.GenmidiOp2||(s.GenmidiOp2={}),s.KaitaiStream)})(typeof self<"u"?self:o,function(s,e){var a=(function(){function r(i,t,n){this._io=i,this._parent=t,this._root=n||this,this._debug={},this._read()}r.prototype._read=function(){if(this._debug.magic={start:this._io.pos,ioOffset:this._io.byteOffset},this.magic=this._io.readBytes(8),this._debug.magic.end=this._io.pos,e.byteArrayCompare(this.magic,new Uint8Array([35,79,80,76,95,73,73,35]))!=0){var i=new e.ValidationNotEqualError(new Uint8Array([35,79,80,76,95,73,73,35]),this.magic,this._io,"/seq/0");throw this._debug.magic.validationError=i,i}this._debug.instruments={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.instruments.arr=[],this.instruments=[];for(var t=0;t<175;t++)this._debug.instruments.arr[t]={start:this._io.pos,ioOffset:this._io.byteOffset},this.instruments.push(new u(this._io,this,this._root)),this._debug.instruments.arr[t].end=this._io.pos;this._debug.instruments.end=this._io.pos,this._debug.instrumentNames={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.instrumentNames.arr=[],this.instrumentNames=[];for(var t=0;t<175;t++)this._debug.instrumentNames.arr[t]={start:this._io.pos,ioOffset:this._io.byteOffset},this.instrumentNames.push(e.bytesToStr(e.bytesTerminate(e.bytesStripRight(this._io.readBytes(32),0),0,!1),"ASCII")),this._debug.instrumentNames.arr[t].end=this._io.pos;this._debug.instrumentNames.end=this._io.pos};var _=r.Instrument=(function(){function i(t,n,h){this._io=t,this._parent=n,this._root=h,this._debug={},this._read()}return i.prototype._read=function(){this._debug.op1={start:this._io.pos,ioOffset:this._io.byteOffset},this.op1=new d(this._io,this,this._root),this._debug.op1.end=this._io.pos,this._debug.feedback={start:this._io.pos,ioOffset:this._io.byteOffset},this.feedback=this._io.readU1(),this._debug.feedback.end=this._io.pos,this._debug.op2={start:this._io.pos,ioOffset:this._io.byteOffset},this.op2=new d(this._io,this,this._root),this._debug.op2.end=this._io.pos,this._debug.unused={start:this._io.pos,ioOffset:this._io.byteOffset},this.unused=this._io.readU1(),this._debug.unused.end=this._io.pos,this._debug.baseNote={start:this._io.pos,ioOffset:this._io.byteOffset},this.baseNote=this._io.readS2le(),this._debug.baseNote.end=this._io.pos},i})(),u=r.InstrumentEntry=(function(){function i(t,n,h){this._io=t,this._parent=n,this._root=h,this._debug={},this._read()}return i.prototype._read=function(){this._debug.flags={start:this._io.pos,ioOffset:this._io.byteOffset},this.flags=this._io.readU2le(),this._debug.flags.end=this._io.pos,this._debug.finetune={start:this._io.pos,ioOffset:this._io.byteOffset},this.finetune=this._io.readU1(),this._debug.finetune.end=this._io.pos,this._debug.note={start:this._io.pos,ioOffset:this._io.byteOffset},this.note=this._io.readU1(),this._debug.note.end=this._io.pos,this._debug.instruments={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.instruments.arr=[],this.instruments=[];for(var t=0;t<2;t++)this._debug.instruments.arr[t]={start:this._io.pos,ioOffset:this._io.byteOffset},this.instruments.push(new _(this._io,this,this._root)),this._debug.instruments.arr[t].end=this._io.pos;this._debug.instruments.end=this._io.pos},i})(),d=r.OpSettings=(function(){function i(t,n,h){this._io=t,this._parent=n,this._root=h,this._debug={},this._read()}return i.prototype._read=function(){this._debug.tremVibr={start:this._io.pos,ioOffset:this._io.byteOffset},this.tremVibr=this._io.readU1(),this._debug.tremVibr.end=this._io.pos,this._debug.attDec={start:this._io.pos,ioOffset:this._io.byteOffset},this.attDec=this._io.readU1(),this._debug.attDec.end=this._io.pos,this._debug.sustRel={start:this._io.pos,ioOffset:this._io.byteOffset},this.sustRel=this._io.readU1(),this._debug.sustRel.end=this._io.pos,this._debug.wave={start:this._io.pos,ioOffset:this._io.byteOffset},this.wave=this._io.readU1(),this._debug.wave.end=this._io.pos,this._debug.scale={start:this._io.pos,ioOffset:this._io.byteOffset},this.scale=this._io.readU1(),this._debug.scale.end=this._io.pos,this._debug.level={start:this._io.pos,ioOffset:this._io.byteOffset},this.level=this._io.readU1(),this._debug.level.end=this._io.pos},i})();return r})();s.GenmidiOp2=a})}});const y=m(),c={id:"genmidi_op2",title:"GENMIDI.OP2 OPL2 sound bank",ksy:{meta:{id:"genmidi_op2",title:"GENMIDI.OP2 OPL2 sound bank","file-extension":"op2",xref:{wikidata:"Q32098356"},license:"CC0-1.0","ks-version":.9,encoding:"ASCII",endian:"le"},doc:`GENMIDI.OP2 is a sound bank file used by players based on DMX sound
library to play MIDI files with General MIDI instruments using OPL2
sound chip (which was commonly installed on popular AdLib and Sound
Blaster sound cards).

Major users of DMX sound library include:

* Original Doom game engine (and games based on it: Heretic, Hexen, Strife, Chex Quest)
* Raptor: Call of the Shadows
`,"doc-ref":["http://www.fit.vutbr.cz/~arnost/muslib/op2_form.zip","https://doom.fandom.com/wiki/GENMIDI","https://moddingwiki.shikadi.net/wiki/OP2_Bank_Format"],seq:[{id:"magic",contents:"#OPL_II#"},{id:"instruments",type:"instrument_entry",repeat:"expr","repeat-expr":175},{id:"instrument_names",type:"str",size:32,"pad-right":0,terminator:0,repeat:"expr","repeat-expr":175}],types:{instrument_entry:{seq:[{id:"flags",type:"u2"},{id:"finetune",type:"u1"},{id:"note",type:"u1",doc:"MIDI note for fixed instruments, 0 otherwise"},{id:"instruments",repeat:"expr","repeat-expr":2,type:"instrument"}]},instrument:{seq:[{id:"op1",type:"op_settings"},{id:"feedback",type:"u1",doc:"Feedback/AM-FM (both operators)"},{id:"op2",type:"op_settings"},{id:"unused",type:"u1"},{id:"base_note",type:"s2",doc:"Base note offset"}]},op_settings:{doc:`OPL2 settings for one operator (carrier or modulator)
`,seq:[{id:"trem_vibr",type:"u1",doc:"Tremolo/vibrato/sustain/KSR/multi"},{id:"att_dec",type:"u1",doc:"Attack rate/decay rate"},{id:"sust_rel",type:"u1",doc:"Sustain level/release rate"},{id:"wave",type:"u1",doc:"Waveform select"},{id:"scale",type:"u1",doc:"Key scale level"},{id:"level",type:"u1",doc:"Output level"}]}}}};export{y as default,c as spec};
