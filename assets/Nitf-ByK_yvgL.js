import{k as L}from"./index-COA_x_BK.js";var C=Object.getOwnPropertyNames,P=(_,h)=>function(){return h||(0,_[C(_)[0]])((h={exports:{}}).exports,h),h.exports},N=P({"<stdin>"(_){(function(h,t){typeof define=="function"&&define.amd?define(["exports","kaitai-struct/KaitaiStream"],t):typeof _=="object"&&_!==null&&typeof _.nodeType!="number"?t(_,L.KaitaiStream):t(h.Nitf||(h.Nitf={}),h.KaitaiStream)})(typeof self<"u"?self:_,function(h,t){var u=(function(){function r(e,s,i){this._io=e,this._parent=s,this._root=i||this,this._debug={},this._read()}r.prototype._read=function(){this._debug.header={start:this._io.pos,ioOffset:this._io.byteOffset},this.header=new O(this._io,this,this._root),this._debug.header.end=this._io.pos,this._debug.imageSegments={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.imageSegments.arr=[],this.imageSegments=[];for(var e=0;e<Number.parseInt(this.header.numImageSegments,10);e++)this._debug.imageSegments.arr[e]={start:this._io.pos,ioOffset:this._io.byteOffset},this.imageSegments.push(new S(this._io,this,this._root,e)),this._debug.imageSegments.arr[e].end=this._io.pos;this._debug.imageSegments.end=this._io.pos,this._debug.graphicsSegments={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.graphicsSegments.arr=[],this.graphicsSegments=[];for(var e=0;e<Number.parseInt(this.header.numGraphicsSegments,10);e++)this._debug.graphicsSegments.arr[e]={start:this._io.pos,ioOffset:this._io.byteOffset},this.graphicsSegments.push(new c(this._io,this,this._root,e)),this._debug.graphicsSegments.arr[e].end=this._io.pos;this._debug.graphicsSegments.end=this._io.pos,this._debug.textSegments={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.textSegments.arr=[],this.textSegments=[];for(var e=0;e<Number.parseInt(this.header.numTextFiles,10);e++)this._debug.textSegments.arr[e]={start:this._io.pos,ioOffset:this._io.byteOffset},this.textSegments.push(new E(this._io,this,this._root,e)),this._debug.textSegments.arr[e].end=this._io.pos;this._debug.textSegments.end=this._io.pos,this._debug.dataExtensionSegments={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.dataExtensionSegments.arr=[],this.dataExtensionSegments=[];for(var e=0;e<Number.parseInt(this.header.numDataExtension,10);e++)this._debug.dataExtensionSegments.arr[e]={start:this._io.pos,ioOffset:this._io.byteOffset},this.dataExtensionSegments.push(new y(this._io,this,this._root,e)),this._debug.dataExtensionSegments.arr[e].end=this._io.pos;this._debug.dataExtensionSegments.end=this._io.pos,this._debug.reservedExtensionSegments={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.reservedExtensionSegments.arr=[],this.reservedExtensionSegments=[];for(var e=0;e<Number.parseInt(this.header.numReservedExtension,10);e++)this._debug.reservedExtensionSegments.arr[e]={start:this._io.pos,ioOffset:this._io.byteOffset},this.reservedExtensionSegments.push(new I(this._io,this,this._root,e)),this._debug.reservedExtensionSegments.arr[e].end=this._io.pos;this._debug.reservedExtensionSegments.end=this._io.pos};var b=r.BandInfo=(function(){function e(s,i,o){this._io=s,this._parent=i,this._root=o,this._debug={},this._read()}return e.prototype._read=function(){if(this._debug.representation={start:this._io.pos,ioOffset:this._io.byteOffset},this.representation=t.bytesToStr(this._io.readBytes(2),"UTF-8"),this._debug.representation.end=this._io.pos,this._debug.subcategory={start:this._io.pos,ioOffset:this._io.byteOffset},this.subcategory=t.bytesToStr(this._io.readBytes(6),"UTF-8"),this._debug.subcategory.end=this._io.pos,this._debug.imgFilterCondition={start:this._io.pos,ioOffset:this._io.byteOffset},this.imgFilterCondition=this._io.readBytes(1),this._debug.imgFilterCondition.end=this._io.pos,t.byteArrayCompare(this.imgFilterCondition,new Uint8Array([78]))!=0){var s=new t.ValidationNotEqualError(new Uint8Array([78]),this.imgFilterCondition,this._io,"/types/band_info/seq/2");throw this._debug.imgFilterCondition.validationError=s,s}this._debug.imgFilterCode={start:this._io.pos,ioOffset:this._io.byteOffset},this.imgFilterCode=t.bytesToStr(this._io.readBytes(3),"UTF-8"),this._debug.imgFilterCode.end=this._io.pos,this._debug.numLuts={start:this._io.pos,ioOffset:this._io.byteOffset},this.numLuts=t.bytesToStr(this._io.readBytes(1),"UTF-8"),this._debug.numLuts.end=this._io.pos,Number.parseInt(this.numLuts,10)!=0&&(this._debug.numLutEntries={start:this._io.pos,ioOffset:this._io.byteOffset},this.numLutEntries=t.bytesToStr(this._io.readBytes(5),"UTF-8"),this._debug.numLutEntries.end=this._io.pos),this._debug.luts={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.luts.arr=[],this.luts=[];for(var i=0;i<Number.parseInt(this.numLuts,10);i++)this._debug.luts.arr[i]={start:this._io.pos,ioOffset:this._io.byteOffset},this.luts.push(this._io.readBytes(Number.parseInt(this.numLutEntries,10))),this._debug.luts.arr[i].end=this._io.pos;this._debug.luts.end=this._io.pos},e})(),n=r.Clasnfo=(function(){function e(s,i,o){this._io=s,this._parent=i,this._root=o,this._debug={},this._read()}return e.prototype._read=function(){this._debug.securityClass={start:this._io.pos,ioOffset:this._io.byteOffset},this.securityClass=t.bytesToStr(this._io.readBytes(1),"UTF-8"),this._debug.securityClass.end=this._io.pos,this._debug.securitySystem={start:this._io.pos,ioOffset:this._io.byteOffset},this.securitySystem=t.bytesToStr(this._io.readBytes(2),"UTF-8"),this._debug.securitySystem.end=this._io.pos,this._debug.codewords={start:this._io.pos,ioOffset:this._io.byteOffset},this.codewords=t.bytesToStr(this._io.readBytes(11),"UTF-8"),this._debug.codewords.end=this._io.pos,this._debug.controlAndHandling={start:this._io.pos,ioOffset:this._io.byteOffset},this.controlAndHandling=t.bytesToStr(this._io.readBytes(2),"UTF-8"),this._debug.controlAndHandling.end=this._io.pos,this._debug.releaseability={start:this._io.pos,ioOffset:this._io.byteOffset},this.releaseability=t.bytesToStr(this._io.readBytes(20),"UTF-8"),this._debug.releaseability.end=this._io.pos,this._debug.declassType={start:this._io.pos,ioOffset:this._io.byteOffset},this.declassType=t.bytesToStr(this._io.readBytes(2),"UTF-8"),this._debug.declassType.end=this._io.pos,this._debug.declassDate={start:this._io.pos,ioOffset:this._io.byteOffset},this.declassDate=t.bytesToStr(this._io.readBytes(8),"UTF-8"),this._debug.declassDate.end=this._io.pos,this._debug.declassExemption={start:this._io.pos,ioOffset:this._io.byteOffset},this.declassExemption=t.bytesToStr(this._io.readBytes(4),"UTF-8"),this._debug.declassExemption.end=this._io.pos,this._debug.downgrade={start:this._io.pos,ioOffset:this._io.byteOffset},this.downgrade=t.bytesToStr(this._io.readBytes(1),"UTF-8"),this._debug.downgrade.end=this._io.pos,this._debug.downgradeDate={start:this._io.pos,ioOffset:this._io.byteOffset},this.downgradeDate=t.bytesToStr(this._io.readBytes(8),"UTF-8"),this._debug.downgradeDate.end=this._io.pos,this._debug.classText={start:this._io.pos,ioOffset:this._io.byteOffset},this.classText=t.bytesToStr(this._io.readBytes(43),"UTF-8"),this._debug.classText.end=this._io.pos,this._debug.classAuthorityType={start:this._io.pos,ioOffset:this._io.byteOffset},this.classAuthorityType=t.bytesToStr(this._io.readBytes(1),"UTF-8"),this._debug.classAuthorityType.end=this._io.pos,this._debug.classAuthority={start:this._io.pos,ioOffset:this._io.byteOffset},this.classAuthority=t.bytesToStr(this._io.readBytes(40),"UTF-8"),this._debug.classAuthority.end=this._io.pos,this._debug.classReason={start:this._io.pos,ioOffset:this._io.byteOffset},this.classReason=t.bytesToStr(this._io.readBytes(1),"UTF-8"),this._debug.classReason.end=this._io.pos,this._debug.sourceDate={start:this._io.pos,ioOffset:this._io.byteOffset},this.sourceDate=t.bytesToStr(this._io.readBytes(8),"UTF-8"),this._debug.sourceDate.end=this._io.pos,this._debug.controlNumber={start:this._io.pos,ioOffset:this._io.byteOffset},this.controlNumber=t.bytesToStr(this._io.readBytes(15),"UTF-8"),this._debug.controlNumber.end=this._io.pos},e})(),y=r.DataExtensionSegment=(function(){function e(s,i,o,d){this._io=s,this._parent=i,this._root=o,this.idx=d,this._debug={},this._read()}return e.prototype._read=function(){this._debug.dataSubHeader={start:this._io.pos,ioOffset:this._io.byteOffset},this._raw_dataSubHeader=this._io.readBytes(Number.parseInt(this._parent.header.ldnfo[this.idx].lengthDataExtensionSubheader,10));var s=new t(this._raw_dataSubHeader);this.dataSubHeader=new l(s,this,this._root),this._debug.dataSubHeader.end=this._io.pos,this._debug.dataDataField={start:this._io.pos,ioOffset:this._io.byteOffset},this.dataDataField=this._io.readBytes(Number.parseInt(this._parent.header.ldnfo[this.idx].lengthDataExtensionSegment,10)),this._debug.dataDataField.end=this._io.pos},e})(),l=r.DataSubHeader=(function(){function e(s,i,o){this._io=s,this._parent=i,this._root=o,this._debug={},this._read()}return e.prototype._read=function(){this._debug.desBase={start:this._io.pos,ioOffset:this._io.byteOffset},this.desBase=new p(this._io,this,this._root),this._debug.desBase.end=this._io.pos,this.treOfl&&(this._debug.overflowedHeaderType={start:this._io.pos,ioOffset:this._io.byteOffset},this.overflowedHeaderType=t.bytesToStr(this._io.readBytes(6),"UTF-8"),this._debug.overflowedHeaderType.end=this._io.pos),this.treOfl&&(this._debug.dataItemOverflowed={start:this._io.pos,ioOffset:this._io.byteOffset},this.dataItemOverflowed=t.bytesToStr(this._io.readBytes(3),"UTF-8"),this._debug.dataItemOverflowed.end=this._io.pos),this._debug.desDefinedSubheaderFieldsLen={start:this._io.pos,ioOffset:this._io.byteOffset},this.desDefinedSubheaderFieldsLen=t.bytesToStr(this._io.readBytes(4),"UTF-8"),this._debug.desDefinedSubheaderFieldsLen.end=this._io.pos,this._debug.desshf={start:this._io.pos,ioOffset:this._io.byteOffset},this.desshf=t.bytesToStr(this._io.readBytes(Number.parseInt(this.desDefinedSubheaderFieldsLen,10)),"UTF-8"),this._debug.desshf.end=this._io.pos,this._debug.desDefinedDataField={start:this._io.pos,ioOffset:this._io.byteOffset},this.desDefinedDataField=t.bytesToStr(this._io.readBytesFull(),"UTF-8"),this._debug.desDefinedDataField.end=this._io.pos},Object.defineProperty(e.prototype,"treOfl",{get:function(){return this._m_treOfl!==void 0?this._m_treOfl:(this._debug._m_treOfl={},this._m_treOfl=this.desBase.desid=="TRE_OVERFLOW",this._m_treOfl)}}),e})(),p=r.DataSubHeaderBase=(function(){function e(s,i,o){this._io=s,this._parent=i,this._root=o,this._debug={},this._read()}return e.prototype._read=function(){if(this._debug.filePartTypeDe={start:this._io.pos,ioOffset:this._io.byteOffset},this.filePartTypeDe=this._io.readBytes(2),this._debug.filePartTypeDe.end=this._io.pos,t.byteArrayCompare(this.filePartTypeDe,new Uint8Array([68,69]))!=0){var s=new t.ValidationNotEqualError(new Uint8Array([68,69]),this.filePartTypeDe,this._io,"/types/data_sub_header_base/seq/0");throw this._debug.filePartTypeDe.validationError=s,s}this._debug.desid={start:this._io.pos,ioOffset:this._io.byteOffset},this.desid=t.bytesToStr(this._io.readBytes(25),"UTF-8"),this._debug.desid.end=this._io.pos,this._debug.dataDefinitionVersion={start:this._io.pos,ioOffset:this._io.byteOffset},this.dataDefinitionVersion=t.bytesToStr(this._io.readBytes(2),"UTF-8"),this._debug.dataDefinitionVersion.end=this._io.pos,this._debug.declasnfo={start:this._io.pos,ioOffset:this._io.byteOffset},this.declasnfo=new n(this._io,this,this._root),this._debug.declasnfo.end=this._io.pos},e})();r.DataSubHeaderStreaming=(function(){function e(s,i,o){this._io=s,this._parent=i,this._root=o,this._debug={},this._read()}return e.prototype._read=function(){this._debug.desBase={start:this._io.pos,ioOffset:this._io.byteOffset},this.desBase=new p(this._io,this,this._root),this._debug.desBase.end=this._io.pos,this._debug.desDefinedSubheaderFieldsLen={start:this._io.pos,ioOffset:this._io.byteOffset},this.desDefinedSubheaderFieldsLen=t.bytesToStr(this._io.readBytes(4),"UTF-8"),this._debug.desDefinedSubheaderFieldsLen.end=this._io.pos,this._debug.sfhL1={start:this._io.pos,ioOffset:this._io.byteOffset},this.sfhL1=t.bytesToStr(this._io.readBytes(7),"UTF-8"),this._debug.sfhL1.end=this._io.pos,this._debug.sfhDelim1={start:this._io.pos,ioOffset:this._io.byteOffset},this.sfhDelim1=this._io.readU4be(),this._debug.sfhDelim1.end=this._io.pos,this._debug.sfhDr={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.sfhDr.arr=[],this.sfhDr=[];for(var s=0;s<Number.parseInt(this.sfhL1,10);s++)this._debug.sfhDr.arr[s]={start:this._io.pos,ioOffset:this._io.byteOffset},this.sfhDr.push(this._io.readU1()),this._debug.sfhDr.arr[s].end=this._io.pos;this._debug.sfhDr.end=this._io.pos,this._debug.sfhDelim2={start:this._io.pos,ioOffset:this._io.byteOffset},this.sfhDelim2=this._io.readU4be(),this._debug.sfhDelim2.end=this._io.pos,this._debug.sfhL2={start:this._io.pos,ioOffset:this._io.byteOffset},this.sfhL2=t.bytesToStr(this._io.readBytes(7),"UTF-8"),this._debug.sfhL2.end=this._io.pos},e})(),r.DataSubHeaderTre=(function(){function e(s,i,o){this._io=s,this._parent=i,this._root=o,this._debug={},this._read()}return e.prototype._read=function(){this._debug.desBase={start:this._io.pos,ioOffset:this._io.byteOffset},this.desBase=new p(this._io,this,this._root),this._debug.desBase.end=this._io.pos,this.desBase.desid=="TRE_OVERFLOW"&&(this._debug.overflowedHeaderType={start:this._io.pos,ioOffset:this._io.byteOffset},this.overflowedHeaderType=t.bytesToStr(this._io.readBytes(6),"UTF-8"),this._debug.overflowedHeaderType.end=this._io.pos),this.desBase.desid=="TRE_OVERFLOW"&&(this._debug.dataItemOverflowed={start:this._io.pos,ioOffset:this._io.byteOffset},this.dataItemOverflowed=t.bytesToStr(this._io.readBytes(3),"UTF-8"),this._debug.dataItemOverflowed.end=this._io.pos),this._debug.desDefinedSubheaderFieldsLen={start:this._io.pos,ioOffset:this._io.byteOffset},this.desDefinedSubheaderFieldsLen=t.bytesToStr(this._io.readBytes(4),"UTF-8"),this._debug.desDefinedSubheaderFieldsLen.end=this._io.pos,this._debug.desDefinedDataField={start:this._io.pos,ioOffset:this._io.byteOffset},this.desDefinedDataField=t.bytesToStr(this._io.readBytes(Number.parseInt(this.desDefinedSubheaderFieldsLen,10)),"UTF-8"),this._debug.desDefinedDataField.end=this._io.pos},e})();var g=r.DateTime=(function(){function e(s,i,o){this._io=s,this._parent=i,this._root=o,this._debug={},this._read()}return e.prototype._read=function(){this._debug._unnamed0={start:this._io.pos,ioOffset:this._io.byteOffset},this._unnamed0=t.bytesToStr(this._io.readBytes(14),"UTF-8"),this._debug._unnamed0.end=this._io.pos},e})(),f=r.Encrypt=(function(){function e(s,i,o){this._io=s,this._parent=i,this._root=o,this._debug={},this._read()}return e.prototype._read=function(){this._debug._unnamed0={start:this._io.pos,ioOffset:this._io.byteOffset},this._unnamed0=t.bytesToStr(this._io.readBytes(1),"UTF-8"),this._debug._unnamed0.end=this._io.pos},e})(),m=r.GraphicSubHeader=(function(){function e(s,i,o){this._io=s,this._parent=i,this._root=o,this._debug={},this._read()}return e.prototype._read=function(){if(this._debug.filePartTypeSy={start:this._io.pos,ioOffset:this._io.byteOffset},this.filePartTypeSy=this._io.readBytes(2),this._debug.filePartTypeSy.end=this._io.pos,t.byteArrayCompare(this.filePartTypeSy,new Uint8Array([83,89]))!=0){var s=new t.ValidationNotEqualError(new Uint8Array([83,89]),this.filePartTypeSy,this._io,"/types/graphic_sub_header/seq/0");throw this._debug.filePartTypeSy.validationError=s,s}if(this._debug.graphicId={start:this._io.pos,ioOffset:this._io.byteOffset},this.graphicId=t.bytesToStr(this._io.readBytes(10),"UTF-8"),this._debug.graphicId.end=this._io.pos,this._debug.graphicName={start:this._io.pos,ioOffset:this._io.byteOffset},this.graphicName=t.bytesToStr(this._io.readBytes(20),"UTF-8"),this._debug.graphicName.end=this._io.pos,this._debug.graphicClassification={start:this._io.pos,ioOffset:this._io.byteOffset},this.graphicClassification=new n(this._io,this,this._root),this._debug.graphicClassification.end=this._io.pos,this._debug.encryption={start:this._io.pos,ioOffset:this._io.byteOffset},this.encryption=new f(this._io,this,this._root),this._debug.encryption.end=this._io.pos,this._debug.graphicType={start:this._io.pos,ioOffset:this._io.byteOffset},this.graphicType=this._io.readBytes(1),this._debug.graphicType.end=this._io.pos,t.byteArrayCompare(this.graphicType,new Uint8Array([67]))!=0){var s=new t.ValidationNotEqualError(new Uint8Array([67]),this.graphicType,this._io,"/types/graphic_sub_header/seq/5");throw this._debug.graphicType.validationError=s,s}this._debug.reserved1={start:this._io.pos,ioOffset:this._io.byteOffset},this.reserved1=t.bytesToStr(this._io.readBytes(13),"UTF-8"),this._debug.reserved1.end=this._io.pos,this._debug.graphicDisplayLevel={start:this._io.pos,ioOffset:this._io.byteOffset},this.graphicDisplayLevel=t.bytesToStr(this._io.readBytes(3),"UTF-8"),this._debug.graphicDisplayLevel.end=this._io.pos,this._debug.graphicAttachmentLevel={start:this._io.pos,ioOffset:this._io.byteOffset},this.graphicAttachmentLevel=t.bytesToStr(this._io.readBytes(3),"UTF-8"),this._debug.graphicAttachmentLevel.end=this._io.pos,this._debug.graphicLocation={start:this._io.pos,ioOffset:this._io.byteOffset},this.graphicLocation=t.bytesToStr(this._io.readBytes(10),"UTF-8"),this._debug.graphicLocation.end=this._io.pos,this._debug.firstGraphicBoundLoc={start:this._io.pos,ioOffset:this._io.byteOffset},this.firstGraphicBoundLoc=t.bytesToStr(this._io.readBytes(10),"UTF-8"),this._debug.firstGraphicBoundLoc.end=this._io.pos,this._debug.graphicColor={start:this._io.pos,ioOffset:this._io.byteOffset},this.graphicColor=t.bytesToStr(this._io.readBytes(1),"UTF-8"),this._debug.graphicColor.end=this._io.pos,this._debug.secondGraphicBoundLoc={start:this._io.pos,ioOffset:this._io.byteOffset},this.secondGraphicBoundLoc=t.bytesToStr(this._io.readBytes(10),"UTF-8"),this._debug.secondGraphicBoundLoc.end=this._io.pos,this._debug.reserved2={start:this._io.pos,ioOffset:this._io.byteOffset},this.reserved2=t.bytesToStr(this._io.readBytes(2),"UTF-8"),this._debug.reserved2.end=this._io.pos,this._debug.graphicsExtendedSubHeader={start:this._io.pos,ioOffset:this._io.byteOffset},this.graphicsExtendedSubHeader=new a(this._io,this,this._root),this._debug.graphicsExtendedSubHeader.end=this._io.pos},e})(),c=r.GraphicsSegment=(function(){function e(s,i,o,d){this._io=s,this._parent=i,this._root=o,this.idx=d,this._debug={},this._read()}return e.prototype._read=function(){this._debug.graphicSubHeader={start:this._io.pos,ioOffset:this._io.byteOffset},this.graphicSubHeader=new m(this._io,this,this._root),this._debug.graphicSubHeader.end=this._io.pos,this._debug.graphicDataField={start:this._io.pos,ioOffset:this._io.byteOffset},this.graphicDataField=this._io.readBytes(Number.parseInt(this._parent.header.lnnfo[this.idx].lengthGraphicSegment,10)),this._debug.graphicDataField.end=this._io.pos},e})(),O=r.Header=(function(){function e(s,i,o){this._io=s,this._parent=i,this._root=o,this._debug={},this._read()}return e.prototype._read=function(){if(this._debug.fileProfileName={start:this._io.pos,ioOffset:this._io.byteOffset},this.fileProfileName=this._io.readBytes(4),this._debug.fileProfileName.end=this._io.pos,t.byteArrayCompare(this.fileProfileName,new Uint8Array([78,73,84,70]))!=0){var s=new t.ValidationNotEqualError(new Uint8Array([78,73,84,70]),this.fileProfileName,this._io,"/types/header/seq/0");throw this._debug.fileProfileName.validationError=s,s}if(this._debug.fileVersion={start:this._io.pos,ioOffset:this._io.byteOffset},this.fileVersion=this._io.readBytes(5),this._debug.fileVersion.end=this._io.pos,t.byteArrayCompare(this.fileVersion,new Uint8Array([48,50,46,49,48]))!=0){var s=new t.ValidationNotEqualError(new Uint8Array([48,50,46,49,48]),this.fileVersion,this._io,"/types/header/seq/1");throw this._debug.fileVersion.validationError=s,s}if(this._debug.complexityLevel={start:this._io.pos,ioOffset:this._io.byteOffset},this.complexityLevel=this._io.readBytes(2),this._debug.complexityLevel.end=this._io.pos,this._debug.standardType={start:this._io.pos,ioOffset:this._io.byteOffset},this.standardType=this._io.readBytes(4),this._debug.standardType.end=this._io.pos,t.byteArrayCompare(this.standardType,new Uint8Array([66,70,48,49]))!=0){var s=new t.ValidationNotEqualError(new Uint8Array([66,70,48,49]),this.standardType,this._io,"/types/header/seq/3");throw this._debug.standardType.validationError=s,s}this._debug.originatingStationId={start:this._io.pos,ioOffset:this._io.byteOffset},this.originatingStationId=t.bytesToStr(this._io.readBytes(10),"UTF-8"),this._debug.originatingStationId.end=this._io.pos,this._debug.fileDateTime={start:this._io.pos,ioOffset:this._io.byteOffset},this.fileDateTime=new g(this._io,this,this._root),this._debug.fileDateTime.end=this._io.pos,this._debug.fileTitle={start:this._io.pos,ioOffset:this._io.byteOffset},this.fileTitle=t.bytesToStr(this._io.readBytes(80),"UTF-8"),this._debug.fileTitle.end=this._io.pos,this._debug.fileSecurity={start:this._io.pos,ioOffset:this._io.byteOffset},this.fileSecurity=new n(this._io,this,this._root),this._debug.fileSecurity.end=this._io.pos,this._debug.fileCopyNumber={start:this._io.pos,ioOffset:this._io.byteOffset},this.fileCopyNumber=t.bytesToStr(this._io.readBytes(5),"UTF-8"),this._debug.fileCopyNumber.end=this._io.pos,this._debug.fileNumOfCopys={start:this._io.pos,ioOffset:this._io.byteOffset},this.fileNumOfCopys=t.bytesToStr(this._io.readBytes(5),"UTF-8"),this._debug.fileNumOfCopys.end=this._io.pos,this._debug.encryption={start:this._io.pos,ioOffset:this._io.byteOffset},this.encryption=new f(this._io,this,this._root),this._debug.encryption.end=this._io.pos,this._debug.fileBgColor={start:this._io.pos,ioOffset:this._io.byteOffset},this.fileBgColor=this._io.readBytes(3),this._debug.fileBgColor.end=this._io.pos,this._debug.originatorName={start:this._io.pos,ioOffset:this._io.byteOffset},this.originatorName=t.bytesToStr(this._io.readBytes(24),"UTF-8"),this._debug.originatorName.end=this._io.pos,this._debug.originatorPhone={start:this._io.pos,ioOffset:this._io.byteOffset},this.originatorPhone=t.bytesToStr(this._io.readBytes(18),"UTF-8"),this._debug.originatorPhone.end=this._io.pos,this._debug.fileLength={start:this._io.pos,ioOffset:this._io.byteOffset},this.fileLength=t.bytesToStr(this._io.readBytes(12),"UTF-8"),this._debug.fileLength.end=this._io.pos,this._debug.fileHeaderLength={start:this._io.pos,ioOffset:this._io.byteOffset},this.fileHeaderLength=t.bytesToStr(this._io.readBytes(6),"UTF-8"),this._debug.fileHeaderLength.end=this._io.pos,this._debug.numImageSegments={start:this._io.pos,ioOffset:this._io.byteOffset},this.numImageSegments=t.bytesToStr(this._io.readBytes(3),"UTF-8"),this._debug.numImageSegments.end=this._io.pos,this._debug.linfo={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.linfo.arr=[],this.linfo=[];for(var i=0;i<Number.parseInt(this.numImageSegments,10);i++)this._debug.linfo.arr[i]={start:this._io.pos,ioOffset:this._io.byteOffset},this.linfo.push(new F(this._io,this,this._root)),this._debug.linfo.arr[i].end=this._io.pos;this._debug.linfo.end=this._io.pos,this._debug.numGraphicsSegments={start:this._io.pos,ioOffset:this._io.byteOffset},this.numGraphicsSegments=t.bytesToStr(this._io.readBytes(3),"UTF-8"),this._debug.numGraphicsSegments.end=this._io.pos,this._debug.lnnfo={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.lnnfo.arr=[],this.lnnfo=[];for(var i=0;i<Number.parseInt(this.numGraphicsSegments,10);i++)this._debug.lnnfo.arr[i]={start:this._io.pos,ioOffset:this._io.byteOffset},this.lnnfo.push(new D(this._io,this,this._root)),this._debug.lnnfo.arr[i].end=this._io.pos;this._debug.lnnfo.end=this._io.pos,this._debug.reservedNumx={start:this._io.pos,ioOffset:this._io.byteOffset},this.reservedNumx=t.bytesToStr(this._io.readBytes(3),"UTF-8"),this._debug.reservedNumx.end=this._io.pos,this._debug.numTextFiles={start:this._io.pos,ioOffset:this._io.byteOffset},this.numTextFiles=t.bytesToStr(this._io.readBytes(3),"UTF-8"),this._debug.numTextFiles.end=this._io.pos,this._debug.ltnfo={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.ltnfo.arr=[],this.ltnfo=[];for(var i=0;i<Number.parseInt(this.numTextFiles,10);i++)this._debug.ltnfo.arr[i]={start:this._io.pos,ioOffset:this._io.byteOffset},this.ltnfo.push(new U(this._io,this,this._root)),this._debug.ltnfo.arr[i].end=this._io.pos;this._debug.ltnfo.end=this._io.pos,this._debug.numDataExtension={start:this._io.pos,ioOffset:this._io.byteOffset},this.numDataExtension=t.bytesToStr(this._io.readBytes(3),"UTF-8"),this._debug.numDataExtension.end=this._io.pos,this._debug.ldnfo={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.ldnfo.arr=[],this.ldnfo=[];for(var i=0;i<Number.parseInt(this.numDataExtension,10);i++)this._debug.ldnfo.arr[i]={start:this._io.pos,ioOffset:this._io.byteOffset},this.ldnfo.push(new B(this._io,this,this._root)),this._debug.ldnfo.arr[i].end=this._io.pos;this._debug.ldnfo.end=this._io.pos,this._debug.numReservedExtension={start:this._io.pos,ioOffset:this._io.byteOffset},this.numReservedExtension=t.bytesToStr(this._io.readBytes(3),"UTF-8"),this._debug.numReservedExtension.end=this._io.pos,this._debug.lrnfo={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.lrnfo.arr=[],this.lrnfo=[];for(var i=0;i<Number.parseInt(this.numReservedExtension,10);i++)this._debug.lrnfo.arr[i]={start:this._io.pos,ioOffset:this._io.byteOffset},this.lrnfo.push(new z(this._io,this,this._root)),this._debug.lrnfo.arr[i].end=this._io.pos;this._debug.lrnfo.end=this._io.pos,this._debug.userDefinedHeader={start:this._io.pos,ioOffset:this._io.byteOffset},this.userDefinedHeader=new a(this._io,this,this._root),this._debug.userDefinedHeader.end=this._io.pos,this._debug.extendedHeader={start:this._io.pos,ioOffset:this._io.byteOffset},this.extendedHeader=new a(this._io,this,this._root),this._debug.extendedHeader.end=this._io.pos},e})(),T=r.ImageComment=(function(){function e(s,i,o){this._io=s,this._parent=i,this._root=o,this._debug={},this._read()}return e.prototype._read=function(){this._debug._unnamed0={start:this._io.pos,ioOffset:this._io.byteOffset},this._unnamed0=t.bytesToStr(this._io.readBytes(80),"UTF-8"),this._debug._unnamed0.end=this._io.pos},e})(),x=r.ImageDataMask=(function(){function e(s,i,o){this._io=s,this._parent=i,this._root=o,this._debug={},this._read()}return e.prototype._read=function(){if(this._debug.blockedImgDataOffset={start:this._io.pos,ioOffset:this._io.byteOffset},this.blockedImgDataOffset=this._io.readU4be(),this._debug.blockedImgDataOffset.end=this._io.pos,this._debug.bmrlnth={start:this._io.pos,ioOffset:this._io.byteOffset},this.bmrlnth=this._io.readU2be(),this._debug.bmrlnth.end=this._io.pos,this._debug.tmrlnth={start:this._io.pos,ioOffset:this._io.byteOffset},this.tmrlnth=this._io.readU2be(),this._debug.tmrlnth.end=this._io.pos,this._debug.tpxcdlnth={start:this._io.pos,ioOffset:this._io.byteOffset},this.tpxcdlnth=this._io.readU2be(),this._debug.tpxcdlnth.end=this._io.pos,this._debug.tpxcd={start:this._io.pos,ioOffset:this._io.byteOffset},this.tpxcd=this._io.readBytes(this.tpxcdSize),this._debug.tpxcd.end=this._io.pos,this.hasBmr){this._debug.bmrbnd={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.bmrbnd.arr=[],this.bmrbnd=[];for(var s=0;s<this.bmrtmrCount;s++)this._debug.bmrbnd.arr[s]={start:this._io.pos,ioOffset:this._io.byteOffset},this.bmrbnd.push(this._io.readU4be()),this._debug.bmrbnd.arr[s].end=this._io.pos;this._debug.bmrbnd.end=this._io.pos}if(this.hasTmr){this._debug.tmrbnd={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.tmrbnd.arr=[],this.tmrbnd=[];for(var s=0;s<this.bmrtmrCount;s++)this._debug.tmrbnd.arr[s]={start:this._io.pos,ioOffset:this._io.byteOffset},this.tmrbnd.push(this._io.readU4be()),this._debug.tmrbnd.arr[s].end=this._io.pos;this._debug.tmrbnd.end=this._io.pos}},Object.defineProperty(e.prototype,"bmrbndSize",{get:function(){return this._m_bmrbndSize!==void 0?this._m_bmrbndSize:(this._debug._m_bmrbndSize={},this._m_bmrbndSize=this.hasBmr?this.bmrtmrCount*4:0,this._m_bmrbndSize)}}),Object.defineProperty(e.prototype,"bmrtmrCount",{get:function(){return this._m_bmrtmrCount!==void 0?this._m_bmrtmrCount:(this._debug._m_bmrtmrCount={},this._m_bmrtmrCount=Number.parseInt(this._parent.imageSubHeader.numBlocksPerRow,10)*Number.parseInt(this._parent.imageSubHeader.numBlocksPerCol,10)*(this._parent.imageSubHeader.imgMode!="S"?1:Number.parseInt(this._parent.imageSubHeader.numBands,10)!=0?Number.parseInt(this._parent.imageSubHeader.numBands,10):Number.parseInt(this._parent.imageSubHeader.numMultispectralBands,10)),this._m_bmrtmrCount)}}),Object.defineProperty(e.prototype,"hasBmr",{get:function(){return this._m_hasBmr!==void 0?this._m_hasBmr:(this._debug._m_hasBmr={},this._m_hasBmr=this.bmrlnth!=0,this._m_hasBmr)}}),Object.defineProperty(e.prototype,"hasTmr",{get:function(){return this._m_hasTmr!==void 0?this._m_hasTmr:(this._debug._m_hasTmr={},this._m_hasTmr=this.tmrlnth!=0,this._m_hasTmr)}}),Object.defineProperty(e.prototype,"tmrbndSize",{get:function(){return this._m_tmrbndSize!==void 0?this._m_tmrbndSize:(this._debug._m_tmrbndSize={},this._m_tmrbndSize=this.hasTmr?this.bmrtmrCount*4:0,this._m_tmrbndSize)}}),Object.defineProperty(e.prototype,"totalSize",{get:function(){return this._m_totalSize!==void 0?this._m_totalSize:(this._debug._m_totalSize={},this._m_totalSize=10+this.tpxcdSize+this.bmrbndSize+this.tmrbndSize,this._m_totalSize)}}),Object.defineProperty(e.prototype,"tpxcdSize",{get:function(){return this._m_tpxcdSize!==void 0?this._m_tpxcdSize:(this._debug._m_tpxcdSize={},this._m_tpxcdSize=Math.floor((t.mod(this.tpxcdlnth,8)==0?this.tpxcdlnth:this.tpxcdlnth+(8-t.mod(this.tpxcdlnth,8)))/8),this._m_tpxcdSize)}}),e})(),S=r.ImageSegment=(function(){function e(s,i,o,d){this._io=s,this._parent=i,this._root=o,this.idx=d,this._debug={},this._read()}return e.prototype._read=function(){this._debug.imageSubHeader={start:this._io.pos,ioOffset:this._io.byteOffset},this.imageSubHeader=new v(this._io,this,this._root),this._debug.imageSubHeader.end=this._io.pos,this.hasMask&&(this._debug.imageDataMask={start:this._io.pos,ioOffset:this._io.byteOffset},this.imageDataMask=new x(this._io,this,this._root),this._debug.imageDataMask.end=this._io.pos),this.hasMask&&(this._debug.imageDataField={start:this._io.pos,ioOffset:this._io.byteOffset},this.imageDataField=this._io.readBytes(Number.parseInt(this._parent.header.linfo[this.idx].lengthImageSegment,10)-this.imageDataMask.totalSize),this._debug.imageDataField.end=this._io.pos)},Object.defineProperty(e.prototype,"hasMask",{get:function(){return this._m_hasMask!==void 0?this._m_hasMask:(this._debug._m_hasMask={},this._m_hasMask=this.imageSubHeader.imgCompression.substring(0,2)=="MM",this._m_hasMask)}}),e})(),v=r.ImageSubHeader=(function(){function e(s,i,o){this._io=s,this._parent=i,this._root=o,this._debug={},this._read()}return e.prototype._read=function(){if(this._debug.filePartType={start:this._io.pos,ioOffset:this._io.byteOffset},this.filePartType=this._io.readBytes(2),this._debug.filePartType.end=this._io.pos,t.byteArrayCompare(this.filePartType,new Uint8Array([73,77]))!=0){var s=new t.ValidationNotEqualError(new Uint8Array([73,77]),this.filePartType,this._io,"/types/image_sub_header/seq/0");throw this._debug.filePartType.validationError=s,s}this._debug.imageId1={start:this._io.pos,ioOffset:this._io.byteOffset},this.imageId1=t.bytesToStr(this._io.readBytes(10),"UTF-8"),this._debug.imageId1.end=this._io.pos,this._debug.imageDateTime={start:this._io.pos,ioOffset:this._io.byteOffset},this.imageDateTime=new g(this._io,this,this._root),this._debug.imageDateTime.end=this._io.pos,this._debug.targetId={start:this._io.pos,ioOffset:this._io.byteOffset},this.targetId=t.bytesToStr(this._io.readBytes(17),"UTF-8"),this._debug.targetId.end=this._io.pos,this._debug.imageId2={start:this._io.pos,ioOffset:this._io.byteOffset},this.imageId2=t.bytesToStr(this._io.readBytes(80),"UTF-8"),this._debug.imageId2.end=this._io.pos,this._debug.imageSecurityClassification={start:this._io.pos,ioOffset:this._io.byteOffset},this.imageSecurityClassification=new n(this._io,this,this._root),this._debug.imageSecurityClassification.end=this._io.pos,this._debug.encryption={start:this._io.pos,ioOffset:this._io.byteOffset},this.encryption=new f(this._io,this,this._root),this._debug.encryption.end=this._io.pos,this._debug.imageSource={start:this._io.pos,ioOffset:this._io.byteOffset},this.imageSource=t.bytesToStr(this._io.readBytes(42),"UTF-8"),this._debug.imageSource.end=this._io.pos,this._debug.numSigRows={start:this._io.pos,ioOffset:this._io.byteOffset},this.numSigRows=t.bytesToStr(this._io.readBytes(8),"UTF-8"),this._debug.numSigRows.end=this._io.pos,this._debug.numSigCols={start:this._io.pos,ioOffset:this._io.byteOffset},this.numSigCols=t.bytesToStr(this._io.readBytes(8),"UTF-8"),this._debug.numSigCols.end=this._io.pos,this._debug.pixelValueType={start:this._io.pos,ioOffset:this._io.byteOffset},this.pixelValueType=t.bytesToStr(this._io.readBytes(3),"UTF-8"),this._debug.pixelValueType.end=this._io.pos,this._debug.imageRepresentation={start:this._io.pos,ioOffset:this._io.byteOffset},this.imageRepresentation=t.bytesToStr(this._io.readBytes(8),"UTF-8"),this._debug.imageRepresentation.end=this._io.pos,this._debug.imageCategory={start:this._io.pos,ioOffset:this._io.byteOffset},this.imageCategory=t.bytesToStr(this._io.readBytes(8),"UTF-8"),this._debug.imageCategory.end=this._io.pos,this._debug.actualBitsPerPixelPerBand={start:this._io.pos,ioOffset:this._io.byteOffset},this.actualBitsPerPixelPerBand=t.bytesToStr(this._io.readBytes(2),"UTF-8"),this._debug.actualBitsPerPixelPerBand.end=this._io.pos,this._debug.pixelJustification={start:this._io.pos,ioOffset:this._io.byteOffset},this.pixelJustification=t.bytesToStr(this._io.readBytes(1),"UTF-8"),this._debug.pixelJustification.end=this._io.pos,this._debug.imageCoordinateRep={start:this._io.pos,ioOffset:this._io.byteOffset},this.imageCoordinateRep=t.bytesToStr(this._io.readBytes(1),"UTF-8"),this._debug.imageCoordinateRep.end=this._io.pos,this._debug.imageGeoLoc={start:this._io.pos,ioOffset:this._io.byteOffset},this.imageGeoLoc=t.bytesToStr(this._io.readBytes(60),"UTF-8"),this._debug.imageGeoLoc.end=this._io.pos,this._debug.numImgComments={start:this._io.pos,ioOffset:this._io.byteOffset},this.numImgComments=t.bytesToStr(this._io.readBytes(1),"UTF-8"),this._debug.numImgComments.end=this._io.pos,this._debug.imgComments={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.imgComments.arr=[],this.imgComments=[];for(var i=0;i<Number.parseInt(this.numImgComments,10);i++)this._debug.imgComments.arr[i]={start:this._io.pos,ioOffset:this._io.byteOffset},this.imgComments.push(new T(this._io,this,this._root)),this._debug.imgComments.arr[i].end=this._io.pos;this._debug.imgComments.end=this._io.pos,this._debug.imgCompression={start:this._io.pos,ioOffset:this._io.byteOffset},this.imgCompression=t.bytesToStr(this._io.readBytes(2),"UTF-8"),this._debug.imgCompression.end=this._io.pos,this._debug.compressionRateCode={start:this._io.pos,ioOffset:this._io.byteOffset},this.compressionRateCode=t.bytesToStr(this._io.readBytes(4),"UTF-8"),this._debug.compressionRateCode.end=this._io.pos,this._debug.numBands={start:this._io.pos,ioOffset:this._io.byteOffset},this.numBands=t.bytesToStr(this._io.readBytes(1),"UTF-8"),this._debug.numBands.end=this._io.pos,Number.parseInt(this.numBands,10)==0&&(this._debug.numMultispectralBands={start:this._io.pos,ioOffset:this._io.byteOffset},this.numMultispectralBands=t.bytesToStr(this._io.readBytes(5),"UTF-8"),this._debug.numMultispectralBands.end=this._io.pos),this._debug.bands={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.bands.arr=[],this.bands=[];for(var i=0;i<(Number.parseInt(this.numBands,10)!=0?Number.parseInt(this.numBands,10):Number.parseInt(this.numMultispectralBands,10));i++)this._debug.bands.arr[i]={start:this._io.pos,ioOffset:this._io.byteOffset},this.bands.push(new b(this._io,this,this._root)),this._debug.bands.arr[i].end=this._io.pos;if(this._debug.bands.end=this._io.pos,this._debug.imgSyncCode={start:this._io.pos,ioOffset:this._io.byteOffset},this.imgSyncCode=t.bytesToStr(this._io.readBytes(1),"UTF-8"),this._debug.imgSyncCode.end=this._io.pos,this._debug.imgMode={start:this._io.pos,ioOffset:this._io.byteOffset},this.imgMode=t.bytesToStr(this._io.readBytes(1),"UTF-8"),this._debug.imgMode.end=this._io.pos,this._debug.numBlocksPerRow={start:this._io.pos,ioOffset:this._io.byteOffset},this.numBlocksPerRow=t.bytesToStr(this._io.readBytes(4),"UTF-8"),this._debug.numBlocksPerRow.end=this._io.pos,this._debug.numBlocksPerCol={start:this._io.pos,ioOffset:this._io.byteOffset},this.numBlocksPerCol=t.bytesToStr(this._io.readBytes(4),"UTF-8"),this._debug.numBlocksPerCol.end=this._io.pos,this._debug.numPixelsPerBlockHorz={start:this._io.pos,ioOffset:this._io.byteOffset},this.numPixelsPerBlockHorz=t.bytesToStr(this._io.readBytes(4),"UTF-8"),this._debug.numPixelsPerBlockHorz.end=this._io.pos,this._debug.numPixelsPerBlockVert={start:this._io.pos,ioOffset:this._io.byteOffset},this.numPixelsPerBlockVert=t.bytesToStr(this._io.readBytes(4),"UTF-8"),this._debug.numPixelsPerBlockVert.end=this._io.pos,this._debug.numPixelsPerBand={start:this._io.pos,ioOffset:this._io.byteOffset},this.numPixelsPerBand=t.bytesToStr(this._io.readBytes(2),"UTF-8"),this._debug.numPixelsPerBand.end=this._io.pos,this._debug.imgDisplayLevel={start:this._io.pos,ioOffset:this._io.byteOffset},this.imgDisplayLevel=t.bytesToStr(this._io.readBytes(3),"UTF-8"),this._debug.imgDisplayLevel.end=this._io.pos,this._debug.attachmentLevel={start:this._io.pos,ioOffset:this._io.byteOffset},this.attachmentLevel=t.bytesToStr(this._io.readBytes(3),"UTF-8"),this._debug.attachmentLevel.end=this._io.pos,this._debug.imgLocation={start:this._io.pos,ioOffset:this._io.byteOffset},this.imgLocation=t.bytesToStr(this._io.readBytes(10),"UTF-8"),this._debug.imgLocation.end=this._io.pos,this._debug.imgMagnification={start:this._io.pos,ioOffset:this._io.byteOffset},this.imgMagnification=t.bytesToStr(this._io.readBytes(4),"UTF-8"),this._debug.imgMagnification.end=this._io.pos,this._debug.userDefImgDataLen={start:this._io.pos,ioOffset:this._io.byteOffset},this.userDefImgDataLen=t.bytesToStr(this._io.readBytes(5),"UTF-8"),this._debug.userDefImgDataLen.end=this._io.pos,Number.parseInt(this.userDefImgDataLen,10)!=0&&(this._debug.userDefOverflow={start:this._io.pos,ioOffset:this._io.byteOffset},this.userDefOverflow=t.bytesToStr(this._io.readBytes(3),"UTF-8"),this._debug.userDefOverflow.end=this._io.pos),Number.parseInt(this.userDefImgDataLen,10)>2){this._debug.userDefImgData={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.userDefImgData.arr=[],this.userDefImgData=[];for(var i=0;i<Number.parseInt(this.userDefImgDataLen,10)-3;i++)this._debug.userDefImgData.arr[i]={start:this._io.pos,ioOffset:this._io.byteOffset},this.userDefImgData.push(this._io.readU1()),this._debug.userDefImgData.arr[i].end=this._io.pos;this._debug.userDefImgData.end=this._io.pos}this._debug.imageExtendedSubHeader={start:this._io.pos,ioOffset:this._io.byteOffset},this.imageExtendedSubHeader=new a(this._io,this,this._root),this._debug.imageExtendedSubHeader.end=this._io.pos},e})(),B=r.LengthDataInfo=(function(){function e(s,i,o){this._io=s,this._parent=i,this._root=o,this._debug={},this._read()}return e.prototype._read=function(){this._debug.lengthDataExtensionSubheader={start:this._io.pos,ioOffset:this._io.byteOffset},this.lengthDataExtensionSubheader=t.bytesToStr(this._io.readBytes(4),"UTF-8"),this._debug.lengthDataExtensionSubheader.end=this._io.pos,this._debug.lengthDataExtensionSegment={start:this._io.pos,ioOffset:this._io.byteOffset},this.lengthDataExtensionSegment=t.bytesToStr(this._io.readBytes(9),"UTF-8"),this._debug.lengthDataExtensionSegment.end=this._io.pos},e})(),D=r.LengthGraphicInfo=(function(){function e(s,i,o){this._io=s,this._parent=i,this._root=o,this._debug={},this._read()}return e.prototype._read=function(){this._debug.lengthGraphicSubheader={start:this._io.pos,ioOffset:this._io.byteOffset},this.lengthGraphicSubheader=t.bytesToStr(this._io.readBytes(4),"UTF-8"),this._debug.lengthGraphicSubheader.end=this._io.pos,this._debug.lengthGraphicSegment={start:this._io.pos,ioOffset:this._io.byteOffset},this.lengthGraphicSegment=t.bytesToStr(this._io.readBytes(6),"UTF-8"),this._debug.lengthGraphicSegment.end=this._io.pos},e})(),F=r.LengthImageInfo=(function(){function e(s,i,o){this._io=s,this._parent=i,this._root=o,this._debug={},this._read()}return e.prototype._read=function(){this._debug.lengthImageSubheader={start:this._io.pos,ioOffset:this._io.byteOffset},this.lengthImageSubheader=t.bytesToStr(this._io.readBytes(6),"UTF-8"),this._debug.lengthImageSubheader.end=this._io.pos,this._debug.lengthImageSegment={start:this._io.pos,ioOffset:this._io.byteOffset},this.lengthImageSegment=t.bytesToStr(this._io.readBytes(10),"UTF-8"),this._debug.lengthImageSegment.end=this._io.pos},e})(),z=r.LengthReservedInfo=(function(){function e(s,i,o){this._io=s,this._parent=i,this._root=o,this._debug={},this._read()}return e.prototype._read=function(){this._debug.lengthReservedExtensionSubheader={start:this._io.pos,ioOffset:this._io.byteOffset},this.lengthReservedExtensionSubheader=t.bytesToStr(this._io.readBytes(4),"UTF-8"),this._debug.lengthReservedExtensionSubheader.end=this._io.pos,this._debug.lengthReservedExtensionSegment={start:this._io.pos,ioOffset:this._io.byteOffset},this.lengthReservedExtensionSegment=t.bytesToStr(this._io.readBytes(7),"UTF-8"),this._debug.lengthReservedExtensionSegment.end=this._io.pos},e})(),U=r.LengthTextInfo=(function(){function e(s,i,o){this._io=s,this._parent=i,this._root=o,this._debug={},this._read()}return e.prototype._read=function(){this._debug.lengthTextSubheader={start:this._io.pos,ioOffset:this._io.byteOffset},this.lengthTextSubheader=t.bytesToStr(this._io.readBytes(4),"UTF-8"),this._debug.lengthTextSubheader.end=this._io.pos,this._debug.lengthTextSegment={start:this._io.pos,ioOffset:this._io.byteOffset},this.lengthTextSegment=t.bytesToStr(this._io.readBytes(5),"UTF-8"),this._debug.lengthTextSegment.end=this._io.pos},e})(),I=r.ReservedExtensionSegment=(function(){function e(s,i,o,d){this._io=s,this._parent=i,this._root=o,this.idx=d,this._debug={},this._read()}return e.prototype._read=function(){this._debug.reservedSubHeader={start:this._io.pos,ioOffset:this._io.byteOffset},this._raw_reservedSubHeader=this._io.readBytes(Number.parseInt(this._parent.header.lrnfo[this.idx].lengthReservedExtensionSubheader,10));var s=new t(this._raw_reservedSubHeader);this.reservedSubHeader=new w(s,this,this._root),this._debug.reservedSubHeader.end=this._io.pos,this._debug.reservedDataField={start:this._io.pos,ioOffset:this._io.byteOffset},this.reservedDataField=this._io.readBytes(Number.parseInt(this._parent.header.lrnfo[this.idx].lengthReservedExtensionSegment,10)),this._debug.reservedDataField.end=this._io.pos},e})(),w=r.ReservedSubHeader=(function(){function e(s,i,o){this._io=s,this._parent=i,this._root=o,this._debug={},this._read()}return e.prototype._read=function(){if(this._debug.filePartTypeRe={start:this._io.pos,ioOffset:this._io.byteOffset},this.filePartTypeRe=this._io.readBytes(2),this._debug.filePartTypeRe.end=this._io.pos,t.byteArrayCompare(this.filePartTypeRe,new Uint8Array([82,69]))!=0){var s=new t.ValidationNotEqualError(new Uint8Array([82,69]),this.filePartTypeRe,this._io,"/types/reserved_sub_header/seq/0");throw this._debug.filePartTypeRe.validationError=s,s}this._debug.resTypeId={start:this._io.pos,ioOffset:this._io.byteOffset},this.resTypeId=t.bytesToStr(this._io.readBytes(25),"UTF-8"),this._debug.resTypeId.end=this._io.pos,this._debug.resVersion={start:this._io.pos,ioOffset:this._io.byteOffset},this.resVersion=t.bytesToStr(this._io.readBytes(2),"UTF-8"),this._debug.resVersion.end=this._io.pos,this._debug.reclasnfo={start:this._io.pos,ioOffset:this._io.byteOffset},this.reclasnfo=new n(this._io,this,this._root),this._debug.reclasnfo.end=this._io.pos,this._debug.resUserDefinedSubheaderLength={start:this._io.pos,ioOffset:this._io.byteOffset},this.resUserDefinedSubheaderLength=t.bytesToStr(this._io.readBytes(4),"UTF-8"),this._debug.resUserDefinedSubheaderLength.end=this._io.pos,this._debug.resUserDefinedSubheaderFields={start:this._io.pos,ioOffset:this._io.byteOffset},this.resUserDefinedSubheaderFields=t.bytesToStr(this._io.readBytes(Number.parseInt(this.resUserDefinedSubheaderLength,10)),"UTF-8"),this._debug.resUserDefinedSubheaderFields.end=this._io.pos,this._debug.resUserDefinedData={start:this._io.pos,ioOffset:this._io.byteOffset},this.resUserDefinedData=t.bytesToStr(this._io.readBytesFull(),"UTF-8"),this._debug.resUserDefinedData.end=this._io.pos},e})(),E=r.TextSegment=(function(){function e(s,i,o,d){this._io=s,this._parent=i,this._root=o,this.idx=d,this._debug={},this._read()}return e.prototype._read=function(){this._debug.textSubHeader={start:this._io.pos,ioOffset:this._io.byteOffset},this.textSubHeader=this._io.readBytes(1),this._debug.textSubHeader.end=this._io.pos,this._debug.textDataField={start:this._io.pos,ioOffset:this._io.byteOffset},this.textDataField=this._io.readBytes(Number.parseInt(this._parent.header.ltnfo[this.idx].lengthTextSegment,10)),this._debug.textDataField.end=this._io.pos},e})();r.TextSubHeader=(function(){function e(s,i,o){this._io=s,this._parent=i,this._root=o,this._debug={},this._read()}return e.prototype._read=function(){this._debug.textDateTime={start:this._io.pos,ioOffset:this._io.byteOffset},this.textDateTime=t.bytesToStr(this._io.readBytes(14),"UTF-8"),this._debug.textDateTime.end=this._io.pos,this._debug.textTitle={start:this._io.pos,ioOffset:this._io.byteOffset},this.textTitle=t.bytesToStr(this._io.readBytes(80),"UTF-8"),this._debug.textTitle.end=this._io.pos,this._debug.textSecurityClass={start:this._io.pos,ioOffset:this._io.byteOffset},this.textSecurityClass=new n(this._io,this,this._root),this._debug.textSecurityClass.end=this._io.pos,this._debug.encryp={start:this._io.pos,ioOffset:this._io.byteOffset},this.encryp=new f(this._io,this,this._root),this._debug.encryp.end=this._io.pos,this._debug.textFormat={start:this._io.pos,ioOffset:this._io.byteOffset},this.textFormat=t.bytesToStr(this._io.readBytes(3),"UTF-8"),this._debug.textFormat.end=this._io.pos,this._debug.textExtendedSubHeader={start:this._io.pos,ioOffset:this._io.byteOffset},this.textExtendedSubHeader=new a(this._io,this,this._root),this._debug.textExtendedSubHeader.end=this._io.pos},e})(),r.Tre=(function(){function e(s,i,o){this._io=s,this._parent=i,this._root=o,this._debug={},this._read()}return e.prototype._read=function(){this._debug.extensionTypeId={start:this._io.pos,ioOffset:this._io.byteOffset},this.extensionTypeId=t.bytesToStr(this._io.readBytes(6),"UTF-8"),this._debug.extensionTypeId.end=this._io.pos,this._debug.edataLength={start:this._io.pos,ioOffset:this._io.byteOffset},this.edataLength=t.bytesToStr(this._io.readBytes(5),"UTF-8"),this._debug.edataLength.end=this._io.pos,this._debug.edata={start:this._io.pos,ioOffset:this._io.byteOffset},this.edata=t.bytesToStr(this._io.readBytes(Number.parseInt(this.edataLength,10)),"UTF-8"),this._debug.edata.end=this._io.pos},e})();var a=r.TreHeader=(function(){function e(s,i,o){this._io=s,this._parent=i,this._root=o,this._debug={},this._read()}return e.prototype._read=function(){if(this._debug.headerDataLength={start:this._io.pos,ioOffset:this._io.byteOffset},this.headerDataLength=t.bytesToStr(this._io.readBytes(5),"UTF-8"),this._debug.headerDataLength.end=this._io.pos,Number.parseInt(this.headerDataLength,10)!=0&&(this._debug.headerOverflow={start:this._io.pos,ioOffset:this._io.byteOffset},this.headerOverflow=t.bytesToStr(this._io.readBytes(3),"UTF-8"),this._debug.headerOverflow.end=this._io.pos),Number.parseInt(this.headerDataLength,10)>2){this._debug.headerData={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.headerData.arr=[],this.headerData=[];for(var s=0;s<Number.parseInt(this.headerDataLength,10)-3;s++)this._debug.headerData.arr[s]={start:this._io.pos,ioOffset:this._io.byteOffset},this.headerData.push(this._io.readU1()),this._debug.headerData.arr[s].end=this._io.pos;this._debug.headerData.end=this._io.pos}},e})();return r})();h.Nitf=u})}});const R=N(),A={id:"nitf",title:"National Imagery Transmission Format",ksy:{meta:{id:"nitf",title:"National Imagery Transmission Format","file-extension":["ntf","nitf","ntf.r0","ntf.r1","ntf.r2","ntf.r3","ntf.r4","ntf.r5"],xref:{justsolve:"National_Imagery_Transmission_Format",pronom:"fmt/366",wikidata:"Q1961044"},license:"MIT","ks-version":.8,encoding:"UTF-8",endian:"be"},doc:`The NITF (National Image Transition Format) format is a file format developed by the U.S. Government for
storing imagery, e.g. from satellites.

According to the [foreword of the specification](https://web.archive.org/web/20181105050336/https://www.gwg.nga.mil/ntb/baseline/docs/2500c/2500C.pdf):
> The National Imagery Transmission Format Standard (NITFS) is the suite of standards for formatting digital
> imagery and imagery-related products and exchanging them among members of the Intelligence Community (IC) as
> defined by the Executive Order 12333, and other United States Government departments and agencies."

This implementation is set to version format (\`file_version\`) of 02.10 and \`standard_type\` of \`BF01\`.
It was implemented by [River Loop Security](https://www.riverloopsecurity.com/).
`,"doc-ref":"https://web.archive.org/web/20181105050336/https://www.gwg.nga.mil/ntb/baseline/docs/2500c/2500C.pdf",seq:[{id:"header",type:"header"},{id:"image_segments",type:"image_segment(_index)",repeat:"expr","repeat-expr":"header.num_image_segments.to_i"},{id:"graphics_segments",type:"graphics_segment(_index)",repeat:"expr","repeat-expr":"header.num_graphics_segments.to_i"},{id:"text_segments",type:"text_segment(_index)",repeat:"expr","repeat-expr":"header.num_text_files.to_i"},{id:"data_extension_segments",type:"data_extension_segment(_index)",repeat:"expr","repeat-expr":"header.num_data_extension.to_i"},{id:"reserved_extension_segments",type:"reserved_extension_segment(_index)",repeat:"expr","repeat-expr":"header.num_reserved_extension.to_i"}],types:{header:{seq:[{id:"file_profile_name","-orig-id":"fhdr",contents:"NITF"},{id:"file_version","-orig-id":"fver",contents:"02.10"},{id:"complexity_level","-orig-id":"clevel",size:2},{id:"standard_type","-orig-id":"stype",contents:"BF01",doc:"Value of BF01 indicates the file is formatted using ISO/IEC IS 12087-5."},{id:"originating_station_id","-orig-id":"ostaid",type:"str",size:10},{id:"file_date_time","-orig-id":"fdt",type:"date_time"},{id:"file_title","-orig-id":"ftitle",type:"str",size:80},{id:"file_security","-orig-id":"fclasnfo",type:"clasnfo"},{id:"file_copy_number","-orig-id":"fscop",type:"str",size:5},{id:"file_num_of_copys","-orig-id":"fscpys",type:"str",size:5},{id:"encryption","-orig-id":"encryp",type:"encrypt"},{id:"file_bg_color","-orig-id":"fbkgc",size:3},{id:"originator_name","-orig-id":"oname",type:"str",size:24},{id:"originator_phone","-orig-id":"ophone",type:"str",size:18},{id:"file_length","-orig-id":"fl",type:"str",size:12},{id:"file_header_length","-orig-id":"hl",type:"str",size:6},{id:"num_image_segments","-orig-id":"numi",type:"str",size:3},{id:"linfo",type:"length_image_info",repeat:"expr","repeat-expr":"num_image_segments.to_i"},{id:"num_graphics_segments","-orig-id":"nums",type:"str",size:3},{id:"lnnfo",type:"length_graphic_info",repeat:"expr","repeat-expr":"num_graphics_segments.to_i"},{id:"reserved_numx","-orig-id":"numx",type:"str",size:3},{id:"num_text_files","-orig-id":"numt",type:"str",size:3},{id:"ltnfo",type:"length_text_info",repeat:"expr","repeat-expr":"num_text_files.to_i"},{id:"num_data_extension","-orig-id":"numdes",type:"str",size:3},{id:"ldnfo",type:"length_data_info",repeat:"expr","repeat-expr":"num_data_extension.to_i"},{id:"num_reserved_extension","-orig-id":"numres",type:"str",size:3},{id:"lrnfo",type:"length_reserved_info",repeat:"expr","repeat-expr":"num_reserved_extension.to_i"},{id:"user_defined_header",type:"tre_header"},{id:"extended_header",type:"tre_header"}]},date_time:{seq:[{type:"str",size:14,doc:"UTC time of image acquisition in the format CCYYMMDDhhmmss: CC century, YY last two digits of the year, MM month, DD day, hh hour, mm minute, ss second"}]},encrypt:{seq:[{type:"str",size:1}]},clasnfo:{seq:[{id:"security_class","-orig-id":"sclas",type:"str",size:1},{id:"security_system","-orig-id":"sclsy",type:"str",size:2},{id:"codewords","-orig-id":"scode",type:"str",size:11},{id:"control_and_handling","-orig-id":"sctlh",type:"str",size:2},{id:"releaseability","-orig-id":"srel",type:"str",size:20},{id:"declass_type","-orig-id":"sdctp",type:"str",size:2},{id:"declass_date","-orig-id":"sdcdt",type:"str",size:8},{id:"declass_exemption","-orig-id":"sdcxm",type:"str",size:4},{id:"downgrade","-orig-id":"sdg",type:"str",size:1},{id:"downgrade_date","-orig-id":"sdgdt",type:"str",size:8},{id:"class_text","-orig-id":"scltx",type:"str",size:43},{id:"class_authority_type","-orig-id":"scatp",type:"str",size:1},{id:"class_authority","-orig-id":"scaut",type:"str",size:40},{id:"class_reason","-orig-id":"scrsn",type:"str",size:1},{id:"source_date","-orig-id":"ssrdt",type:"str",size:8},{id:"control_number","-orig-id":"sctln",type:"str",size:15}]},length_image_info:{seq:[{id:"length_image_subheader","-orig-id":"lish",type:"str",size:6},{id:"length_image_segment","-orig-id":"li",type:"str",size:10}]},length_graphic_info:{seq:[{id:"length_graphic_subheader","-orig-id":"lssh",type:"str",size:4},{id:"length_graphic_segment","-orig-id":"ls",type:"str",size:6}]},length_text_info:{seq:[{id:"length_text_subheader","-orig-id":"ltsh",type:"str",size:4},{id:"length_text_segment","-orig-id":"lt",type:"str",size:5}]},length_data_info:{seq:[{id:"length_data_extension_subheader","-orig-id":"ldsh",type:"str",size:4},{id:"length_data_extension_segment","-orig-id":"ld",type:"str",size:9}]},length_reserved_info:{seq:[{id:"length_reserved_extension_subheader","-orig-id":"lresh",type:"str",size:4},{id:"length_reserved_extension_segment","-orig-id":"lre",type:"str",size:7}]},image_segment:{params:[{id:"idx",type:"u2"}],seq:[{id:"image_sub_header",type:"image_sub_header"},{id:"image_data_mask",type:"image_data_mask",if:"has_mask"},{id:"image_data_field",if:"has_mask",size:"_parent.header.linfo[idx].length_image_segment.to_i - image_data_mask.total_size"}],instances:{has_mask:{value:"image_sub_header.img_compression.substring(0, 2) == 'MM'"}}},image_sub_header:{seq:[{id:"file_part_type","-orig-id":"im",contents:"IM"},{id:"image_id_1","-orig-id":"iid1",type:"str",size:10},{id:"image_date_time","-orig-id":"idatim",type:"date_time"},{id:"target_id","-orig-id":"tgtid",type:"str",size:17},{id:"image_id_2","-orig-id":"iid2",type:"str",size:80},{id:"image_security_classification","-orig-id":"iclasnfo",type:"clasnfo"},{id:"encryption","-orig-id":"encryp",type:"encrypt"},{id:"image_source","-orig-id":"isorce",type:"str",size:42},{id:"num_sig_rows","-orig-id":"nrows",type:"str",size:8,doc:"Total number of rows of significant pixels in the image; only rows indexed 0 to (NROWS - 1) of the image contain significant data."},{id:"num_sig_cols","-orig-id":"ncols",type:"str",size:8},{id:"pixel_value_type","-orig-id":"pvtype",type:"str",size:3},{id:"image_representation","-orig-id":"irep",type:"str",size:8,doc:"MONO, RGB, RGB/LUT, MULTI, NODISPLY, NVECTOR, POLAR, VPH, YCbCr601"},{id:"image_category","-orig-id":"icat",type:"str",size:8,doc:"VIS, SL, TI, FL, RD, EO, OP, HR, HS,CP, BP, SAR, SARIQ, IR, MAP, MS, FP, MRI, XRAY, CAT, VD, PAT, LEG, DTEM, MATR, LOCG, BARO, CURRENT, DEPTH, WIND"},{id:"actual_bits_per_pixel_per_band","-orig-id":"abpp",type:"str",size:2},{id:"pixel_justification","-orig-id":"pjust",type:"str",size:1},{id:"image_coordinate_rep","-orig-id":"icords",type:"str",size:1},{id:"image_geo_loc","-orig-id":"igeolo",type:"str",size:60},{id:"num_img_comments","-orig-id":"nicom",type:"str",size:1},{id:"img_comments","-orig-id":"icom",type:"image_comment",repeat:"expr","repeat-expr":"num_img_comments.to_i"},{id:"img_compression","-orig-id":"ic",type:"str",size:2},{id:"compression_rate_code","-orig-id":"comrat",type:"str",size:4},{id:"num_bands","-orig-id":"nbands",type:"str",size:1},{id:"num_multispectral_bands","-orig-id":"xbands",type:"str",size:5,if:"num_bands.to_i == 0"},{id:"bands",type:"band_info",repeat:"expr","repeat-expr":"num_bands.to_i != 0 ? num_bands.to_i : num_multispectral_bands.to_i"},{id:"img_sync_code","-orig-id":"isync",type:"str",size:1,doc:"Reserved for future use."},{id:"img_mode","-orig-id":"imode",type:"str",size:1,doc:"B = Band Interleaved by Block, P = Band Interleaved by Pixel, R = Band Interleaved by Row, S = Band Sequential"},{id:"num_blocks_per_row","-orig-id":"nbpr",type:"str",size:4},{id:"num_blocks_per_col","-orig-id":"nbpc",type:"str",size:4},{id:"num_pixels_per_block_horz","-orig-id":"nppbh",type:"str",size:4},{id:"num_pixels_per_block_vert","-orig-id":"nppbv",type:"str",size:4},{id:"num_pixels_per_band","-orig-id":"nbpp",type:"str",size:2},{id:"img_display_level","-orig-id":"idlvl",type:"str",size:3},{id:"attachment_level","-orig-id":"ialvl",type:"str",size:3},{id:"img_location","-orig-id":"iloc",type:"str",size:10},{id:"img_magnification","-orig-id":"imag",type:"str",size:4},{id:"user_def_img_data_len","-orig-id":"udidl",type:"str",size:5},{id:"user_def_overflow","-orig-id":"udofl",type:"str",size:3,if:"user_def_img_data_len.to_i != 0"},{id:"user_def_img_data","-orig-id":"udid",type:"u1",if:"user_def_img_data_len.to_i > 2",repeat:"expr","repeat-expr":"user_def_img_data_len.to_i - 3"},{id:"image_extended_sub_header",type:"tre_header"}]},band_info:{seq:[{id:"representation","-orig-id":"irepband",type:"str",size:2,doc:"Indicates processing required to display the nth band of image w.r.t. the general image type recorded by IREP field"},{id:"subcategory","-orig-id":"isubcat",type:"str",size:6},{id:"img_filter_condition","-orig-id":"ifc",contents:"N"},{id:"img_filter_code","-orig-id":"imflt",type:"str",size:3,doc:"Reserved"},{id:"num_luts","-orig-id":"nluts",type:"str",size:1},{id:"num_lut_entries","-orig-id":"nelut",type:"str",size:5,if:"num_luts.to_i != 0",doc:"Number of entries in each of the LUTs for the nth image band"},{id:"luts","-orig-id":"lutd",size:"num_lut_entries.to_i",repeat:"expr","repeat-expr":"num_luts.to_i"}]},image_comment:{seq:[{type:"str",size:80}]},image_data_mask:{instances:{tpxcd_size:{value:"(tpxcdlnth % 8 == 0 ? tpxcdlnth : tpxcdlnth + (8 - tpxcdlnth % 8)) / 8"},bmrtmr_count:{value:`_parent.image_sub_header.num_blocks_per_row.to_i * _parent.image_sub_header.num_blocks_per_col.to_i * (_parent.image_sub_header.img_mode != 'S' ?
  1 :
  (_parent.image_sub_header.num_bands.to_i != 0 ?
    _parent.image_sub_header.num_bands.to_i :
    _parent.image_sub_header.num_multispectral_bands.to_i))
`},has_bmr:{value:"bmrlnth != 0"},has_tmr:{value:"tmrlnth != 0"},bmrbnd_size:{value:"has_bmr ? bmrtmr_count * 4 : 0"},tmrbnd_size:{value:"has_tmr ? bmrtmr_count * 4 : 0"},total_size:{value:"4 + 2 + 2 + 2 + tpxcd_size + bmrbnd_size + tmrbnd_size"}},seq:[{id:"blocked_img_data_offset","-orig-id":"imdatoff",type:"u4"},{id:"bmrlnth",type:"u2",doc:"Block Mask Record Length"},{id:"tmrlnth",type:"u2",doc:"Pad Pixel Mask Record Length"},{id:"tpxcdlnth",type:"u2",doc:"Pad Output Pixel Code Length"},{id:"tpxcd",size:"tpxcd_size",doc:"Pad Output Pixel Code"},{id:"bmrbnd",type:"u4",repeat:"expr","repeat-expr":"bmrtmr_count",if:"has_bmr",doc:"Block n, Band m Offset"},{id:"tmrbnd",type:"u4",repeat:"expr","repeat-expr":"bmrtmr_count",if:"has_tmr",doc:"Pad Pixel n, Band m"}]},graphics_segment:{params:[{id:"idx",type:"u2"}],seq:[{id:"graphic_sub_header",type:"graphic_sub_header"},{id:"graphic_data_field",size:"_parent.header.lnnfo[idx].length_graphic_segment.to_i"}]},graphic_sub_header:{seq:[{id:"file_part_type_sy","-orig-id":"sy",contents:"SY"},{id:"graphic_id","-orig-id":"sid",type:"str",size:10},{id:"graphic_name","-orig-id":"sname",type:"str",size:20},{id:"graphic_classification","-orig-id":"sclasnfo",type:"clasnfo"},{id:"encryption","-orig-id":"encryp",type:"encrypt"},{id:"graphic_type","-orig-id":"sfmt",contents:"C"},{id:"reserved1","-orig-id":"sstruct",type:"str",size:13,doc:"Reserved"},{id:"graphic_display_level","-orig-id":"sdlvl",type:"str",size:3},{id:"graphic_attachment_level","-orig-id":"salvl",type:"str",size:3},{id:"graphic_location","-orig-id":"sloc",type:"str",size:10},{id:"first_graphic_bound_loc","-orig-id":"sbnd1",type:"str",size:10},{id:"graphic_color","-orig-id":"scolor",type:"str",size:1},{id:"second_graphic_bound_loc","-orig-id":"sbnd2",type:"str",size:10},{id:"reserved2","-orig-id":"sres2",type:"str",size:2,doc:"Reserved"},{id:"graphics_extended_sub_header",type:"tre_header"}]},tre_header:{seq:[{id:"header_data_length","-orig-id":"hdl",type:"str",size:5},{id:"header_overflow","-orig-id":"ofl",type:"str",size:3,if:"header_data_length.to_i != 0"},{id:"header_data",type:"u1",if:"header_data_length.to_i > 2",repeat:"expr","repeat-expr":"header_data_length.to_i - 3"}]},text_segment:{params:[{id:"idx",type:"u2"}],seq:[{id:"text_sub_header",size:1},{id:"text_data_field",size:"_parent.header.ltnfo[idx].length_text_segment.to_i"}]},text_sub_header:{seq:[{id:"text_date_time","-orig-id":"txtdt",type:"str",size:14},{id:"text_title","-orig-id":"txtitl",type:"str",size:80},{id:"text_security_class","-orig-id":"tclasnfo",type:"clasnfo"},{id:"encryp",type:"encrypt"},{id:"text_format","-orig-id":"txtfmt",type:"str",size:3,doc:"MTF (USMTF see MIL-STD-6040), STA (indicates BCS), UT1 (indicates ECS), U8S"},{id:"text_extended_sub_header",type:"tre_header"}]},data_extension_segment:{params:[{id:"idx",type:"u2"}],seq:[{id:"data_sub_header",type:"data_sub_header",size:"_parent.header.ldnfo[idx].length_data_extension_subheader.to_i"},{id:"data_data_field",size:"_parent.header.ldnfo[idx].length_data_extension_segment.to_i"}]},data_sub_header_base:{seq:[{id:"file_part_type_de","-orig-id":"de",contents:"DE",doc:"File Part Type desigantor for Data Extension"},{id:"desid",type:"str",size:25},{id:"data_definition_version","-orig-id":"desver",type:"str",size:2},{id:"declasnfo",type:"clasnfo"}]},data_sub_header:{instances:{tre_ofl:{value:"des_base.desid == 'TRE_OVERFLOW'"}},seq:[{id:"des_base",type:"data_sub_header_base"},{id:"overflowed_header_type","-orig-id":"desoflw",type:"str",size:6,if:"tre_ofl"},{id:"data_item_overflowed","-orig-id":"desitem",type:"str",size:3,if:"tre_ofl"},{id:"des_defined_subheader_fields_len","-orig-id":"desshl",type:"str",size:4},{id:"desshf",type:"str",size:"des_defined_subheader_fields_len.to_i"},{id:"des_defined_data_field","-orig-id":"desdata",type:"str","size-eos":!0}]},data_sub_header_tre:{seq:[{id:"des_base",type:"data_sub_header_base"},{id:"overflowed_header_type","-orig-id":"desoflw",type:"str",size:6,if:"des_base.desid == 'TRE_OVERFLOW'"},{id:"data_item_overflowed","-orig-id":"desitem",type:"str",size:3,if:"des_base.desid == 'TRE_OVERFLOW'"},{id:"des_defined_subheader_fields_len","-orig-id":"desshl",type:"str",size:4},{id:"des_defined_data_field","-orig-id":"desdata",type:"str",size:"des_defined_subheader_fields_len.to_i"}]},data_sub_header_streaming:{doc:"Streaming file Header Data Extension Segment Subheader",seq:[{id:"des_base",type:"data_sub_header_base"},{id:"des_defined_subheader_fields_len","-orig-id":"desshl",type:"str",size:4},{id:"sfh_l1",type:"str",size:7,doc:"SFH Length 1: number of bytes in sfh_dr field"},{id:"sfh_delim1",type:"u4",doc:"Shall contain the value 0x0A6E1D97."},{id:"sfh_dr",type:"u1",repeat:"expr","repeat-expr":"sfh_l1.to_i"},{id:"sfh_delim2",type:"u4",doc:"Shall contain the value 0x0ECA14BF."},{id:"sfh_l2",type:"str",size:7,doc:"A repeat of sfh_l1."}]},reserved_extension_segment:{params:[{id:"idx",type:"u2"}],seq:[{id:"reserved_sub_header",type:"reserved_sub_header",size:"_parent.header.lrnfo[idx].length_reserved_extension_subheader.to_i"},{id:"reserved_data_field",size:"_parent.header.lrnfo[idx].length_reserved_extension_segment.to_i"}]},reserved_sub_header:{seq:[{id:"file_part_type_re","-orig-id":"re",contents:"RE"},{id:"res_type_id","-orig-id":"resid",type:"str",size:25},{id:"res_version","-orig-id":"resver",type:"str",size:2},{id:"reclasnfo",type:"clasnfo"},{id:"res_user_defined_subheader_length","-orig-id":"resshl",type:"str",size:4},{id:"res_user_defined_subheader_fields","-orig-id":"resshf",type:"str",size:"res_user_defined_subheader_length.to_i"},{id:"res_user_defined_data","-orig-id":"resdata",type:"str","size-eos":!0}]},tre:{seq:[{id:"extension_type_id","-orig-id":"etag",type:"str",size:6,doc:"RETAG or CETAG"},{id:"edata_length","-orig-id":"el",type:"str",size:5,doc:"REL or CEL"},{id:"edata",type:"str",size:"edata_length.to_i",doc:"REDATA or CEDATA"}]}}}};export{R as default,A as spec};
