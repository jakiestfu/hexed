import{k as b}from"./index-DQZRlv-R.js";var m=Object.getOwnPropertyNames,y=(o,_)=>function(){return _||(0,o[m(o)[0]])((_={exports:{}}).exports,_),_.exports},g=y({"<stdin>"(o){(function(_,n){typeof define=="function"&&define.amd?define(["exports","kaitai-struct/KaitaiStream"],n):typeof o=="object"&&o!==null&&typeof o.nodeType!="number"?n(o,b.KaitaiStream):n(_.Riff||(_.Riff={}),_.KaitaiStream)})(typeof self<"u"?self:o,function(_,n){var c=(function(){i.Fourcc=Object.freeze({RIFF:1179011410,INFO:1330007625,LIST:1414744396,1179011410:"RIFF",1330007625:"INFO",1414744396:"LIST"});function i(t,s,e){this._io=t,this._parent=s,this._root=e||this,this._debug={},this._read()}i.prototype._read=function(){this._debug.chunk={start:this._io.pos,ioOffset:this._io.byteOffset},this.chunk=new r(this._io,this,this._root),this._debug.chunk.end=this._io.pos};var r=i.Chunk=(function(){function t(e,h,u){this._io=e,this._parent=h,this._root=u,this._debug={},this._read()}t.prototype._read=function(){this._debug.id={start:this._io.pos,ioOffset:this._io.byteOffset},this.id=this._io.readU4le(),this._debug.id.end=this._io.pos,this._debug.len={start:this._io.pos,ioOffset:this._io.byteOffset},this.len=this._io.readU4le(),this._debug.len.end=this._io.pos,this._debug.dataSlot={start:this._io.pos,ioOffset:this._io.byteOffset},this._raw_dataSlot=this._io.readBytes(this.len);var e=new n(this._raw_dataSlot);this.dataSlot=new s(e,this,this._root),this._debug.dataSlot.end=this._io.pos,this._debug.padByte={start:this._io.pos,ioOffset:this._io.byteOffset},this.padByte=this._io.readBytes(n.mod(this.len,2)),this._debug.padByte.end=this._io.pos};var s=t.Slot=(function(){function e(h,u,a){this._io=h,this._parent=u,this._root=a,this._debug={},this._read()}return e.prototype._read=function(){},e})();return t})(),d=i.ChunkType=(function(){function t(s,e,h){this._io=s,this._parent=e,this._root=h,this._debug={},this._read()}return t.prototype._read=function(){this.chunkOfs<0&&(this._debug.saveChunkOfs={start:this._io.pos,ioOffset:this._io.byteOffset},this.saveChunkOfs=this._io.readBytes(0),this._debug.saveChunkOfs.end=this._io.pos),this._debug.chunk={start:this._io.pos,ioOffset:this._io.byteOffset},this.chunk=new r(this._io,this,this._root),this._debug.chunk.end=this._io.pos},Object.defineProperty(t.prototype,"chunkData",{get:function(){if(this._m_chunkData!==void 0)return this._m_chunkData;var s=this.chunk.dataSlot._io,e=s.pos;switch(s.seek(0),this._debug._m_chunkData={start:s.pos,ioOffset:s.byteOffset},this.chunkId){case i.Fourcc.LIST:this._m_chunkData=new k(s,this,this._root);break}return this._debug._m_chunkData.end=s.pos,s.seek(e),this._m_chunkData}}),Object.defineProperty(t.prototype,"chunkId",{get:function(){return this._m_chunkId!==void 0?this._m_chunkId:(this._debug._m_chunkId={enumName:"Riff.Fourcc"},this._m_chunkId=this.chunk.id,this._m_chunkId)}}),Object.defineProperty(t.prototype,"chunkIdReadable",{get:function(){if(this._m_chunkIdReadable!==void 0)return this._m_chunkIdReadable;var s=this._io.pos;return this._io.seek(this.chunkOfs),this._debug._m_chunkIdReadable={start:this._io.pos,ioOffset:this._io.byteOffset},this._m_chunkIdReadable=n.bytesToStr(this._io.readBytes(4),"ASCII"),this._debug._m_chunkIdReadable.end=this._io.pos,this._io.seek(s),this._m_chunkIdReadable}}),Object.defineProperty(t.prototype,"chunkOfs",{get:function(){return this._m_chunkOfs!==void 0?this._m_chunkOfs:(this._debug._m_chunkOfs={},this._m_chunkOfs=this._io.pos,this._m_chunkOfs)}}),t})(),p=i.InfoSubchunk=(function(){function t(s,e,h){this._io=s,this._parent=e,this._root=h,this._debug={},this._read()}return t.prototype._read=function(){this.chunkOfs<0&&(this._debug.saveChunkOfs={start:this._io.pos,ioOffset:this._io.byteOffset},this.saveChunkOfs=this._io.readBytes(0),this._debug.saveChunkOfs.end=this._io.pos),this._debug.chunk={start:this._io.pos,ioOffset:this._io.byteOffset},this.chunk=new r(this._io,this,this._root),this._debug.chunk.end=this._io.pos},Object.defineProperty(t.prototype,"chunkData",{get:function(){if(this._m_chunkData!==void 0)return this._m_chunkData;var s=this.chunk.dataSlot._io,e=s.pos;switch(s.seek(0),this._debug._m_chunkData={start:s.pos,ioOffset:s.byteOffset},this.isUnregisteredTag){case!1:this._m_chunkData=n.bytesToStr(s.readBytesTerm(0,!1,!0,!0),"UTF-8");break}return this._debug._m_chunkData.end=s.pos,s.seek(e),this._m_chunkData}}),Object.defineProperty(t.prototype,"chunkIdReadable",{get:function(){return this._m_chunkIdReadable!==void 0?this._m_chunkIdReadable:(this._debug._m_chunkIdReadable={},this._m_chunkIdReadable=n.bytesToStr(this.idChars,"ASCII"),this._m_chunkIdReadable)}}),Object.defineProperty(t.prototype,"chunkOfs",{get:function(){return this._m_chunkOfs!==void 0?this._m_chunkOfs:(this._debug._m_chunkOfs={},this._m_chunkOfs=this._io.pos,this._m_chunkOfs)}}),Object.defineProperty(t.prototype,"idChars",{get:function(){if(this._m_idChars!==void 0)return this._m_idChars;var s=this._io.pos;return this._io.seek(this.chunkOfs),this._debug._m_idChars={start:this._io.pos,ioOffset:this._io.byteOffset},this._m_idChars=this._io.readBytes(4),this._debug._m_idChars.end=this._io.pos,this._io.seek(s),this._m_idChars}}),Object.defineProperty(t.prototype,"isUnregisteredTag",{get:function(){return this._m_isUnregisteredTag!==void 0?this._m_isUnregisteredTag:(this._debug._m_isUnregisteredTag={},this._m_isUnregisteredTag=this.idChars[0]>=97&&this.idChars[0]<=122||this.idChars[1]>=97&&this.idChars[1]<=122||this.idChars[2]>=97&&this.idChars[2]<=122||this.idChars[3]>=97&&this.idChars[3]<=122,this._m_isUnregisteredTag)}}),t})(),k=i.ListChunkData=(function(){function t(s,e,h){this._io=s,this._parent=e,this._root=h,this._debug={},this._read()}return t.prototype._read=function(){this.parentChunkDataOfs<0&&(this._debug.saveParentChunkDataOfs={start:this._io.pos,ioOffset:this._io.byteOffset},this.saveParentChunkDataOfs=this._io.readBytes(0),this._debug.saveParentChunkDataOfs.end=this._io.pos),this._debug.parentChunkData={start:this._io.pos,ioOffset:this._io.byteOffset},this.parentChunkData=new f(this._io,this,this._root),this._debug.parentChunkData.end=this._io.pos},Object.defineProperty(t.prototype,"formType",{get:function(){return this._m_formType!==void 0?this._m_formType:(this._debug._m_formType={enumName:"Riff.Fourcc"},this._m_formType=this.parentChunkData.formType,this._m_formType)}}),Object.defineProperty(t.prototype,"formTypeReadable",{get:function(){if(this._m_formTypeReadable!==void 0)return this._m_formTypeReadable;var s=this._io.pos;return this._io.seek(this.parentChunkDataOfs),this._debug._m_formTypeReadable={start:this._io.pos,ioOffset:this._io.byteOffset},this._m_formTypeReadable=n.bytesToStr(this._io.readBytes(4),"ASCII"),this._debug._m_formTypeReadable.end=this._io.pos,this._io.seek(s),this._m_formTypeReadable}}),Object.defineProperty(t.prototype,"parentChunkDataOfs",{get:function(){return this._m_parentChunkDataOfs!==void 0?this._m_parentChunkDataOfs:(this._debug._m_parentChunkDataOfs={},this._m_parentChunkDataOfs=this._io.pos,this._m_parentChunkDataOfs)}}),Object.defineProperty(t.prototype,"subchunks",{get:function(){if(this._m_subchunks!==void 0)return this._m_subchunks;var s=this.parentChunkData.subchunksSlot._io,e=s.pos;for(s.seek(0),this._debug._m_subchunks={start:s.pos,ioOffset:s.byteOffset},this._debug._m_subchunks.arr=[],this._m_subchunks=[];!s.isEof();){switch(this._debug._m_subchunks.arr[this._m_subchunks.length]={start:s.pos,ioOffset:s.byteOffset},this.formType){case i.Fourcc.INFO:this._m_subchunks.push(new p(s,this,this._root));break;default:this._m_subchunks.push(new d(s,this,this._root));break}this._debug._m_subchunks.arr[this._m_subchunks.length-1].end=s.pos}return this._debug._m_subchunks.end=s.pos,s.seek(e),this._m_subchunks}}),t})(),f=i.ParentChunkData=(function(){function t(e,h,u){this._io=e,this._parent=h,this._root=u,this._debug={},this._read()}t.prototype._read=function(){this._debug.formType={start:this._io.pos,ioOffset:this._io.byteOffset},this.formType=this._io.readU4le(),this._debug.formType.end=this._io.pos,this._debug.subchunksSlot={start:this._io.pos,ioOffset:this._io.byteOffset},this._raw_subchunksSlot=this._io.readBytesFull();var e=new n(this._raw_subchunksSlot);this.subchunksSlot=new s(e,this,this._root),this._debug.subchunksSlot.end=this._io.pos};var s=t.Slot=(function(){function e(h,u,a){this._io=h,this._parent=u,this._root=a,this._debug={},this._read()}return e.prototype._read=function(){},e})();return t})();return Object.defineProperty(i.prototype,"chunkId",{get:function(){return this._m_chunkId!==void 0?this._m_chunkId:(this._debug._m_chunkId={enumName:"Riff.Fourcc"},this._m_chunkId=this.chunk.id,this._m_chunkId)}}),Object.defineProperty(i.prototype,"isRiffChunk",{get:function(){return this._m_isRiffChunk!==void 0?this._m_isRiffChunk:(this._debug._m_isRiffChunk={},this._m_isRiffChunk=this.chunkId==i.Fourcc.RIFF,this._m_isRiffChunk)}}),Object.defineProperty(i.prototype,"parentChunkData",{get:function(){if(this._m_parentChunkData!==void 0)return this._m_parentChunkData;if(this.isRiffChunk){var t=this.chunk.dataSlot._io,s=t.pos;t.seek(0),this._debug._m_parentChunkData={start:t.pos,ioOffset:t.byteOffset},this._m_parentChunkData=new f(t,this,this._root),this._debug._m_parentChunkData.end=t.pos,t.seek(s)}return this._m_parentChunkData}}),Object.defineProperty(i.prototype,"subchunks",{get:function(){if(this._m_subchunks!==void 0)return this._m_subchunks;if(this.isRiffChunk){var t=this.parentChunkData.subchunksSlot._io,s=t.pos;for(t.seek(0),this._debug._m_subchunks={start:t.pos,ioOffset:t.byteOffset},this._debug._m_subchunks.arr=[],this._m_subchunks=[];!t.isEof();)this._debug._m_subchunks.arr[this._m_subchunks.length]={start:t.pos,ioOffset:t.byteOffset},this._m_subchunks.push(new d(t,this,this._root)),this._debug._m_subchunks.arr[this._m_subchunks.length-1].end=t.pos;this._debug._m_subchunks.end=t.pos,t.seek(s)}return this._m_subchunks}}),i})();_.Riff=c})}});const O=g(),C={id:"riff",title:"Resource Interchange File Format (RIFF)",ksy:{meta:{id:"riff",title:"Resource Interchange File Format (RIFF)",xref:{justsolve:"RIFF",loc:"fdd000025",wikidata:"Q1196805"},license:"CC0-1.0",endian:"le"},doc:`The Resource Interchange File Format (RIFF) is a generic file container format
for storing data in tagged chunks. It is primarily used to store multimedia
such as sound and video, though it may also be used to store any arbitrary data.

The Microsoft implementation is mostly known through container formats
like AVI, ANI and WAV, which use RIFF as their basis.
`,"doc-ref":"https://www.johnloomis.org/cpe102/asgn/asgn1/riff.html",seq:[{id:"chunk",type:"chunk"}],instances:{chunk_id:{value:"chunk.id",enum:"fourcc"},is_riff_chunk:{value:"chunk_id == fourcc::riff"},parent_chunk_data:{io:"chunk.data_slot._io",pos:0,type:"parent_chunk_data",if:"is_riff_chunk"},subchunks:{io:"parent_chunk_data.subchunks_slot._io",pos:0,type:"chunk_type",repeat:"eos",if:"is_riff_chunk"}},types:{chunk:{seq:[{id:"id",type:"u4"},{id:"len",type:"u4"},{id:"data_slot",type:"slot",size:"len"},{id:"pad_byte",size:"len % 2"}],types:{slot:{}}},parent_chunk_data:{seq:[{id:"form_type",type:"u4"},{id:"subchunks_slot",type:"slot","size-eos":!0}],types:{slot:{}}},chunk_type:{seq:[{id:"save_chunk_ofs",size:0,if:"chunk_ofs < 0"},{id:"chunk",type:"chunk"}],instances:{chunk_ofs:{value:"_io.pos"},chunk_id:{value:"chunk.id",enum:"fourcc"},chunk_id_readable:{pos:"chunk_ofs",size:4,type:"str",encoding:"ASCII"},chunk_data:{io:"chunk.data_slot._io",pos:0,type:{"switch-on":"chunk_id",cases:{"fourcc::list":"list_chunk_data"}}}}},list_chunk_data:{seq:[{id:"save_parent_chunk_data_ofs",size:0,if:"parent_chunk_data_ofs < 0"},{id:"parent_chunk_data",type:"parent_chunk_data"}],instances:{parent_chunk_data_ofs:{value:"_io.pos"},form_type:{value:"parent_chunk_data.form_type",enum:"fourcc"},form_type_readable:{pos:"parent_chunk_data_ofs",size:4,type:"str",encoding:"ASCII"},subchunks:{io:"parent_chunk_data.subchunks_slot._io",pos:0,type:{"switch-on":"form_type",cases:{"fourcc::info":"info_subchunk",_:"chunk_type"}},repeat:"eos"}}},info_subchunk:{meta:{encoding:"UTF-8"},doc:`All registered subchunks in the INFO chunk are NULL-terminated strings,
but the unregistered might not be. By convention, the registered
chunk IDs are in uppercase and the unregistered IDs are in lowercase.

If the chunk ID of an INFO subchunk contains a lowercase
letter, this chunk is considered as unregistered and thus we can make
no assumptions about the type of data.
`,seq:[{id:"save_chunk_ofs",size:0,if:"chunk_ofs < 0"},{id:"chunk",type:"chunk"}],instances:{chunk_ofs:{value:"_io.pos"},chunk_id_readable:{value:"id_chars.to_s('ASCII')"},chunk_data:{io:"chunk.data_slot._io",pos:0,type:{"switch-on":"is_unregistered_tag",cases:{false:"strz"}}},id_chars:{pos:"chunk_ofs",size:4},is_unregistered_tag:{value:"(id_chars[0] >= 97 and id_chars[0] <= 122) or (id_chars[1] >= 97 and id_chars[1] <= 122) or (id_chars[2] >= 97 and id_chars[2] <= 122) or (id_chars[3] >= 97 and id_chars[3] <= 122)",doc:`Check if chunk_id contains lowercase characters ([a-z], ASCII 97 = a, ASCII 122 = z).
`}}}},enums:{fourcc:{1179011410:"riff",1330007625:"info",1414744396:"list"}}}};export{O as default,C as spec};
