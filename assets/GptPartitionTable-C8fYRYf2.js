import{k as u}from"./index-CMEpbKl5.js";var b=Object.getOwnPropertyNames,f=(o,e)=>function(){return e||(0,o[b(o)[0]])((e={exports:{}}).exports,e),e.exports},y=f({"<stdin>"(o){(function(e,s){typeof define=="function"&&define.amd?define(["exports","kaitai-struct/KaitaiStream"],s):typeof o=="object"&&o!==null&&typeof o.nodeType!="number"?s(o,u.KaitaiStream):s(e.GptPartitionTable||(e.GptPartitionTable={}),e.KaitaiStream)})(typeof self<"u"?self:o,function(e,s){var n=(function(){function _(t,i,a){this._io=t,this._parent=i,this._root=a||this,this._debug={},this._read()}_.prototype._read=function(){};var d=_.PartitionEntry=(function(){function t(i,a,r){this._io=i,this._parent=a,this._root=r,this._debug={},this._read()}return t.prototype._read=function(){this._debug.typeGuid={start:this._io.pos,ioOffset:this._io.byteOffset},this.typeGuid=this._io.readBytes(16),this._debug.typeGuid.end=this._io.pos,this._debug.guid={start:this._io.pos,ioOffset:this._io.byteOffset},this.guid=this._io.readBytes(16),this._debug.guid.end=this._io.pos,this._debug.firstLba={start:this._io.pos,ioOffset:this._io.byteOffset},this.firstLba=this._io.readU8le(),this._debug.firstLba.end=this._io.pos,this._debug.lastLba={start:this._io.pos,ioOffset:this._io.byteOffset},this.lastLba=this._io.readU8le(),this._debug.lastLba.end=this._io.pos,this._debug.attributes={start:this._io.pos,ioOffset:this._io.byteOffset},this.attributes=this._io.readU8le(),this._debug.attributes.end=this._io.pos,this._debug.name={start:this._io.pos,ioOffset:this._io.byteOffset},this.name=s.bytesToStr(this._io.readBytes(72),"UTF-16LE"),this._debug.name.end=this._io.pos},t})(),h=_.PartitionHeader=(function(){function t(i,a,r){this._io=i,this._parent=a,this._root=r,this._debug={},this._read()}return t.prototype._read=function(){if(this._debug.signature={start:this._io.pos,ioOffset:this._io.byteOffset},this.signature=this._io.readBytes(8),this._debug.signature.end=this._io.pos,s.byteArrayCompare(this.signature,new Uint8Array([69,70,73,32,80,65,82,84]))!=0){var i=new s.ValidationNotEqualError(new Uint8Array([69,70,73,32,80,65,82,84]),this.signature,this._io,"/types/partition_header/seq/0");throw this._debug.signature.validationError=i,i}this._debug.revision={start:this._io.pos,ioOffset:this._io.byteOffset},this.revision=this._io.readU4le(),this._debug.revision.end=this._io.pos,this._debug.headerSize={start:this._io.pos,ioOffset:this._io.byteOffset},this.headerSize=this._io.readU4le(),this._debug.headerSize.end=this._io.pos,this._debug.crc32Header={start:this._io.pos,ioOffset:this._io.byteOffset},this.crc32Header=this._io.readU4le(),this._debug.crc32Header.end=this._io.pos,this._debug.reserved={start:this._io.pos,ioOffset:this._io.byteOffset},this.reserved=this._io.readU4le(),this._debug.reserved.end=this._io.pos,this._debug.currentLba={start:this._io.pos,ioOffset:this._io.byteOffset},this.currentLba=this._io.readU8le(),this._debug.currentLba.end=this._io.pos,this._debug.backupLba={start:this._io.pos,ioOffset:this._io.byteOffset},this.backupLba=this._io.readU8le(),this._debug.backupLba.end=this._io.pos,this._debug.firstUsableLba={start:this._io.pos,ioOffset:this._io.byteOffset},this.firstUsableLba=this._io.readU8le(),this._debug.firstUsableLba.end=this._io.pos,this._debug.lastUsableLba={start:this._io.pos,ioOffset:this._io.byteOffset},this.lastUsableLba=this._io.readU8le(),this._debug.lastUsableLba.end=this._io.pos,this._debug.diskGuid={start:this._io.pos,ioOffset:this._io.byteOffset},this.diskGuid=this._io.readBytes(16),this._debug.diskGuid.end=this._io.pos,this._debug.entriesStart={start:this._io.pos,ioOffset:this._io.byteOffset},this.entriesStart=this._io.readU8le(),this._debug.entriesStart.end=this._io.pos,this._debug.entriesCount={start:this._io.pos,ioOffset:this._io.byteOffset},this.entriesCount=this._io.readU4le(),this._debug.entriesCount.end=this._io.pos,this._debug.entriesSize={start:this._io.pos,ioOffset:this._io.byteOffset},this.entriesSize=this._io.readU4le(),this._debug.entriesSize.end=this._io.pos,this._debug.crc32Array={start:this._io.pos,ioOffset:this._io.byteOffset},this.crc32Array=this._io.readU4le(),this._debug.crc32Array.end=this._io.pos},Object.defineProperty(t.prototype,"entries",{get:function(){if(this._m_entries!==void 0)return this._m_entries;var i=this._root._io,a=i.pos;i.seek(this.entriesStart*this._root.sectorSize),this._debug._m_entries={start:i.pos,ioOffset:i.byteOffset},this._debug._m_entries.arr=[],this._raw__m_entries=[],this._m_entries=[];for(var r=0;r<this.entriesCount;r++){this._debug._m_entries.arr[r]={start:i.pos,ioOffset:i.byteOffset},this._raw__m_entries.push(i.readBytes(this.entriesSize));var p=new s(this._raw__m_entries[r]);this._m_entries.push(new d(p,this,this._root)),this._debug._m_entries.arr[r].end=i.pos}return this._debug._m_entries.end=i.pos,i.seek(a),this._m_entries}}),t})();return Object.defineProperty(_.prototype,"backup",{get:function(){if(this._m_backup!==void 0)return this._m_backup;var t=this._root._io,i=t.pos;return t.seek(this._io.size-this._root.sectorSize),this._debug._m_backup={start:t.pos,ioOffset:t.byteOffset},this._m_backup=new h(t,this,this._root),this._debug._m_backup.end=t.pos,t.seek(i),this._m_backup}}),Object.defineProperty(_.prototype,"primary",{get:function(){if(this._m_primary!==void 0)return this._m_primary;var t=this._root._io,i=t.pos;return t.seek(this._root.sectorSize),this._debug._m_primary={start:t.pos,ioOffset:t.byteOffset},this._m_primary=new h(t,this,this._root),this._debug._m_primary.end=t.pos,t.seek(i),this._m_primary}}),Object.defineProperty(_.prototype,"sectorSize",{get:function(){return this._m_sectorSize!==void 0?this._m_sectorSize:(this._debug._m_sectorSize={},this._m_sectorSize=512,this._m_sectorSize)}}),_})();e.GptPartitionTable=n})}});const g=y(),l={id:"gpt_partition_table",title:"GPT (GUID) partition table",ksy:{meta:{id:"gpt_partition_table",title:"GPT (GUID) partition table",xref:{forensicswiki:"gpt",justsolve:"GUID_Partition_Table",wikidata:"Q603889"},license:"CC0-1.0",endian:"le"},"doc-ref":"https://en.wikipedia.org/wiki/GUID_Partition_Table",instances:{sector_size:{value:512},primary:{io:"_root._io",pos:"_root.sector_size",type:"partition_header"},backup:{io:"_root._io",pos:"_io.size - _root.sector_size",type:"partition_header"}},types:{partition_entry:{seq:[{id:"type_guid",size:16},{id:"guid",size:16},{id:"first_lba",type:"u8"},{id:"last_lba",type:"u8"},{id:"attributes",type:"u8"},{id:"name",type:"str",encoding:"UTF-16LE",size:72}]},partition_header:{seq:[{id:"signature",contents:[69,70,73,32,80,65,82,84]},{id:"revision",type:"u4"},{id:"header_size",type:"u4"},{id:"crc32_header",type:"u4"},{id:"reserved",type:"u4"},{id:"current_lba",type:"u8"},{id:"backup_lba",type:"u8"},{id:"first_usable_lba",type:"u8"},{id:"last_usable_lba",type:"u8"},{id:"disk_guid",size:16},{id:"entries_start",type:"u8"},{id:"entries_count",type:"u4"},{id:"entries_size",type:"u4"},{id:"crc32_array",type:"u4"}],instances:{entries:{io:"_root._io",pos:"entries_start * _root.sector_size",size:"entries_size",type:"partition_entry",repeat:"expr","repeat-expr":"entries_count"}}}}}};export{g as default,l as spec};
