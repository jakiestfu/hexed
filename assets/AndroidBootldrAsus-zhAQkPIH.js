import{k as _}from"./index-CMEpbKl5.js";var f=Object.getOwnPropertyNames,u=(o,t)=>function(){return t||(0,o[f(o)[0]])((t={exports:{}}).exports,t),t.exports},g=u({"<stdin>"(o){(function(t,i){typeof define=="function"&&define.amd?define(["exports","kaitai-struct/KaitaiStream"],i):typeof o=="object"&&o!==null&&typeof o.nodeType!="number"?i(o,_.KaitaiStream):i(t.AndroidBootldrAsus||(t.AndroidBootldrAsus={}),t.KaitaiStream)})(typeof self<"u"?self:o,function(t,i){var n=(function(){function d(s,e,r){this._io=s,this._parent=e,this._root=r||this,this._debug={},this._read()}d.prototype._read=function(){if(this._debug.magic={start:this._io.pos,ioOffset:this._io.byteOffset},this.magic=this._io.readBytes(8),this._debug.magic.end=this._io.pos,i.byteArrayCompare(this.magic,new Uint8Array([66,79,79,84,76,68,82,33]))!=0){var s=new i.ValidationNotEqualError(new Uint8Array([66,79,79,84,76,68,82,33]),this.magic,this._io,"/seq/0");throw this._debug.magic.validationError=s,s}if(this._debug.revision={start:this._io.pos,ioOffset:this._io.byteOffset},this.revision=this._io.readU2le(),this._debug.revision.end=this._io.pos,!(this.revision>=2)){var s=new i.ValidationLessThanError(2,this.revision,this._io,"/seq/1");throw this._debug.revision.validationError=s,s}this._debug.reserved1={start:this._io.pos,ioOffset:this._io.byteOffset},this.reserved1=this._io.readU2le(),this._debug.reserved1.end=this._io.pos,this._debug.reserved2={start:this._io.pos,ioOffset:this._io.byteOffset},this.reserved2=this._io.readU4le(),this._debug.reserved2.end=this._io.pos,this._debug.images={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.images.arr=[],this.images=[];for(var e=0;e<3;e++)this._debug.images.arr[e]={start:this._io.pos,ioOffset:this._io.byteOffset},this.images.push(new h(this._io,this,this._root)),this._debug.images.arr[e].end=this._io.pos;this._debug.images.end=this._io.pos};var h=d.Image=(function(){function s(e,r,a){this._io=e,this._parent=r,this._root=a,this._debug={},this._read()}return s.prototype._read=function(){if(this._debug.chunkId={start:this._io.pos,ioOffset:this._io.byteOffset},this.chunkId=i.bytesToStr(this._io.readBytes(8),"ASCII"),this._debug.chunkId.end=this._io.pos,!(this.chunkId=="IFWI!!!!"||this.chunkId=="DROIDBT!"||this.chunkId=="SPLASHS!")){var e=new i.ValidationNotAnyOfError(this.chunkId,this._io,"/types/image/seq/0");throw this._debug.chunkId.validationError=e,e}this._debug.lenBody={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenBody=this._io.readU4le(),this._debug.lenBody.end=this._io.pos,this._debug.flags={start:this._io.pos,ioOffset:this._io.byteOffset},this.flags=this._io.readU1(),this._debug.flags.end=this._io.pos;var r=this.flags;if((r&1)==0){var e=new i.ValidationExprError(this.flags,this._io,"/types/image/seq/2");throw this._debug.flags.validationError=e,e}this._debug.reserved1={start:this._io.pos,ioOffset:this._io.byteOffset},this.reserved1=this._io.readU1(),this._debug.reserved1.end=this._io.pos,this._debug.reserved2={start:this._io.pos,ioOffset:this._io.byteOffset},this.reserved2=this._io.readU1(),this._debug.reserved2.end=this._io.pos,this._debug.reserved3={start:this._io.pos,ioOffset:this._io.byteOffset},this.reserved3=this._io.readU1(),this._debug.reserved3.end=this._io.pos,this._debug.body={start:this._io.pos,ioOffset:this._io.byteOffset},this.body=this._io.readBytes(this.lenBody),this._debug.body.end=this._io.pos},Object.defineProperty(s.prototype,"fileName",{get:function(){return this._m_fileName!==void 0?this._m_fileName:(this._debug._m_fileName={},this._m_fileName=this.chunkId=="IFWI!!!!"?"ifwi.bin":this.chunkId=="DROIDBT!"?"droidboot.img":this.chunkId=="SPLASHS!"?"splashscreen.img":"",this._m_fileName)}}),s})();return d})();t.AndroidBootldrAsus=n})}});const p=g(),b={id:"android_bootldr_asus",title:"ASUS Fugu bootloader.img format (version 2 and later)",ksy:{meta:{id:"android_bootldr_asus",title:"ASUS Fugu bootloader.img format (version 2 and later)","file-extension":"img",tags:["archive","android"],license:"CC0-1.0","ks-version":.9,encoding:"ASCII",endian:"le"},doc:`A bootloader image which only seems to have been used on a few ASUS
devices. The encoding is ASCII, because the \`releasetools.py\` script
is written using Python 2, where the default encoding is ASCII.

A test file can be found in the firmware files for the "fugu" device,
which can be downloaded from <https://developers.google.com/android/images>
`,"doc-ref":"https://android.googlesource.com/device/asus/fugu/+/android-8.1.0_r5/releasetools.py",seq:[{id:"magic",contents:"BOOTLDR!"},{id:"revision",type:"u2",valid:{min:2}},{id:"reserved1",type:"u2"},{id:"reserved2",type:"u4"},{id:"images",type:"image",repeat:"expr","repeat-expr":3,doc:"Only three images are included: `ifwi.bin`, `droidboot.img`\nand `splashscreen.img`\n"}],types:{image:{"-webide-representation":"{file_name}",seq:[{id:"chunk_id",size:8,type:"str",valid:{"any-of":['"IFWI!!!!"','"DROIDBT!"','"SPLASHS!"']}},{id:"len_body",type:"u4"},{id:"flags",type:"u1",valid:{expr:"_ & 1 != 0"}},{id:"reserved1",type:"u1"},{id:"reserved2",type:"u1"},{id:"reserved3",type:"u1"},{id:"body",size:"len_body"}],instances:{file_name:{value:`chunk_id == "IFWI!!!!" ? "ifwi.bin" :
chunk_id == "DROIDBT!" ? "droidboot.img" :
chunk_id == "SPLASHS!" ? "splashscreen.img" :
""
`}}}}}};export{p as default,b as spec};
