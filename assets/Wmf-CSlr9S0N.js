import{k as y}from"./index-C9sUxlHS.js";var g=Object.getOwnPropertyNames,R=(a,n)=>function(){return n||(0,a[g(a)[0]])((n={exports:{}}).exports,n),n.exports},P=R({"<stdin>"(a){(function(n,r){typeof define=="function"&&define.amd?define(["exports","kaitai-struct/KaitaiStream"],r):typeof a=="object"&&a!==null&&typeof a.nodeType!="number"?r(a,y.KaitaiStream):r(n.Wmf||(n.Wmf={}),n.KaitaiStream)})(typeof self<"u"?self:a,function(n,r){var d=(function(){i.BinRasterOp=Object.freeze({BLACK:1,NOTMERGEPEN:2,MASKNOTPEN:3,NOTCOPYPEN:4,MASKPENNOT:5,NOT:6,XORPEN:7,NOTMASKPEN:8,MASKPEN:9,NOTXORPEN:10,NOP:11,MERGENOTPEN:12,COPYPEN:13,MERGEPENNOT:14,MERGEPEN:15,WHITE:16,1:"BLACK",2:"NOTMERGEPEN",3:"MASKNOTPEN",4:"NOTCOPYPEN",5:"MASKPENNOT",6:"NOT",7:"XORPEN",8:"NOTMASKPEN",9:"MASKPEN",10:"NOTXORPEN",11:"NOP",12:"MERGENOTPEN",13:"COPYPEN",14:"MERGEPENNOT",15:"MERGEPEN",16:"WHITE"}),i.Func=Object.freeze({EOF:0,SAVEDC:30,REALIZEPALETTE:53,SETPALENTRIES:55,CREATEPALETTE:247,SETBKMODE:258,SETMAPMODE:259,SETROP2:260,SETRELABS:261,SETPOLYFILLMODE:262,SETSTRETCHBLTMODE:263,SETTEXTCHAREXTRA:264,RESTOREDC:295,INVERTREGION:298,PAINTREGION:299,SELECTCLIPREGION:300,SELECTOBJECT:301,SETTEXTALIGN:302,RESIZEPALETTE:313,DIBCREATEPATTERNBRUSH:322,SETLAYOUT:329,DELETEOBJECT:496,CREATEPATTERNBRUSH:505,SETBKCOLOR:513,SETTEXTCOLOR:521,SETTEXTJUSTIFICATION:522,SETWINDOWORG:523,SETWINDOWEXT:524,SETVIEWPORTORG:525,SETVIEWPORTEXT:526,OFFSETWINDOWORG:527,OFFSETVIEWPORTORG:529,LINETO:531,MOVETO:532,OFFSETCLIPRGN:544,FILLREGION:552,SETMAPPERFLAGS:561,SELECTPALETTE:564,CREATEPENINDIRECT:762,CREATEFONTINDIRECT:763,CREATEBRUSHINDIRECT:764,POLYGON:804,POLYLINE:805,SCALEWINDOWEXT:1040,SCALEVIEWPORTEXT:1042,EXCLUDECLIPRECT:1045,INTERSECTCLIPRECT:1046,ELLIPSE:1048,FLOODFILL:1049,RECTANGLE:1051,SETPIXEL:1055,FRAMEREGION:1065,ANIMATEPALETTE:1078,TEXTOUT:1313,POLYPOLYGON:1336,EXTFLOODFILL:1352,ROUNDRECT:1564,PATBLT:1565,ESCAPE:1574,CREATEREGION:1791,ARC:2071,PIE:2074,CHORD:2096,BITBLT:2338,DIBBITBLT:2368,EXTTEXTOUT:2610,STRETCHBLT:2851,DIBSTRETCHBLT:2881,SETDIBTODEV:3379,STRETCHDIB:3907,0:"EOF",30:"SAVEDC",53:"REALIZEPALETTE",55:"SETPALENTRIES",247:"CREATEPALETTE",258:"SETBKMODE",259:"SETMAPMODE",260:"SETROP2",261:"SETRELABS",262:"SETPOLYFILLMODE",263:"SETSTRETCHBLTMODE",264:"SETTEXTCHAREXTRA",295:"RESTOREDC",298:"INVERTREGION",299:"PAINTREGION",300:"SELECTCLIPREGION",301:"SELECTOBJECT",302:"SETTEXTALIGN",313:"RESIZEPALETTE",322:"DIBCREATEPATTERNBRUSH",329:"SETLAYOUT",496:"DELETEOBJECT",505:"CREATEPATTERNBRUSH",513:"SETBKCOLOR",521:"SETTEXTCOLOR",522:"SETTEXTJUSTIFICATION",523:"SETWINDOWORG",524:"SETWINDOWEXT",525:"SETVIEWPORTORG",526:"SETVIEWPORTEXT",527:"OFFSETWINDOWORG",529:"OFFSETVIEWPORTORG",531:"LINETO",532:"MOVETO",544:"OFFSETCLIPRGN",552:"FILLREGION",561:"SETMAPPERFLAGS",564:"SELECTPALETTE",762:"CREATEPENINDIRECT",763:"CREATEFONTINDIRECT",764:"CREATEBRUSHINDIRECT",804:"POLYGON",805:"POLYLINE",1040:"SCALEWINDOWEXT",1042:"SCALEVIEWPORTEXT",1045:"EXCLUDECLIPRECT",1046:"INTERSECTCLIPRECT",1048:"ELLIPSE",1049:"FLOODFILL",1051:"RECTANGLE",1055:"SETPIXEL",1065:"FRAMEREGION",1078:"ANIMATEPALETTE",1313:"TEXTOUT",1336:"POLYPOLYGON",1352:"EXTFLOODFILL",1564:"ROUNDRECT",1565:"PATBLT",1574:"ESCAPE",1791:"CREATEREGION",2071:"ARC",2074:"PIE",2096:"CHORD",2338:"BITBLT",2368:"DIBBITBLT",2610:"EXTTEXTOUT",2851:"STRETCHBLT",2881:"DIBSTRETCHBLT",3379:"SETDIBTODEV",3907:"STRETCHDIB"}),i.MixMode=Object.freeze({TRANSPARENT:1,OPAQUE:2,1:"TRANSPARENT",2:"OPAQUE"}),i.PolyFillMode=Object.freeze({ALTERNATE:1,WINDING:2,1:"ALTERNATE",2:"WINDING"});function i(e,t,s){this._io=e,this._parent=t,this._root=s||this,this._debug={},this._read()}i.prototype._read=function(){this._debug.specialHeader={start:this._io.pos,ioOffset:this._io.byteOffset},this.specialHeader=new m(this._io,this,this._root),this._debug.specialHeader.end=this._io.pos,this._debug.header={start:this._io.pos,ioOffset:this._io.byteOffset},this.header=new p(this._io,this,this._root),this._debug.header.end=this._io.pos,this._debug.records={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.records.arr=[],this.records=[];do{this._debug.records.arr[this.records.length]={start:this._io.pos,ioOffset:this._io.byteOffset};var e=new b(this._io,this,this._root);this.records.push(e),this._debug.records.arr[this.records.length-1].end=this._io.pos}while(e.function!=i.Func.EOF);this._debug.records.end=this._io.pos};var _=i.ColorRef=(function(){function e(t,s,o){this._io=t,this._parent=s,this._root=o,this._debug={},this._read()}return e.prototype._read=function(){this._debug.red={start:this._io.pos,ioOffset:this._io.byteOffset},this.red=this._io.readU1(),this._debug.red.end=this._io.pos,this._debug.green={start:this._io.pos,ioOffset:this._io.byteOffset},this.green=this._io.readU1(),this._debug.green.end=this._io.pos,this._debug.blue={start:this._io.pos,ioOffset:this._io.byteOffset},this.blue=this._io.readU1(),this._debug.blue.end=this._io.pos,this._debug.reserved={start:this._io.pos,ioOffset:this._io.byteOffset},this.reserved=this._io.readU1(),this._debug.reserved.end=this._io.pos},e})(),p=i.Header=(function(){e.MetafileType=Object.freeze({MEMORY_METAFILE:1,DISK_METAFILE:2,1:"MEMORY_METAFILE",2:"DISK_METAFILE"});function e(t,s,o){this._io=t,this._parent=s,this._root=o,this._debug={},this._read()}return e.prototype._read=function(){this._debug.metafileType={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"Wmf.Header.MetafileType"},this.metafileType=this._io.readU2le(),this._debug.metafileType.end=this._io.pos,this._debug.headerSize={start:this._io.pos,ioOffset:this._io.byteOffset},this.headerSize=this._io.readU2le(),this._debug.headerSize.end=this._io.pos,this._debug.version={start:this._io.pos,ioOffset:this._io.byteOffset},this.version=this._io.readU2le(),this._debug.version.end=this._io.pos,this._debug.size={start:this._io.pos,ioOffset:this._io.byteOffset},this.size=this._io.readU4le(),this._debug.size.end=this._io.pos,this._debug.numberOfObjects={start:this._io.pos,ioOffset:this._io.byteOffset},this.numberOfObjects=this._io.readU2le(),this._debug.numberOfObjects.end=this._io.pos,this._debug.maxRecord={start:this._io.pos,ioOffset:this._io.byteOffset},this.maxRecord=this._io.readU4le(),this._debug.maxRecord.end=this._io.pos,this._debug.numberOfMembers={start:this._io.pos,ioOffset:this._io.byteOffset},this.numberOfMembers=this._io.readU2le(),this._debug.numberOfMembers.end=this._io.pos},e})(),f=i.ParamsPolygon=(function(){function e(t,s,o){this._io=t,this._parent=s,this._root=o,this._debug={},this._read()}return e.prototype._read=function(){this._debug.numPoints={start:this._io.pos,ioOffset:this._io.byteOffset},this.numPoints=this._io.readS2le(),this._debug.numPoints.end=this._io.pos,this._debug.points={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.points.arr=[],this.points=[];for(var t=0;t<this.numPoints;t++)this._debug.points.arr[t]={start:this._io.pos,ioOffset:this._io.byteOffset},this.points.push(new h(this._io,this,this._root)),this._debug.points.arr[t].end=this._io.pos;this._debug.points.end=this._io.pos},e})(),E=i.ParamsPolyline=(function(){function e(t,s,o){this._io=t,this._parent=s,this._root=o,this._debug={},this._read()}return e.prototype._read=function(){this._debug.numPoints={start:this._io.pos,ioOffset:this._io.byteOffset},this.numPoints=this._io.readS2le(),this._debug.numPoints.end=this._io.pos,this._debug.points={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.points.arr=[],this.points=[];for(var t=0;t<this.numPoints;t++)this._debug.points.arr[t]={start:this._io.pos,ioOffset:this._io.byteOffset},this.points.push(new h(this._io,this,this._root)),this._debug.points.arr[t].end=this._io.pos;this._debug.points.end=this._io.pos},e})(),u=i.ParamsSetbkmode=(function(){function e(t,s,o){this._io=t,this._parent=s,this._root=o,this._debug={},this._read()}return e.prototype._read=function(){this._debug.bkMode={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"Wmf.MixMode"},this.bkMode=this._io.readU2le(),this._debug.bkMode.end=this._io.pos},e})(),T=i.ParamsSetpolyfillmode=(function(){function e(t,s,o){this._io=t,this._parent=s,this._root=o,this._debug={},this._read()}return e.prototype._read=function(){this._debug.polyFillMode={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"Wmf.PolyFillMode"},this.polyFillMode=this._io.readU2le(),this._debug.polyFillMode.end=this._io.pos},e})(),c=i.ParamsSetrop2=(function(){function e(t,s,o){this._io=t,this._parent=s,this._root=o,this._debug={},this._read()}return e.prototype._read=function(){this._debug.drawMode={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"Wmf.BinRasterOp"},this.drawMode=this._io.readU2le(),this._debug.drawMode.end=this._io.pos},e})(),O=i.ParamsSetwindowext=(function(){function e(t,s,o){this._io=t,this._parent=s,this._root=o,this._debug={},this._read()}return e.prototype._read=function(){this._debug.y={start:this._io.pos,ioOffset:this._io.byteOffset},this.y=this._io.readS2le(),this._debug.y.end=this._io.pos,this._debug.x={start:this._io.pos,ioOffset:this._io.byteOffset},this.x=this._io.readS2le(),this._debug.x.end=this._io.pos},e})(),l=i.ParamsSetwindoworg=(function(){function e(t,s,o){this._io=t,this._parent=s,this._root=o,this._debug={},this._read()}return e.prototype._read=function(){this._debug.y={start:this._io.pos,ioOffset:this._io.byteOffset},this.y=this._io.readS2le(),this._debug.y.end=this._io.pos,this._debug.x={start:this._io.pos,ioOffset:this._io.byteOffset},this.x=this._io.readS2le(),this._debug.x.end=this._io.pos},e})(),h=i.PointS=(function(){function e(t,s,o){this._io=t,this._parent=s,this._root=o,this._debug={},this._read()}return e.prototype._read=function(){this._debug.x={start:this._io.pos,ioOffset:this._io.byteOffset},this.x=this._io.readS2le(),this._debug.x.end=this._io.pos,this._debug.y={start:this._io.pos,ioOffset:this._io.byteOffset},this.y=this._io.readS2le(),this._debug.y.end=this._io.pos},e})(),b=i.Record=(function(){function e(t,s,o){this._io=t,this._parent=s,this._root=o,this._debug={},this._read()}return e.prototype._read=function(){switch(this._debug.size={start:this._io.pos,ioOffset:this._io.byteOffset},this.size=this._io.readU4le(),this._debug.size.end=this._io.pos,this._debug.function={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"Wmf.Func"},this.function=this._io.readU2le(),this._debug.function.end=this._io.pos,this._debug.params={start:this._io.pos,ioOffset:this._io.byteOffset},this.function){case i.Func.POLYGON:this._raw_params=this._io.readBytes((this.size-3)*2);var t=new r(this._raw_params);this.params=new f(t,this,this._root);break;case i.Func.POLYLINE:this._raw_params=this._io.readBytes((this.size-3)*2);var t=new r(this._raw_params);this.params=new E(t,this,this._root);break;case i.Func.SETBKCOLOR:this._raw_params=this._io.readBytes((this.size-3)*2);var t=new r(this._raw_params);this.params=new _(t,this,this._root);break;case i.Func.SETBKMODE:this._raw_params=this._io.readBytes((this.size-3)*2);var t=new r(this._raw_params);this.params=new u(t,this,this._root);break;case i.Func.SETPOLYFILLMODE:this._raw_params=this._io.readBytes((this.size-3)*2);var t=new r(this._raw_params);this.params=new T(t,this,this._root);break;case i.Func.SETROP2:this._raw_params=this._io.readBytes((this.size-3)*2);var t=new r(this._raw_params);this.params=new c(t,this,this._root);break;case i.Func.SETWINDOWEXT:this._raw_params=this._io.readBytes((this.size-3)*2);var t=new r(this._raw_params);this.params=new O(t,this,this._root);break;case i.Func.SETWINDOWORG:this._raw_params=this._io.readBytes((this.size-3)*2);var t=new r(this._raw_params);this.params=new l(t,this,this._root);break;default:this.params=this._io.readBytes((this.size-3)*2);break}this._debug.params.end=this._io.pos},e})(),m=i.SpecialHeader=(function(){function e(t,s,o){this._io=t,this._parent=s,this._root=o,this._debug={},this._read()}return e.prototype._read=function(){if(this._debug.magic={start:this._io.pos,ioOffset:this._io.byteOffset},this.magic=this._io.readBytes(4),this._debug.magic.end=this._io.pos,r.byteArrayCompare(this.magic,new Uint8Array([215,205,198,154]))!=0){var t=new r.ValidationNotEqualError(new Uint8Array([215,205,198,154]),this.magic,this._io,"/types/special_header/seq/0");throw this._debug.magic.validationError=t,t}if(this._debug.handle={start:this._io.pos,ioOffset:this._io.byteOffset},this.handle=this._io.readBytes(2),this._debug.handle.end=this._io.pos,r.byteArrayCompare(this.handle,new Uint8Array([0,0]))!=0){var t=new r.ValidationNotEqualError(new Uint8Array([0,0]),this.handle,this._io,"/types/special_header/seq/1");throw this._debug.handle.validationError=t,t}if(this._debug.left={start:this._io.pos,ioOffset:this._io.byteOffset},this.left=this._io.readS2le(),this._debug.left.end=this._io.pos,this._debug.top={start:this._io.pos,ioOffset:this._io.byteOffset},this.top=this._io.readS2le(),this._debug.top.end=this._io.pos,this._debug.right={start:this._io.pos,ioOffset:this._io.byteOffset},this.right=this._io.readS2le(),this._debug.right.end=this._io.pos,this._debug.bottom={start:this._io.pos,ioOffset:this._io.byteOffset},this.bottom=this._io.readS2le(),this._debug.bottom.end=this._io.pos,this._debug.inch={start:this._io.pos,ioOffset:this._io.byteOffset},this.inch=this._io.readU2le(),this._debug.inch.end=this._io.pos,this._debug.reserved={start:this._io.pos,ioOffset:this._io.byteOffset},this.reserved=this._io.readBytes(4),this._debug.reserved.end=this._io.pos,r.byteArrayCompare(this.reserved,new Uint8Array([0,0,0,0]))!=0){var t=new r.ValidationNotEqualError(new Uint8Array([0,0,0,0]),this.reserved,this._io,"/types/special_header/seq/7");throw this._debug.reserved.validationError=t,t}this._debug.checksum={start:this._io.pos,ioOffset:this._io.byteOffset},this.checksum=this._io.readU2le(),this._debug.checksum.end=this._io.pos},e})();return i})();n.Wmf=d})}});const N=P(),w={id:"wmf",title:"Windows Metafile (WMF) vector image",ksy:{meta:{id:"wmf",title:"Windows Metafile (WMF) vector image","file-extension":"wmf",xref:{justsolve:"Windows_Metafile",mime:"image/wmf",pronom:"x-fmt/119",wikidata:"Q1072083"},tags:["windows"],license:"CC0-1.0",endian:"le"},doc:`WMF (Windows Metafile) is a relatively early vector image format
introduced for Microsoft Windows in 1990.

Inside, it provides a serialized list of Windows GDI (Graphics
Device Interface) function calls, which, if played back, result in
an image being drawn on a given surface (display, off-screen buffer,
printer, etc).
`,"doc-ref":"https://www.loc.gov/preservation/digital/formats/digformatspecs/WindowsMetafileFormat(wmf)Specification.pdf",seq:[{id:"special_header",type:"special_header"},{id:"header",type:"header"},{id:"records",type:"record",repeat:"until","repeat-until":"_.function == func::eof"}],types:{special_header:{seq:[{id:"magic",contents:[215,205,198,154]},{id:"handle",contents:[0,0]},{id:"left",type:"s2"},{id:"top",type:"s2"},{id:"right",type:"s2"},{id:"bottom",type:"s2"},{id:"inch",type:"u2"},{id:"reserved",contents:[0,0,0,0]},{id:"checksum",type:"u2"}]},header:{seq:[{id:"metafile_type",type:"u2",enum:"metafile_type"},{id:"header_size",type:"u2"},{id:"version",type:"u2"},{id:"size",type:"u4"},{id:"number_of_objects",type:"u2"},{id:"max_record",type:"u4"},{id:"number_of_members",type:"u2"}],enums:{metafile_type:{1:"memory_metafile",2:"disk_metafile"}}},record:{seq:[{id:"size",type:"u4"},{id:"function",type:"u2",enum:"func"},{id:"params",size:"(size - 3) * 2",type:{"switch-on":"function",cases:{"func::polyline":"params_polyline","func::polygon":"params_polygon","func::setbkcolor":"color_ref","func::setbkmode":"params_setbkmode","func::setpolyfillmode":"params_setpolyfillmode","func::setrop2":"params_setrop2","func::setwindowext":"params_setwindowext","func::setwindoworg":"params_setwindoworg"}}}]},params_polyline:{"doc-ref":"section 2.3.3.14",seq:[{id:"num_points",type:"s2"},{id:"points",repeat:"expr","repeat-expr":"num_points",type:"point_s"}]},params_polygon:{"doc-ref":"section 2.3.3.15 = params_polyline",seq:[{id:"num_points",type:"s2"},{id:"points",repeat:"expr","repeat-expr":"num_points",type:"point_s"}]},params_setbkmode:{"doc-ref":"section 2.3.5.15",seq:[{id:"bk_mode",type:"u2",enum:"mix_mode",doc:"Defines current graphic context background mix mode."}]},params_setpolyfillmode:{"doc-ref":"section 2.3.5.20",seq:[{id:"poly_fill_mode",type:"u2",enum:"poly_fill_mode",doc:"Defines current polygon fill mode."}]},params_setrop2:{"doc-ref":"section 2.3.5.22",seq:[{id:"draw_mode",type:"u2",enum:"bin_raster_op",doc:"Defines current foreground binary raster operation mixing mode."}]},params_setwindowext:{"doc-ref":"section 2.3.5.30",seq:[{id:"y",type:"s2",doc:"Vertical extent of the window in logical units."},{id:"x",type:"s2",doc:"Horizontal extent of the window in logical units."}]},params_setwindoworg:{"doc-ref":"section 2.3.5.31",seq:[{id:"y",type:"s2",doc:"Y coordinate of the window origin, in logical units."},{id:"x",type:"s2",doc:"X coordinate of the window origin, in logical units."}]},color_ref:{"doc-ref":"section 2.2.1.7",seq:[{id:"red",type:"u1"},{id:"green",type:"u1"},{id:"blue",type:"u1"},{id:"reserved",type:"u1"}]},point_s:{"doc-ref":"section 2.2.1.12",seq:[{id:"x",type:"s2",doc:"X coordinate of the point, in logical units."},{id:"y",type:"s2",doc:"Y coordinate of the point, in logical units."}]}},enums:{func:{0:"eof",30:"savedc",53:"realizepalette",55:"setpalentries",247:"createpalette",258:"setbkmode",259:"setmapmode",260:"setrop2",261:"setrelabs",262:"setpolyfillmode",263:"setstretchbltmode",264:"settextcharextra",295:"restoredc",298:"invertregion",299:"paintregion",300:"selectclipregion",301:"selectobject",302:"settextalign",313:"resizepalette",322:"dibcreatepatternbrush",329:"setlayout",496:"deleteobject",505:"createpatternbrush",513:"setbkcolor",521:"settextcolor",522:"settextjustification",523:"setwindoworg",524:"setwindowext",525:"setviewportorg",526:"setviewportext",527:"offsetwindoworg",529:"offsetviewportorg",531:"lineto",532:"moveto",544:"offsetcliprgn",552:"fillregion",561:"setmapperflags",564:"selectpalette",762:"createpenindirect",763:"createfontindirect",764:"createbrushindirect",804:"polygon",805:"polyline",1040:"scalewindowext",1042:"scaleviewportext",1045:"excludecliprect",1046:"intersectcliprect",1048:"ellipse",1049:"floodfill",1051:"rectangle",1055:"setpixel",1065:"frameregion",1078:"animatepalette",1313:"textout",1336:"polypolygon",1352:"extfloodfill",1564:"roundrect",1565:"patblt",1574:"escape",1791:"createregion",2071:"arc",2074:"pie",2096:"chord",2338:"bitblt",2368:"dibbitblt",2610:"exttextout",2851:"stretchblt",2881:"dibstretchblt",3379:"setdibtodev",3907:"stretchdib"},bin_raster_op:{1:"black",2:"notmergepen",3:"masknotpen",4:"notcopypen",5:"maskpennot",6:"not",7:"xorpen",8:"notmaskpen",9:"maskpen",10:"notxorpen",11:"nop",12:"mergenotpen",13:"copypen",14:"mergepennot",15:"mergepen",16:"white"},mix_mode:{1:"transparent",2:"opaque"},poly_fill_mode:{1:"alternate",2:"winding"}}}};export{N as default,w as spec};
