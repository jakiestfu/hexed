import{k as u}from"./index-LM5QM2-c.js";var g=Object.getOwnPropertyNames,l=(n,i)=>function(){return i||(0,n[g(n)[0]])((i={exports:{}}).exports,i),i.exports},b=l({"<stdin>"(n){(function(i,s){typeof define=="function"&&define.amd?define(["exports","kaitai-struct/KaitaiStream"],s):typeof n=="object"&&n!==null&&typeof n.nodeType!="number"?s(n,u.KaitaiStream):s(i.DimeMessage||(i.DimeMessage={}),i.KaitaiStream)})(typeof self<"u"?self:n,function(i,s){var r=(function(){d.TypeFormats=Object.freeze({UNCHANGED:0,MEDIA_TYPE:1,ABSOLUTE_URI:2,UNKNOWN:3,NONE:4,0:"UNCHANGED",1:"MEDIA_TYPE",2:"ABSOLUTE_URI",3:"UNKNOWN",4:"NONE"});function d(t,e,o){this._io=t,this._parent=e,this._root=o||this,this._debug={},this._read()}d.prototype._read=function(){for(this._debug.records={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.records.arr=[],this.records=[];!this._io.isEof();)this._debug.records.arr[this.records.length]={start:this._io.pos,ioOffset:this._io.byteOffset},this.records.push(new f(this._io,this,this._root)),this._debug.records.arr[this.records.length-1].end=this._io.pos;this._debug.records.end=this._io.pos};var _=d.OptionElement=(function(){function t(e,o,h){this._io=e,this._parent=o,this._root=h,this._debug={},this._read()}return t.prototype._read=function(){this._debug.elementFormat={start:this._io.pos,ioOffset:this._io.byteOffset},this.elementFormat=this._io.readU2be(),this._debug.elementFormat.end=this._io.pos,this._debug.lenElement={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenElement=this._io.readU2be(),this._debug.lenElement.end=this._io.pos,this._debug.elementData={start:this._io.pos,ioOffset:this._io.byteOffset},this.elementData=this._io.readBytes(this.lenElement),this._debug.elementData.end=this._io.pos},t})(),p=d.OptionField=(function(){function t(e,o,h){this._io=e,this._parent=o,this._root=h,this._debug={},this._read()}return t.prototype._read=function(){for(this._debug.optionElements={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.optionElements.arr=[],this.optionElements=[];!this._io.isEof();)this._debug.optionElements.arr[this.optionElements.length]={start:this._io.pos,ioOffset:this._io.byteOffset},this.optionElements.push(new _(this._io,this,this._root)),this._debug.optionElements.arr[this.optionElements.length-1].end=this._io.pos;this._debug.optionElements.end=this._io.pos},t})(),a=d.Padding=(function(){function t(e,o,h){this._io=e,this._parent=o,this._root=h,this._debug={},this._read()}return t.prototype._read=function(){this._debug.boundaryPadding={start:this._io.pos,ioOffset:this._io.byteOffset},this.boundaryPadding=this._io.readBytes(s.mod(-this._io.pos,4)),this._debug.boundaryPadding.end=this._io.pos},t})(),f=d.Record=(function(){function t(e,o,h){this._io=e,this._parent=o,this._root=h,this._debug={},this._read()}return t.prototype._read=function(){this._debug.version={start:this._io.pos,ioOffset:this._io.byteOffset},this.version=this._io.readBitsIntBe(5),this._debug.version.end=this._io.pos,this._debug.isFirstRecord={start:this._io.pos,ioOffset:this._io.byteOffset},this.isFirstRecord=this._io.readBitsIntBe(1)!=0,this._debug.isFirstRecord.end=this._io.pos,this._debug.isLastRecord={start:this._io.pos,ioOffset:this._io.byteOffset},this.isLastRecord=this._io.readBitsIntBe(1)!=0,this._debug.isLastRecord.end=this._io.pos,this._debug.isChunkRecord={start:this._io.pos,ioOffset:this._io.byteOffset},this.isChunkRecord=this._io.readBitsIntBe(1)!=0,this._debug.isChunkRecord.end=this._io.pos,this._debug.typeFormat={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"DimeMessage.TypeFormats"},this.typeFormat=this._io.readBitsIntBe(4),this._debug.typeFormat.end=this._io.pos,this._debug.reserved={start:this._io.pos,ioOffset:this._io.byteOffset},this.reserved=this._io.readBitsIntBe(4),this._debug.reserved.end=this._io.pos,this._io.alignToByte(),this._debug.lenOptions={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenOptions=this._io.readU2be(),this._debug.lenOptions.end=this._io.pos,this._debug.lenId={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenId=this._io.readU2be(),this._debug.lenId.end=this._io.pos,this._debug.lenType={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenType=this._io.readU2be(),this._debug.lenType.end=this._io.pos,this._debug.lenData={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenData=this._io.readU4be(),this._debug.lenData.end=this._io.pos,this._debug.options={start:this._io.pos,ioOffset:this._io.byteOffset},this._raw_options=this._io.readBytes(this.lenOptions);var e=new s(this._raw_options);this.options=new p(e,this,this._root),this._debug.options.end=this._io.pos,this._debug.optionsPadding={start:this._io.pos,ioOffset:this._io.byteOffset},this.optionsPadding=new a(this._io,this,this._root),this._debug.optionsPadding.end=this._io.pos,this._debug.id={start:this._io.pos,ioOffset:this._io.byteOffset},this.id=s.bytesToStr(this._io.readBytes(this.lenId),"ASCII"),this._debug.id.end=this._io.pos,this._debug.idPadding={start:this._io.pos,ioOffset:this._io.byteOffset},this.idPadding=new a(this._io,this,this._root),this._debug.idPadding.end=this._io.pos,this._debug.type={start:this._io.pos,ioOffset:this._io.byteOffset},this.type=s.bytesToStr(this._io.readBytes(this.lenType),"ASCII"),this._debug.type.end=this._io.pos,this._debug.typePadding={start:this._io.pos,ioOffset:this._io.byteOffset},this.typePadding=new a(this._io,this,this._root),this._debug.typePadding.end=this._io.pos,this._debug.data={start:this._io.pos,ioOffset:this._io.byteOffset},this.data=this._io.readBytes(this.lenData),this._debug.data.end=this._io.pos,this._debug.dataPadding={start:this._io.pos,ioOffset:this._io.byteOffset},this.dataPadding=new a(this._io,this,this._root),this._debug.dataPadding.end=this._io.pos},t})();return d})();i.DimeMessage=r})}});const m=b(),y={id:"dime_message",title:"DIME (Direct Internet Message Encapsulation) Message",ksy:{meta:{id:"dime_message",title:"DIME (Direct Internet Message Encapsulation) Message","file-extension":["dim","dime"],xref:{mime:"application/dime",wikidata:"Q1227457"},license:"CC0-1.0","bit-endian":"be",endian:"be",encoding:"ASCII"},doc:`Direct Internet Message Encapsulation (DIME)
is an old Microsoft specification for sending and receiving
SOAP messages along with additional attachments,
like binary files, XML fragments, and even other
SOAP messages, using standard transport protocols like HTTP.

Sample file: \`curl -LO
https://github.com/kaitai-io/kaitai_struct_formats/files/5894723/scanner_withoptions.dump.gz
&& gunzip scanner_withoptions.dump.gz\`
`,"doc-ref":["https://datatracker.ietf.org/doc/html/draft-nielsen-dime-02","https://learn.microsoft.com/en-us/archive/msdn-magazine/2002/december/sending-files-attachments-and-soap-messages-via-dime","http://imrannazar.com/Parsing-the-DIME-Message-Format"],seq:[{id:"records",type:"record",repeat:"eos"}],types:{padding:{doc:"padding to the next 4-byte boundary",seq:[{id:"boundary_padding",size:"(- _io.pos) % 4"}]},option_field:{doc:"the option field of the record",seq:[{id:"option_elements",type:"option_element",repeat:"eos"}]},option_element:{doc:"one element of the option field",seq:[{id:"element_format",type:"u2"},{id:"len_element",type:"u2"},{id:"element_data",size:"len_element"}]},record:{doc:"each individual fragment of the message",seq:[{id:"version",doc:"DIME format version (always 1)",type:"b5"},{id:"is_first_record",doc:"Set if this is the first record in the message",type:"b1"},{id:"is_last_record",doc:"Set if this is the last record in the message",type:"b1"},{id:"is_chunk_record",doc:"Set if the file contained in this record is chunked into multiple records",type:"b1"},{id:"type_format",doc:"Indicates the structure and format of the value of the TYPE field",enum:"type_formats",type:"b4"},{id:"reserved",doc:"Reserved for future use",type:"b4"},{id:"len_options",doc:"Length of the Options field",type:"u2"},{id:"len_id",doc:"Length of the ID field",type:"u2"},{id:"len_type",doc:"Length of the Type field",type:"u2"},{id:"len_data",doc:"Length of the Data field",type:"u4"},{id:"options",size:"len_options",type:"option_field"},{id:"options_padding",type:"padding"},{id:"id",doc:"Unique identifier of the file (set in the first record of file)",type:"str",size:"len_id"},{id:"id_padding",type:"padding"},{id:"type",doc:"Specified type in the format set with type_format",type:"str",size:"len_type"},{id:"type_padding",type:"padding"},{id:"data",doc:"The file data",size:"len_data"},{id:"data_padding",type:"padding"}]}},enums:{type_formats:{0:"unchanged",1:"media_type",2:"absolute_uri",3:"unknown",4:"none"}}}};export{m as default,y as spec};
