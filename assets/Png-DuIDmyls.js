import{k as P}from"./index-DQZRlv-R.js";var R=Object.getOwnPropertyNames,I=(n,r)=>function(){return r||(0,n[R(n)[0]])((r={exports:{}}).exports,r),r.exports},A=I({"<stdin>"(n){(function(r,o){typeof define=="function"&&define.amd?define(["exports","kaitai-struct/KaitaiStream"],o):typeof n=="object"&&n!==null&&typeof n.nodeType!="number"?o(n,P.KaitaiStream):o(r.Png||(r.Png={}),r.KaitaiStream)})(typeof self<"u"?self:n,function(r,o){var u=(function(){h.BlendOpValues=Object.freeze({SOURCE:0,OVER:1,0:"SOURCE",1:"OVER"}),h.ColorType=Object.freeze({GREYSCALE:0,TRUECOLOR:2,INDEXED:3,GREYSCALE_ALPHA:4,TRUECOLOR_ALPHA:6,0:"GREYSCALE",2:"TRUECOLOR",3:"INDEXED",4:"GREYSCALE_ALPHA",6:"TRUECOLOR_ALPHA"}),h.CompressionMethods=Object.freeze({ZLIB:0,0:"ZLIB"}),h.DisposeOpValues=Object.freeze({NONE:0,BACKGROUND:1,PREVIOUS:2,0:"NONE",1:"BACKGROUND",2:"PREVIOUS"}),h.PhysUnit=Object.freeze({UNKNOWN:0,METER:1,0:"UNKNOWN",1:"METER"});function h(e,t,i){this._io=e,this._parent=t,this._root=i||this,this._debug={},this._read()}h.prototype._read=function(){if(this._debug.magic={start:this._io.pos,ioOffset:this._io.byteOffset},this.magic=this._io.readBytes(8),this._debug.magic.end=this._io.pos,o.byteArrayCompare(this.magic,new Uint8Array([137,80,78,71,13,10,26,10]))!=0){var e=new o.ValidationNotEqualError(new Uint8Array([137,80,78,71,13,10,26,10]),this.magic,this._io,"/seq/0");throw this._debug.magic.validationError=e,e}if(this._debug.ihdrLen={start:this._io.pos,ioOffset:this._io.byteOffset},this.ihdrLen=this._io.readU4be(),this._debug.ihdrLen.end=this._io.pos,this.ihdrLen!=13){var e=new o.ValidationNotEqualError(13,this.ihdrLen,this._io,"/seq/1");throw this._debug.ihdrLen.validationError=e,e}if(this._debug.ihdrType={start:this._io.pos,ioOffset:this._io.byteOffset},this.ihdrType=this._io.readBytes(4),this._debug.ihdrType.end=this._io.pos,o.byteArrayCompare(this.ihdrType,new Uint8Array([73,72,68,82]))!=0){var e=new o.ValidationNotEqualError(new Uint8Array([73,72,68,82]),this.ihdrType,this._io,"/seq/2");throw this._debug.ihdrType.validationError=e,e}this._debug.ihdr={start:this._io.pos,ioOffset:this._io.byteOffset},this.ihdr=new O(this._io,this,this._root),this._debug.ihdr.end=this._io.pos,this._debug.ihdrCrc={start:this._io.pos,ioOffset:this._io.byteOffset},this.ihdrCrc=this._io.readBytes(4),this._debug.ihdrCrc.end=this._io.pos,this._debug.chunks={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.chunks.arr=[],this.chunks=[];do{this._debug.chunks.arr[this.chunks.length]={start:this._io.pos,ioOffset:this._io.byteOffset};var t=new g(this._io,this,this._root);this.chunks.push(t),this._debug.chunks.arr[this.chunks.length-1].end=this._io.pos}while(!(t.type=="IEND"||this._io.isEof()));this._debug.chunks.end=this._io.pos};var f=h.AnimationControlChunk=(function(){function e(t,i,s){this._io=t,this._parent=i,this._root=s,this._debug={},this._read()}return e.prototype._read=function(){this._debug.numFrames={start:this._io.pos,ioOffset:this._io.byteOffset},this.numFrames=this._io.readU4be(),this._debug.numFrames.end=this._io.pos,this._debug.numPlays={start:this._io.pos,ioOffset:this._io.byteOffset},this.numPlays=this._io.readU4be(),this._debug.numPlays.end=this._io.pos},e})(),p=h.BkgdChunk=(function(){function e(t,i,s){this._io=t,this._parent=i,this._root=s,this._debug={},this._read()}return e.prototype._read=function(){switch(this._debug.bkgd={start:this._io.pos,ioOffset:this._io.byteOffset},this._root.ihdr.colorType){case h.ColorType.GREYSCALE:this.bkgd=new d(this._io,this,this._root);break;case h.ColorType.GREYSCALE_ALPHA:this.bkgd=new d(this._io,this,this._root);break;case h.ColorType.INDEXED:this.bkgd=new c(this._io,this,this._root);break;case h.ColorType.TRUECOLOR:this.bkgd=new a(this._io,this,this._root);break;case h.ColorType.TRUECOLOR_ALPHA:this.bkgd=new a(this._io,this,this._root);break}this._debug.bkgd.end=this._io.pos},e})(),d=h.BkgdGreyscale=(function(){function e(t,i,s){this._io=t,this._parent=i,this._root=s,this._debug={},this._read()}return e.prototype._read=function(){this._debug.value={start:this._io.pos,ioOffset:this._io.byteOffset},this.value=this._io.readU2be(),this._debug.value.end=this._io.pos},e})(),c=h.BkgdIndexed=(function(){function e(t,i,s){this._io=t,this._parent=i,this._root=s,this._debug={},this._read()}return e.prototype._read=function(){this._debug.paletteIndex={start:this._io.pos,ioOffset:this._io.byteOffset},this.paletteIndex=this._io.readU1(),this._debug.paletteIndex.end=this._io.pos},e})(),a=h.BkgdTruecolor=(function(){function e(t,i,s){this._io=t,this._parent=i,this._root=s,this._debug={},this._read()}return e.prototype._read=function(){this._debug.red={start:this._io.pos,ioOffset:this._io.byteOffset},this.red=this._io.readU2be(),this._debug.red.end=this._io.pos,this._debug.green={start:this._io.pos,ioOffset:this._io.byteOffset},this.green=this._io.readU2be(),this._debug.green.end=this._io.pos,this._debug.blue={start:this._io.pos,ioOffset:this._io.byteOffset},this.blue=this._io.readU2be(),this._debug.blue.end=this._io.pos},e})(),b=h.ChrmChunk=(function(){function e(t,i,s){this._io=t,this._parent=i,this._root=s,this._debug={},this._read()}return e.prototype._read=function(){this._debug.whitePoint={start:this._io.pos,ioOffset:this._io.byteOffset},this.whitePoint=new _(this._io,this,this._root),this._debug.whitePoint.end=this._io.pos,this._debug.red={start:this._io.pos,ioOffset:this._io.byteOffset},this.red=new _(this._io,this,this._root),this._debug.red.end=this._io.pos,this._debug.green={start:this._io.pos,ioOffset:this._io.byteOffset},this.green=new _(this._io,this,this._root),this._debug.green.end=this._io.pos,this._debug.blue={start:this._io.pos,ioOffset:this._io.byteOffset},this.blue=new _(this._io,this,this._root),this._debug.blue.end=this._io.pos},e})(),g=h.Chunk=(function(){function e(t,i,s){this._io=t,this._parent=i,this._root=s,this._debug={},this._read()}return e.prototype._read=function(){switch(this._debug.len={start:this._io.pos,ioOffset:this._io.byteOffset},this.len=this._io.readU4be(),this._debug.len.end=this._io.pos,this._debug.type={start:this._io.pos,ioOffset:this._io.byteOffset},this.type=o.bytesToStr(this._io.readBytes(4),"UTF-8"),this._debug.type.end=this._io.pos,this._debug.body={start:this._io.pos,ioOffset:this._io.byteOffset},this.type){case"PLTE":this._raw_body=this._io.readBytes(this.len);var t=new o(this._raw_body);this.body=new C(t,this,this._root);break;case"acTL":this._raw_body=this._io.readBytes(this.len);var t=new o(this._raw_body);this.body=new f(t,this,this._root);break;case"bKGD":this._raw_body=this._io.readBytes(this.len);var t=new o(this._raw_body);this.body=new p(t,this,this._root);break;case"cHRM":this._raw_body=this._io.readBytes(this.len);var t=new o(this._raw_body);this.body=new b(t,this,this._root);break;case"fcTL":this._raw_body=this._io.readBytes(this.len);var t=new o(this._raw_body);this.body=new l(t,this,this._root);break;case"fdAT":this._raw_body=this._io.readBytes(this.len);var t=new o(this._raw_body);this.body=new m(t,this,this._root);break;case"gAMA":this._raw_body=this._io.readBytes(this.len);var t=new o(this._raw_body);this.body=new w(t,this,this._root);break;case"iTXt":this._raw_body=this._io.readBytes(this.len);var t=new o(this._raw_body);this.body=new k(t,this,this._root);break;case"pHYs":this._raw_body=this._io.readBytes(this.len);var t=new o(this._raw_body);this.body=new T(t,this,this._root);break;case"sRGB":this._raw_body=this._io.readBytes(this.len);var t=new o(this._raw_body);this.body=new x(t,this,this._root);break;case"tEXt":this._raw_body=this._io.readBytes(this.len);var t=new o(this._raw_body);this.body=new U(t,this,this._root);break;case"tIME":this._raw_body=this._io.readBytes(this.len);var t=new o(this._raw_body);this.body=new E(t,this,this._root);break;case"zTXt":this._raw_body=this._io.readBytes(this.len);var t=new o(this._raw_body);this.body=new y(t,this,this._root);break;default:this.body=this._io.readBytes(this.len);break}this._debug.body.end=this._io.pos,this._debug.crc={start:this._io.pos,ioOffset:this._io.byteOffset},this.crc=this._io.readBytes(4),this._debug.crc.end=this._io.pos},e})(),y=h.CompressedTextChunk=(function(){function e(t,i,s){this._io=t,this._parent=i,this._root=s,this._debug={},this._read()}return e.prototype._read=function(){this._debug.keyword={start:this._io.pos,ioOffset:this._io.byteOffset},this.keyword=o.bytesToStr(this._io.readBytesTerm(0,!1,!0,!0),"UTF-8"),this._debug.keyword.end=this._io.pos,this._debug.compressionMethod={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"Png.CompressionMethods"},this.compressionMethod=this._io.readU1(),this._debug.compressionMethod.end=this._io.pos,this._debug.textDatastream={start:this._io.pos,ioOffset:this._io.byteOffset},this._raw_textDatastream=this._io.readBytesFull(),this.textDatastream=o.processZlib(this._raw_textDatastream),this._debug.textDatastream.end=this._io.pos},e})(),l=h.FrameControlChunk=(function(){function e(t,i,s){this._io=t,this._parent=i,this._root=s,this._debug={},this._read()}return e.prototype._read=function(){if(this._debug.sequenceNumber={start:this._io.pos,ioOffset:this._io.byteOffset},this.sequenceNumber=this._io.readU4be(),this._debug.sequenceNumber.end=this._io.pos,this._debug.width={start:this._io.pos,ioOffset:this._io.byteOffset},this.width=this._io.readU4be(),this._debug.width.end=this._io.pos,!(this.width>=1)){var t=new o.ValidationLessThanError(1,this.width,this._io,"/types/frame_control_chunk/seq/1");throw this._debug.width.validationError=t,t}if(!(this.width<=this._root.ihdr.width)){var t=new o.ValidationGreaterThanError(this._root.ihdr.width,this.width,this._io,"/types/frame_control_chunk/seq/1");throw this._debug.width.validationError=t,t}if(this._debug.height={start:this._io.pos,ioOffset:this._io.byteOffset},this.height=this._io.readU4be(),this._debug.height.end=this._io.pos,!(this.height>=1)){var t=new o.ValidationLessThanError(1,this.height,this._io,"/types/frame_control_chunk/seq/2");throw this._debug.height.validationError=t,t}if(!(this.height<=this._root.ihdr.height)){var t=new o.ValidationGreaterThanError(this._root.ihdr.height,this.height,this._io,"/types/frame_control_chunk/seq/2");throw this._debug.height.validationError=t,t}if(this._debug.xOffset={start:this._io.pos,ioOffset:this._io.byteOffset},this.xOffset=this._io.readU4be(),this._debug.xOffset.end=this._io.pos,!(this.xOffset<=this._root.ihdr.width-this.width)){var t=new o.ValidationGreaterThanError(this._root.ihdr.width-this.width,this.xOffset,this._io,"/types/frame_control_chunk/seq/3");throw this._debug.xOffset.validationError=t,t}if(this._debug.yOffset={start:this._io.pos,ioOffset:this._io.byteOffset},this.yOffset=this._io.readU4be(),this._debug.yOffset.end=this._io.pos,!(this.yOffset<=this._root.ihdr.height-this.height)){var t=new o.ValidationGreaterThanError(this._root.ihdr.height-this.height,this.yOffset,this._io,"/types/frame_control_chunk/seq/4");throw this._debug.yOffset.validationError=t,t}this._debug.delayNum={start:this._io.pos,ioOffset:this._io.byteOffset},this.delayNum=this._io.readU2be(),this._debug.delayNum.end=this._io.pos,this._debug.delayDen={start:this._io.pos,ioOffset:this._io.byteOffset},this.delayDen=this._io.readU2be(),this._debug.delayDen.end=this._io.pos,this._debug.disposeOp={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"Png.DisposeOpValues"},this.disposeOp=this._io.readU1(),this._debug.disposeOp.end=this._io.pos,this._debug.blendOp={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"Png.BlendOpValues"},this.blendOp=this._io.readU1(),this._debug.blendOp.end=this._io.pos},Object.defineProperty(e.prototype,"delay",{get:function(){return this._m_delay!==void 0?this._m_delay:(this._debug._m_delay={},this._m_delay=this.delayNum/(this.delayDen==0?100:this.delayDen),this._m_delay)}}),e})(),m=h.FrameDataChunk=(function(){function e(t,i,s){this._io=t,this._parent=i,this._root=s,this._debug={},this._read()}return e.prototype._read=function(){this._debug.sequenceNumber={start:this._io.pos,ioOffset:this._io.byteOffset},this.sequenceNumber=this._io.readU4be(),this._debug.sequenceNumber.end=this._io.pos,this._debug.frameData={start:this._io.pos,ioOffset:this._io.byteOffset},this.frameData=this._io.readBytesFull(),this._debug.frameData.end=this._io.pos},e})(),w=h.GamaChunk=(function(){function e(t,i,s){this._io=t,this._parent=i,this._root=s,this._debug={},this._read()}return e.prototype._read=function(){this._debug.gammaInt={start:this._io.pos,ioOffset:this._io.byteOffset},this.gammaInt=this._io.readU4be(),this._debug.gammaInt.end=this._io.pos},Object.defineProperty(e.prototype,"gammaRatio",{get:function(){return this._m_gammaRatio!==void 0?this._m_gammaRatio:(this._debug._m_gammaRatio={},this._m_gammaRatio=1e5/this.gammaInt,this._m_gammaRatio)}}),e})(),O=h.IhdrChunk=(function(){function e(t,i,s){this._io=t,this._parent=i,this._root=s,this._debug={},this._read()}return e.prototype._read=function(){this._debug.width={start:this._io.pos,ioOffset:this._io.byteOffset},this.width=this._io.readU4be(),this._debug.width.end=this._io.pos,this._debug.height={start:this._io.pos,ioOffset:this._io.byteOffset},this.height=this._io.readU4be(),this._debug.height.end=this._io.pos,this._debug.bitDepth={start:this._io.pos,ioOffset:this._io.byteOffset},this.bitDepth=this._io.readU1(),this._debug.bitDepth.end=this._io.pos,this._debug.colorType={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"Png.ColorType"},this.colorType=this._io.readU1(),this._debug.colorType.end=this._io.pos,this._debug.compressionMethod={start:this._io.pos,ioOffset:this._io.byteOffset},this.compressionMethod=this._io.readU1(),this._debug.compressionMethod.end=this._io.pos,this._debug.filterMethod={start:this._io.pos,ioOffset:this._io.byteOffset},this.filterMethod=this._io.readU1(),this._debug.filterMethod.end=this._io.pos,this._debug.interlaceMethod={start:this._io.pos,ioOffset:this._io.byteOffset},this.interlaceMethod=this._io.readU1(),this._debug.interlaceMethod.end=this._io.pos},e})(),k=h.InternationalTextChunk=(function(){function e(t,i,s){this._io=t,this._parent=i,this._root=s,this._debug={},this._read()}return e.prototype._read=function(){this._debug.keyword={start:this._io.pos,ioOffset:this._io.byteOffset},this.keyword=o.bytesToStr(this._io.readBytesTerm(0,!1,!0,!0),"UTF-8"),this._debug.keyword.end=this._io.pos,this._debug.compressionFlag={start:this._io.pos,ioOffset:this._io.byteOffset},this.compressionFlag=this._io.readU1(),this._debug.compressionFlag.end=this._io.pos,this._debug.compressionMethod={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"Png.CompressionMethods"},this.compressionMethod=this._io.readU1(),this._debug.compressionMethod.end=this._io.pos,this._debug.languageTag={start:this._io.pos,ioOffset:this._io.byteOffset},this.languageTag=o.bytesToStr(this._io.readBytesTerm(0,!1,!0,!0),"ASCII"),this._debug.languageTag.end=this._io.pos,this._debug.translatedKeyword={start:this._io.pos,ioOffset:this._io.byteOffset},this.translatedKeyword=o.bytesToStr(this._io.readBytesTerm(0,!1,!0,!0),"UTF-8"),this._debug.translatedKeyword.end=this._io.pos,this._debug.text={start:this._io.pos,ioOffset:this._io.byteOffset},this.text=o.bytesToStr(this._io.readBytesFull(),"UTF-8"),this._debug.text.end=this._io.pos},e})(),T=h.PhysChunk=(function(){function e(t,i,s){this._io=t,this._parent=i,this._root=s,this._debug={},this._read()}return e.prototype._read=function(){this._debug.pixelsPerUnitX={start:this._io.pos,ioOffset:this._io.byteOffset},this.pixelsPerUnitX=this._io.readU4be(),this._debug.pixelsPerUnitX.end=this._io.pos,this._debug.pixelsPerUnitY={start:this._io.pos,ioOffset:this._io.byteOffset},this.pixelsPerUnitY=this._io.readU4be(),this._debug.pixelsPerUnitY.end=this._io.pos,this._debug.unit={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"Png.PhysUnit"},this.unit=this._io.readU1(),this._debug.unit.end=this._io.pos},e})(),C=h.PlteChunk=(function(){function e(t,i,s){this._io=t,this._parent=i,this._root=s,this._debug={},this._read()}return e.prototype._read=function(){for(this._debug.entries={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.entries.arr=[],this.entries=[];!this._io.isEof();)this._debug.entries.arr[this.entries.length]={start:this._io.pos,ioOffset:this._io.byteOffset},this.entries.push(new v(this._io,this,this._root)),this._debug.entries.arr[this.entries.length-1].end=this._io.pos;this._debug.entries.end=this._io.pos},e})(),_=h.Point=(function(){function e(t,i,s){this._io=t,this._parent=i,this._root=s,this._debug={},this._read()}return e.prototype._read=function(){this._debug.xInt={start:this._io.pos,ioOffset:this._io.byteOffset},this.xInt=this._io.readU4be(),this._debug.xInt.end=this._io.pos,this._debug.yInt={start:this._io.pos,ioOffset:this._io.byteOffset},this.yInt=this._io.readU4be(),this._debug.yInt.end=this._io.pos},Object.defineProperty(e.prototype,"x",{get:function(){return this._m_x!==void 0?this._m_x:(this._debug._m_x={},this._m_x=this.xInt/1e5,this._m_x)}}),Object.defineProperty(e.prototype,"y",{get:function(){return this._m_y!==void 0?this._m_y:(this._debug._m_y={},this._m_y=this.yInt/1e5,this._m_y)}}),e})(),v=h.Rgb=(function(){function e(t,i,s){this._io=t,this._parent=i,this._root=s,this._debug={},this._read()}return e.prototype._read=function(){this._debug.r={start:this._io.pos,ioOffset:this._io.byteOffset},this.r=this._io.readU1(),this._debug.r.end=this._io.pos,this._debug.g={start:this._io.pos,ioOffset:this._io.byteOffset},this.g=this._io.readU1(),this._debug.g.end=this._io.pos,this._debug.b={start:this._io.pos,ioOffset:this._io.byteOffset},this.b=this._io.readU1(),this._debug.b.end=this._io.pos},e})(),x=h.SrgbChunk=(function(){e.Intent=Object.freeze({PERCEPTUAL:0,RELATIVE_COLORIMETRIC:1,SATURATION:2,ABSOLUTE_COLORIMETRIC:3,0:"PERCEPTUAL",1:"RELATIVE_COLORIMETRIC",2:"SATURATION",3:"ABSOLUTE_COLORIMETRIC"});function e(t,i,s){this._io=t,this._parent=i,this._root=s,this._debug={},this._read()}return e.prototype._read=function(){this._debug.renderIntent={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"Png.SrgbChunk.Intent"},this.renderIntent=this._io.readU1(),this._debug.renderIntent.end=this._io.pos},e})(),U=h.TextChunk=(function(){function e(t,i,s){this._io=t,this._parent=i,this._root=s,this._debug={},this._read()}return e.prototype._read=function(){this._debug.keyword={start:this._io.pos,ioOffset:this._io.byteOffset},this.keyword=o.bytesToStr(this._io.readBytesTerm(0,!1,!0,!0),"ISO-8859-1"),this._debug.keyword.end=this._io.pos,this._debug.text={start:this._io.pos,ioOffset:this._io.byteOffset},this.text=o.bytesToStr(this._io.readBytesFull(),"ISO-8859-1"),this._debug.text.end=this._io.pos},e})(),E=h.TimeChunk=(function(){function e(t,i,s){this._io=t,this._parent=i,this._root=s,this._debug={},this._read()}return e.prototype._read=function(){this._debug.year={start:this._io.pos,ioOffset:this._io.byteOffset},this.year=this._io.readU2be(),this._debug.year.end=this._io.pos,this._debug.month={start:this._io.pos,ioOffset:this._io.byteOffset},this.month=this._io.readU1(),this._debug.month.end=this._io.pos,this._debug.day={start:this._io.pos,ioOffset:this._io.byteOffset},this.day=this._io.readU1(),this._debug.day.end=this._io.pos,this._debug.hour={start:this._io.pos,ioOffset:this._io.byteOffset},this.hour=this._io.readU1(),this._debug.hour.end=this._io.pos,this._debug.minute={start:this._io.pos,ioOffset:this._io.byteOffset},this.minute=this._io.readU1(),this._debug.minute.end=this._io.pos,this._debug.second={start:this._io.pos,ioOffset:this._io.byteOffset},this.second=this._io.readU1(),this._debug.second.end=this._io.pos},e})();return h})();r.Png=u})}});const B=A(),L={id:"png",title:"PNG (Portable Network Graphics) file",ksy:{meta:{id:"png",title:"PNG (Portable Network Graphics) file","file-extension":["png","apng"],xref:{forensicswiki:"portable_network_graphics_(png)",iso:"15948:2004",justsolve:["PNG","APNG"],loc:"fdd000153",mime:["image/png","image/apng","image/vnd.mozilla.apng"],pronom:["fmt/11","fmt/12","fmt/13","fmt/935"],rfc:2083,wikidata:["Q178051","Q433224"]},license:"CC0-1.0","ks-version":.9,endian:"be"},doc:`Test files for APNG can be found at the following locations:

  * <https://philip.html5.org/tests/apng/tests.html>
  * <http://littlesvr.ca/apng/>
`,seq:[{id:"magic",contents:[137,80,78,71,13,10,26,10]},{id:"ihdr_len",type:"u4",valid:13},{id:"ihdr_type",contents:"IHDR"},{id:"ihdr",type:"ihdr_chunk"},{id:"ihdr_crc",size:4},{id:"chunks",type:"chunk",repeat:"until","repeat-until":'_.type == "IEND" or _io.eof'}],types:{chunk:{seq:[{id:"len",type:"u4"},{id:"type",type:"str",size:4,encoding:"UTF-8"},{id:"body",size:"len",type:{"switch-on":"type",cases:{'"PLTE"':"plte_chunk",'"cHRM"':"chrm_chunk",'"gAMA"':"gama_chunk",'"sRGB"':"srgb_chunk",'"bKGD"':"bkgd_chunk",'"pHYs"':"phys_chunk",'"tIME"':"time_chunk",'"iTXt"':"international_text_chunk",'"tEXt"':"text_chunk",'"zTXt"':"compressed_text_chunk",'"acTL"':"animation_control_chunk",'"fcTL"':"frame_control_chunk",'"fdAT"':"frame_data_chunk"}}},{id:"crc",size:4}]},ihdr_chunk:{"doc-ref":"https://www.w3.org/TR/png/#11IHDR",seq:[{id:"width",type:"u4"},{id:"height",type:"u4"},{id:"bit_depth",type:"u1"},{id:"color_type",type:"u1",enum:"color_type"},{id:"compression_method",type:"u1"},{id:"filter_method",type:"u1"},{id:"interlace_method",type:"u1"}]},plte_chunk:{"doc-ref":"https://www.w3.org/TR/png/#11PLTE",seq:[{id:"entries",type:"rgb",repeat:"eos"}]},rgb:{seq:[{id:"r",type:"u1"},{id:"g",type:"u1"},{id:"b",type:"u1"}]},chrm_chunk:{"doc-ref":"https://www.w3.org/TR/png/#11cHRM",seq:[{id:"white_point",type:"point"},{id:"red",type:"point"},{id:"green",type:"point"},{id:"blue",type:"point"}]},point:{seq:[{id:"x_int",type:"u4"},{id:"y_int",type:"u4"}],instances:{x:{value:"x_int / 100000.0"},y:{value:"y_int / 100000.0"}}},gama_chunk:{"doc-ref":"https://www.w3.org/TR/png/#11gAMA",seq:[{id:"gamma_int",type:"u4"}],instances:{gamma_ratio:{value:"100000.0 / gamma_int"}}},srgb_chunk:{"doc-ref":"https://www.w3.org/TR/png/#11sRGB",seq:[{id:"render_intent",type:"u1",enum:"intent"}],enums:{intent:{0:"perceptual",1:"relative_colorimetric",2:"saturation",3:"absolute_colorimetric"}}},bkgd_chunk:{doc:"Background chunk stores default background color to display this\nimage against. Contents depend on `color_type` of the image.\n","doc-ref":"https://www.w3.org/TR/png/#11bKGD",seq:[{id:"bkgd",type:{"switch-on":"_root.ihdr.color_type",cases:{"color_type::greyscale":"bkgd_greyscale","color_type::greyscale_alpha":"bkgd_greyscale","color_type::truecolor":"bkgd_truecolor","color_type::truecolor_alpha":"bkgd_truecolor","color_type::indexed":"bkgd_indexed"}}}]},bkgd_greyscale:{doc:"Background chunk for greyscale images.",seq:[{id:"value",type:"u2"}]},bkgd_truecolor:{doc:"Background chunk for truecolor images.",seq:[{id:"red",type:"u2"},{id:"green",type:"u2"},{id:"blue",type:"u2"}]},bkgd_indexed:{doc:"Background chunk for images with indexed palette.",seq:[{id:"palette_index",type:"u1"}]},phys_chunk:{doc:`"Physical size" chunk stores data that allows to translate
logical pixels into physical units (meters, etc) and vice-versa.
`,"doc-ref":"https://www.w3.org/TR/png/#11pHYs",seq:[{id:"pixels_per_unit_x",type:"u4",doc:`Number of pixels per physical unit (typically, 1 meter) by X
axis.
`},{id:"pixels_per_unit_y",type:"u4",doc:`Number of pixels per physical unit (typically, 1 meter) by Y
axis.
`},{id:"unit",type:"u1",enum:"phys_unit"}]},time_chunk:{doc:`Time chunk stores time stamp of last modification of this image,
up to 1 second precision in UTC timezone.
`,"doc-ref":"https://www.w3.org/TR/png/#11tIME",seq:[{id:"year",type:"u2"},{id:"month",type:"u1"},{id:"day",type:"u1"},{id:"hour",type:"u1"},{id:"minute",type:"u1"},{id:"second",type:"u1"}]},international_text_chunk:{doc:`International text chunk effectively allows to store key-value string pairs in
PNG container. Both "key" (keyword) and "value" (text) parts are
given in pre-defined subset of iso8859-1 without control
characters.
`,"doc-ref":"https://www.w3.org/TR/png/#11iTXt",seq:[{id:"keyword",type:"strz",encoding:"UTF-8",doc:"Indicates purpose of the following text data."},{id:"compression_flag",type:"u1",doc:"0 = text is uncompressed, 1 = text is compressed with a\nmethod specified in `compression_method`.\n"},{id:"compression_method",type:"u1",enum:"compression_methods"},{id:"language_tag",type:"strz",encoding:"ASCII",doc:"Human language used in `translated_keyword` and `text`\nattributes - should be a language code conforming to ISO\n646.IRV:1991.\n"},{id:"translated_keyword",type:"strz",encoding:"UTF-8",doc:"Keyword translated into language specified in\n`language_tag`. Line breaks are not allowed.\n"},{id:"text",type:"str",encoding:"UTF-8","size-eos":!0,doc:`Text contents ("value" of this key-value pair), written in
language specified in \`language_tag\`. Line breaks are
allowed.
`}]},text_chunk:{doc:`Text chunk effectively allows to store key-value string pairs in
PNG container. Both "key" (keyword) and "value" (text) parts are
given in pre-defined subset of iso8859-1 without control
characters.
`,"doc-ref":"https://www.w3.org/TR/png/#11tEXt",seq:[{id:"keyword",type:"strz",encoding:"iso8859-1",doc:"Indicates purpose of the following text data."},{id:"text",type:"str","size-eos":!0,encoding:"iso8859-1"}]},compressed_text_chunk:{doc:`Compressed text chunk effectively allows to store key-value
string pairs in PNG container, compressing "value" part (which
can be quite lengthy) with zlib compression.
`,"doc-ref":"https://www.w3.org/TR/png/#11zTXt",seq:[{id:"keyword",type:"strz",encoding:"UTF-8",doc:"Indicates purpose of the following text data."},{id:"compression_method",type:"u1",enum:"compression_methods"},{id:"text_datastream",process:"zlib","size-eos":!0}]},animation_control_chunk:{"doc-ref":"https://wiki.mozilla.org/APNG_Specification#.60acTL.60:_The_Animation_Control_Chunk",seq:[{id:"num_frames",type:"u4",doc:"Number of frames, must be equal to the number of `frame_control_chunk`s"},{id:"num_plays",type:"u4",doc:"Number of times to loop, 0 indicates infinite looping."}]},frame_control_chunk:{"doc-ref":"https://wiki.mozilla.org/APNG_Specification#.60fcTL.60:_The_Frame_Control_Chunk",seq:[{id:"sequence_number",type:"u4",doc:"Sequence number of the animation chunk"},{id:"width",type:"u4",valid:{min:1,max:"_root.ihdr.width"},doc:"Width of the following frame"},{id:"height",type:"u4",valid:{min:1,max:"_root.ihdr.height"},doc:"Height of the following frame"},{id:"x_offset",type:"u4",valid:{max:"_root.ihdr.width - width"},doc:"X position at which to render the following frame"},{id:"y_offset",type:"u4",valid:{max:"_root.ihdr.height - height"},doc:"Y position at which to render the following frame"},{id:"delay_num",type:"u2",doc:"Frame delay fraction numerator"},{id:"delay_den",type:"u2",doc:"Frame delay fraction denominator"},{id:"dispose_op",type:"u1",enum:"dispose_op_values",doc:"Type of frame area disposal to be done after rendering this frame"},{id:"blend_op",type:"u1",enum:"blend_op_values",doc:"Type of frame area rendering for this frame"}],instances:{delay:{value:"delay_num / (delay_den == 0 ? 100.0 : delay_den)",doc:"Time to display this frame, in seconds"}}},frame_data_chunk:{"doc-ref":"https://wiki.mozilla.org/APNG_Specification#.60fdAT.60:_The_Frame_Data_Chunk",seq:[{id:"sequence_number",type:"u4",doc:`Sequence number of the animation chunk. The fcTL and fdAT chunks
have a 4 byte sequence number. Both chunk types share the sequence.
The first fcTL chunk must contain sequence number 0, and the sequence
numbers in the remaining fcTL and fdAT chunks must be in order, with
no gaps or duplicates.
`},{id:"frame_data","size-eos":!0,doc:`Frame data for the frame. At least one fdAT chunk is required for
each frame. The compressed datastream is the concatenation of the
contents of the data fields of all the fdAT chunks within a frame.
`}]}},enums:{color_type:{0:"greyscale",2:"truecolor",3:"indexed",4:"greyscale_alpha",6:"truecolor_alpha"},phys_unit:{0:"unknown",1:"meter"},compression_methods:{0:"zlib"},dispose_op_values:{0:{id:"none",doc:`No disposal is done on this frame before rendering the next;
the contents of the output buffer are left as is.
`,"doc-ref":"https://wiki.mozilla.org/APNG_Specification#.60fcTL.60:_The_Frame_Control_Chunk"},1:{id:"background",doc:`The frame's region of the output buffer is to be cleared to
fully transparent black before rendering the next frame.
`,"doc-ref":"https://wiki.mozilla.org/APNG_Specification#.60fcTL.60:_The_Frame_Control_Chunk"},2:{id:"previous",doc:`The frame's region of the output buffer is to be reverted
to the previous contents before rendering the next frame.
`,"doc-ref":"https://wiki.mozilla.org/APNG_Specification#.60fcTL.60:_The_Frame_Control_Chunk"}},blend_op_values:{0:{id:"source",doc:`All color components of the frame, including alpha,
overwrite the current contents of the frame's output buffer region.
`},1:{id:"over",doc:`The frame is composited onto the output buffer based on its alpha
`}}}}};export{B as default,L as spec};
