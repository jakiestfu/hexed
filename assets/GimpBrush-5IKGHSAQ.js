import{k as f}from"./index-DQZRlv-R.js";var g=Object.getOwnPropertyNames,l=(h,r)=>function(){return r||(0,h[g(h)[0]])((r={exports:{}}).exports,r),r.exports},y=l({"<stdin>"(h){(function(r,s){typeof define=="function"&&define.amd?define(["exports","kaitai-struct/KaitaiStream"],s):typeof h=="object"&&h!==null&&typeof h.nodeType!="number"?s(h,f.KaitaiStream):s(r.GimpBrush||(r.GimpBrush={}),r.KaitaiStream)})(typeof self<"u"?self:h,function(r,s){var p=(function(){o.ColorDepth=Object.freeze({GRAYSCALE:1,RGBA:4,1:"GRAYSCALE",4:"RGBA"});function o(i,e,a){this._io=i,this._parent=e,this._root=a||this,this._debug={},this._read()}o.prototype._read=function(){this._debug.lenHeader={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenHeader=this._io.readU4be(),this._debug.lenHeader.end=this._io.pos,this._debug.header={start:this._io.pos,ioOffset:this._io.byteOffset},this._raw_header=this._io.readBytes(this.lenHeader-4);var i=new s(this._raw_header);this.header=new u(i,this,this._root),this._debug.header.end=this._io.pos},o.Bitmap=(function(){function i(e,a,t){this._io=e,this._parent=a,this._root=t,this._debug={},this._read()}return i.prototype._read=function(){this._debug.rows={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.rows.arr=[],this.rows=[];for(var e=0;e<this._root.header.height;e++)this._debug.rows.arr[e]={start:this._io.pos,ioOffset:this._io.byteOffset},this.rows.push(new b(this._io,this,this._root)),this._debug.rows.arr[e].end=this._io.pos;this._debug.rows.end=this._io.pos},i})();var u=o.Header=(function(){function i(e,a,t){this._io=e,this._parent=a,this._root=t,this._debug={},this._read()}return i.prototype._read=function(){if(this._debug.version={start:this._io.pos,ioOffset:this._io.byteOffset},this.version=this._io.readU4be(),this._debug.version.end=this._io.pos,this.version!=2){var e=new s.ValidationNotEqualError(2,this.version,this._io,"/types/header/seq/0");throw this._debug.version.validationError=e,e}if(this._debug.width={start:this._io.pos,ioOffset:this._io.byteOffset},this.width=this._io.readU4be(),this._debug.width.end=this._io.pos,!(this.width>=1)){var e=new s.ValidationLessThanError(1,this.width,this._io,"/types/header/seq/1");throw this._debug.width.validationError=e,e}if(!(this.width<=1e4)){var e=new s.ValidationGreaterThanError(1e4,this.width,this._io,"/types/header/seq/1");throw this._debug.width.validationError=e,e}if(this._debug.height={start:this._io.pos,ioOffset:this._io.byteOffset},this.height=this._io.readU4be(),this._debug.height.end=this._io.pos,!(this.height>=1)){var e=new s.ValidationLessThanError(1,this.height,this._io,"/types/header/seq/2");throw this._debug.height.validationError=e,e}if(!(this.height<=1e4)){var e=new s.ValidationGreaterThanError(1e4,this.height,this._io,"/types/header/seq/2");throw this._debug.height.validationError=e,e}if(this._debug.bytesPerPixel={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"GimpBrush.ColorDepth"},this.bytesPerPixel=this._io.readU4be(),this._debug.bytesPerPixel.end=this._io.pos,this._debug.magic={start:this._io.pos,ioOffset:this._io.byteOffset},this.magic=this._io.readBytes(4),this._debug.magic.end=this._io.pos,s.byteArrayCompare(this.magic,new Uint8Array([71,73,77,80]))!=0){var e=new s.ValidationNotEqualError(new Uint8Array([71,73,77,80]),this.magic,this._io,"/types/header/seq/4");throw this._debug.magic.validationError=e,e}this._debug.spacing={start:this._io.pos,ioOffset:this._io.byteOffset},this.spacing=this._io.readU4be(),this._debug.spacing.end=this._io.pos,this._debug.brushName={start:this._io.pos,ioOffset:this._io.byteOffset},this.brushName=s.bytesToStr(s.bytesTerminate(this._io.readBytesFull(),0,!1),"UTF-8"),this._debug.brushName.end=this._io.pos},i})(),b=o.Row=(function(){function i(t,d,_){this._io=t,this._parent=d,this._root=_,this._debug={},this._read()}i.prototype._read=function(){this._debug.pixels={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.pixels.arr=[],this.pixels=[];for(var t=0;t<this._root.header.width;t++){switch(this._debug.pixels.arr[t]={start:this._io.pos,ioOffset:this._io.byteOffset},this._root.header.bytesPerPixel){case o.ColorDepth.GRAYSCALE:this.pixels.push(new e(this._io,this,this._root));break;case o.ColorDepth.RGBA:this.pixels.push(new a(this._io,this,this._root));break}this._debug.pixels.arr[t].end=this._io.pos}this._debug.pixels.end=this._io.pos};var e=i.PixelGray=(function(){function t(d,_,n){this._io=d,this._parent=_,this._root=n,this._debug={},this._read()}return t.prototype._read=function(){this._debug.gray={start:this._io.pos,ioOffset:this._io.byteOffset},this.gray=this._io.readU1(),this._debug.gray.end=this._io.pos},Object.defineProperty(t.prototype,"alpha",{get:function(){return this._m_alpha!==void 0?this._m_alpha:(this._debug._m_alpha={},this._m_alpha=this.gray,this._m_alpha)}}),Object.defineProperty(t.prototype,"blue",{get:function(){return this._m_blue!==void 0?this._m_blue:(this._debug._m_blue={},this._m_blue=0,this._m_blue)}}),Object.defineProperty(t.prototype,"green",{get:function(){return this._m_green!==void 0?this._m_green:(this._debug._m_green={},this._m_green=0,this._m_green)}}),Object.defineProperty(t.prototype,"red",{get:function(){return this._m_red!==void 0?this._m_red:(this._debug._m_red={},this._m_red=0,this._m_red)}}),t})(),a=i.PixelRgba=(function(){function t(d,_,n){this._io=d,this._parent=_,this._root=n,this._debug={},this._read()}return t.prototype._read=function(){this._debug.red={start:this._io.pos,ioOffset:this._io.byteOffset},this.red=this._io.readU1(),this._debug.red.end=this._io.pos,this._debug.green={start:this._io.pos,ioOffset:this._io.byteOffset},this.green=this._io.readU1(),this._debug.green.end=this._io.pos,this._debug.blue={start:this._io.pos,ioOffset:this._io.byteOffset},this.blue=this._io.readU1(),this._debug.blue.end=this._io.pos,this._debug.alpha={start:this._io.pos,ioOffset:this._io.byteOffset},this.alpha=this._io.readU1(),this._debug.alpha.end=this._io.pos},t})();return i})();return Object.defineProperty(o.prototype,"body",{get:function(){if(this._m_body!==void 0)return this._m_body;var i=this._io.pos;return this._io.seek(this.lenHeader),this._debug._m_body={start:this._io.pos,ioOffset:this._io.byteOffset},this._m_body=this._io.readBytes(this.lenBody),this._debug._m_body.end=this._io.pos,this._io.seek(i),this._m_body}}),Object.defineProperty(o.prototype,"lenBody",{get:function(){return this._m_lenBody!==void 0?this._m_lenBody:(this._debug._m_lenBody={},this._m_lenBody=this.header.width*this.header.height*this.header.bytesPerPixel,this._m_lenBody)}}),o})();r.GimpBrush=p})}});const m=y(),w={id:"gimp_brush",title:"GIMP brush file version 2",ksy:{meta:{id:"gimp_brush",title:"GIMP brush file version 2",application:"GIMP (GNU Image Manipulation Program)","file-extension":"gbr",xref:{justsolve:"GIMP_Brush",mime:"image/x-gimp-gbr",wikidata:"Q28206177"},license:"CC0-1.0","ks-version":.9,endian:"be"},doc:`GIMP brush format is native to the GIMP image editor for storing a brush or a texture.
It can be used in all [Paint Tools](https://docs.gimp.org/2.10/en/gimp-tools-paint.html),
for example Pencil and Paintbrush. It works by repeating the brush bitmap as you move
the tool. The Spacing parameter sets the distance between the brush marks as a percentage
of brush width. Its default value can be set in the brush file.

You can also use GIMP to create new brushes in this format. Custom brushes can be loaded
into GIMP for use in the paint tools by copying them into one of the Brush Folders -
select **Edit** > **Preferences** in the menu bar, expand the **Folders** section
and choose **Brushes** to see the recognized Brush Folders or to add new ones.
`,"doc-ref":"https://github.com/GNOME/gimp/blob/441631322b/devel-docs/gbr.txt",seq:[{id:"len_header",type:"u4"},{id:"header",type:"header",size:"len_header - len_header._sizeof"}],types:{header:{seq:[{id:"version",type:"u4",valid:2},{id:"width",type:"u4",valid:{min:1,max:1e4},"doc-ref":["https://github.com/GNOME/gimp/blob/441631322b/app/core/gimpbrush-load.c#L170","https://github.com/GNOME/gimp/blob/441631322b/app/core/gimpbrush-header.h#L24"]},{id:"height",type:"u4",valid:{min:1,max:1e4},"doc-ref":["https://github.com/GNOME/gimp/blob/441631322b/app/core/gimpbrush-load.c#L177","https://github.com/GNOME/gimp/blob/441631322b/app/core/gimpbrush-header.h#L24"]},{id:"bytes_per_pixel",type:"u4",enum:"color_depth"},{id:"magic",contents:"GIMP"},{id:"spacing",type:"u4",doc:"Default spacing to be used for brush. Percentage of brush width."},{id:"brush_name",type:"strz","size-eos":!0,encoding:"UTF-8"}]},bitmap:{seq:[{id:"rows",type:"row",repeat:"expr","repeat-expr":"_root.header.height"}]},row:{seq:[{id:"pixels",type:{"switch-on":"_root.header.bytes_per_pixel",cases:{"color_depth::grayscale":"pixel_gray","color_depth::rgba":"pixel_rgba"}},repeat:"expr","repeat-expr":"_root.header.width"}],types:{pixel_gray:{"-webide-representation":"R={red:dec} G={green:dec} B={blue:dec} A={alpha:dec}",seq:[{id:"gray",type:"u1"}],instances:{red:{value:0,"-webide-parse-mode":"eager"},green:{value:0,"-webide-parse-mode":"eager"},blue:{value:0,"-webide-parse-mode":"eager"},alpha:{value:"gray"}}},pixel_rgba:{"-webide-representation":"R={red:dec} G={green:dec} B={blue:dec} A={alpha:dec}",seq:[{id:"red",type:"u1"},{id:"green",type:"u1"},{id:"blue",type:"u1"},{id:"alpha",type:"u1"}]}}}},instances:{len_body:{value:"header.width * header.height * header.bytes_per_pixel.to_i"},body:{pos:"len_header",size:"len_body","-affected-by":188}},enums:{color_depth:{1:"grayscale",4:"rgba"}}}};export{m as default,w as spec};
