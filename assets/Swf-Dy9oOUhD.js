import{k as O}from"./index-COmSdSC_.js";var B=Object.getOwnPropertyNames,S=(a,r)=>function(){return r||(0,a[B(a)[0]])((r={exports:{}}).exports,r),r.exports},T=S({"<stdin>"(a){(function(r,_){typeof define=="function"&&define.amd?define(["exports","kaitai-struct/KaitaiStream"],_):typeof a=="object"&&a!==null&&typeof a.nodeType!="number"?_(a,O.KaitaiStream):_(r.Swf||(r.Swf={}),r.KaitaiStream)})(typeof self<"u"?self:a,function(r,_){var u=(function(){i.Compressions=Object.freeze({ZLIB:67,NONE:70,LZMA:90,67:"ZLIB",70:"NONE",90:"LZMA"}),i.TagType=Object.freeze({END_OF_FILE:0,PLACE_OBJECT:4,REMOVE_OBJECT:5,SET_BACKGROUND_COLOR:9,DEFINE_SOUND:14,PLACE_OBJECT2:26,REMOVE_OBJECT2:28,FRAME_LABEL:43,EXPORT_ASSETS:56,SCRIPT_LIMITS:65,FILE_ATTRIBUTES:69,PLACE_OBJECT3:70,SYMBOL_CLASS:76,METADATA:77,DEFINE_SCALING_GRID:78,DO_ABC:82,DEFINE_SCENE_AND_FRAME_LABEL_DATA:86,0:"END_OF_FILE",4:"PLACE_OBJECT",5:"REMOVE_OBJECT",9:"SET_BACKGROUND_COLOR",14:"DEFINE_SOUND",26:"PLACE_OBJECT2",28:"REMOVE_OBJECT2",43:"FRAME_LABEL",56:"EXPORT_ASSETS",65:"SCRIPT_LIMITS",69:"FILE_ATTRIBUTES",70:"PLACE_OBJECT3",76:"SYMBOL_CLASS",77:"METADATA",78:"DEFINE_SCALING_GRID",82:"DO_ABC",86:"DEFINE_SCENE_AND_FRAME_LABEL_DATA"});function i(t,e,s){this._io=t,this._parent=e,this._root=s||this,this._debug={},this._read()}i.prototype._read=function(){if(this._debug.compression={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"Swf.Compressions"},this.compression=this._io.readU1(),this._debug.compression.end=this._io.pos,this._debug.signature={start:this._io.pos,ioOffset:this._io.byteOffset},this.signature=this._io.readBytes(2),this._debug.signature.end=this._io.pos,_.byteArrayCompare(this.signature,new Uint8Array([87,83]))!=0){var t=new _.ValidationNotEqualError(new Uint8Array([87,83]),this.signature,this._io,"/seq/1");throw this._debug.signature.validationError=t,t}if(this._debug.version={start:this._io.pos,ioOffset:this._io.byteOffset},this.version=this._io.readU1(),this._debug.version.end=this._io.pos,this._debug.lenFile={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenFile=this._io.readU4le(),this._debug.lenFile.end=this._io.pos,this.compression==i.Compressions.NONE){this._debug.plainBody={start:this._io.pos,ioOffset:this._io.byteOffset},this._raw_plainBody=this._io.readBytesFull();var e=new _(this._raw_plainBody);this.plainBody=new h(e,this,this._root),this._debug.plainBody.end=this._io.pos}if(this.compression==i.Compressions.ZLIB){this._debug.zlibBody={start:this._io.pos,ioOffset:this._io.byteOffset},this._raw__raw_zlibBody=this._io.readBytesFull(),this._raw_zlibBody=_.processZlib(this._raw__raw_zlibBody);var s=new _(this._raw_zlibBody);this.zlibBody=new h(s,this,this._root),this._debug.zlibBody.end=this._io.pos}};var p=i.DefineSoundBody=(function(){t.Bps=Object.freeze({SOUND_8_BIT:0,SOUND_16_BIT:1,0:"SOUND_8_BIT",1:"SOUND_16_BIT"}),t.Channels=Object.freeze({MONO:0,STEREO:1,0:"MONO",1:"STEREO"}),t.SamplingRates=Object.freeze({RATE_5_5_KHZ:0,RATE_11_KHZ:1,RATE_22_KHZ:2,RATE_44_KHZ:3,0:"RATE_5_5_KHZ",1:"RATE_11_KHZ",2:"RATE_22_KHZ",3:"RATE_44_KHZ"});function t(e,s,o){this._io=e,this._parent=s,this._root=o,this._debug={},this._read()}return t.prototype._read=function(){this._debug.id={start:this._io.pos,ioOffset:this._io.byteOffset},this.id=this._io.readU2le(),this._debug.id.end=this._io.pos,this._debug.format={start:this._io.pos,ioOffset:this._io.byteOffset},this.format=this._io.readBitsIntBe(4),this._debug.format.end=this._io.pos,this._debug.samplingRate={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"Swf.DefineSoundBody.SamplingRates"},this.samplingRate=this._io.readBitsIntBe(2),this._debug.samplingRate.end=this._io.pos,this._debug.bitsPerSample={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"Swf.DefineSoundBody.Bps"},this.bitsPerSample=this._io.readBitsIntBe(1),this._debug.bitsPerSample.end=this._io.pos,this._debug.numChannels={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"Swf.DefineSoundBody.Channels"},this.numChannels=this._io.readBitsIntBe(1),this._debug.numChannels.end=this._io.pos,this._io.alignToByte(),this._debug.numSamples={start:this._io.pos,ioOffset:this._io.byteOffset},this.numSamples=this._io.readU4le(),this._debug.numSamples.end=this._io.pos},t})(),b=i.DoAbcBody=(function(){function t(e,s,o){this._io=e,this._parent=s,this._root=o,this._debug={},this._read()}return t.prototype._read=function(){this._debug.flags={start:this._io.pos,ioOffset:this._io.byteOffset},this.flags=this._io.readU4le(),this._debug.flags.end=this._io.pos,this._debug.name={start:this._io.pos,ioOffset:this._io.byteOffset},this.name=_.bytesToStr(this._io.readBytesTerm(0,!1,!0,!0),"ASCII"),this._debug.name.end=this._io.pos,this._debug.abcdata={start:this._io.pos,ioOffset:this._io.byteOffset},this.abcdata=this._io.readBytesFull(),this._debug.abcdata.end=this._io.pos},t})(),y=i.RecordHeader=(function(){function t(e,s,o){this._io=e,this._parent=s,this._root=o,this._debug={},this._read()}return t.prototype._read=function(){this._debug.tagCodeAndLength={start:this._io.pos,ioOffset:this._io.byteOffset},this.tagCodeAndLength=this._io.readU2le(),this._debug.tagCodeAndLength.end=this._io.pos,this.smallLen==63&&(this._debug.bigLen={start:this._io.pos,ioOffset:this._io.byteOffset},this.bigLen=this._io.readS4le(),this._debug.bigLen.end=this._io.pos)},Object.defineProperty(t.prototype,"len",{get:function(){return this._m_len!==void 0?this._m_len:(this._debug._m_len={},this._m_len=this.smallLen==63?this.bigLen:this.smallLen,this._m_len)}}),Object.defineProperty(t.prototype,"smallLen",{get:function(){return this._m_smallLen!==void 0?this._m_smallLen:(this._debug._m_smallLen={},this._m_smallLen=this.tagCodeAndLength&63,this._m_smallLen)}}),Object.defineProperty(t.prototype,"tagType",{get:function(){return this._m_tagType!==void 0?this._m_tagType:(this._debug._m_tagType={enumName:"Swf.TagType"},this._m_tagType=this.tagCodeAndLength>>>6,this._m_tagType)}}),t})(),g=i.Rect=(function(){function t(e,s,o){this._io=e,this._parent=s,this._root=o,this._debug={},this._read()}return t.prototype._read=function(){this._debug.b1={start:this._io.pos,ioOffset:this._io.byteOffset},this.b1=this._io.readU1(),this._debug.b1.end=this._io.pos,this._debug.skip={start:this._io.pos,ioOffset:this._io.byteOffset},this.skip=this._io.readBytes(this.numBytes),this._debug.skip.end=this._io.pos},Object.defineProperty(t.prototype,"numBits",{get:function(){return this._m_numBits!==void 0?this._m_numBits:(this._debug._m_numBits={},this._m_numBits=this.b1>>>3,this._m_numBits)}}),Object.defineProperty(t.prototype,"numBytes",{get:function(){return this._m_numBytes!==void 0?this._m_numBytes:(this._debug._m_numBytes={},this._m_numBytes=Math.floor((this.numBits*4-3+7)/8),this._m_numBytes)}}),t})(),l=i.Rgb=(function(){function t(e,s,o){this._io=e,this._parent=s,this._root=o,this._debug={},this._read()}return t.prototype._read=function(){this._debug.r={start:this._io.pos,ioOffset:this._io.byteOffset},this.r=this._io.readU1(),this._debug.r.end=this._io.pos,this._debug.g={start:this._io.pos,ioOffset:this._io.byteOffset},this.g=this._io.readU1(),this._debug.g.end=this._io.pos,this._debug.b={start:this._io.pos,ioOffset:this._io.byteOffset},this.b=this._io.readU1(),this._debug.b.end=this._io.pos},t})(),m=i.ScriptLimitsBody=(function(){function t(e,s,o){this._io=e,this._parent=s,this._root=o,this._debug={},this._read()}return t.prototype._read=function(){this._debug.maxRecursionDepth={start:this._io.pos,ioOffset:this._io.byteOffset},this.maxRecursionDepth=this._io.readU2le(),this._debug.maxRecursionDepth.end=this._io.pos,this._debug.scriptTimeoutSeconds={start:this._io.pos,ioOffset:this._io.byteOffset},this.scriptTimeoutSeconds=this._io.readU2le(),this._debug.scriptTimeoutSeconds.end=this._io.pos},t})(),h=i.SwfBody=(function(){function t(e,s,o){this._io=e,this._parent=s,this._root=o,this._debug={},this._read()}return t.prototype._read=function(){for(this._debug.rect={start:this._io.pos,ioOffset:this._io.byteOffset},this.rect=new g(this._io,this,this._root),this._debug.rect.end=this._io.pos,this._debug.frameRate={start:this._io.pos,ioOffset:this._io.byteOffset},this.frameRate=this._io.readU2le(),this._debug.frameRate.end=this._io.pos,this._debug.frameCount={start:this._io.pos,ioOffset:this._io.byteOffset},this.frameCount=this._io.readU2le(),this._debug.frameCount.end=this._io.pos,this._root.version>=8&&(this._debug.fileAttributesTag={start:this._io.pos,ioOffset:this._io.byteOffset},this.fileAttributesTag=new f(this._io,this,this._root),this._debug.fileAttributesTag.end=this._io.pos),this._debug.tags={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.tags.arr=[],this.tags=[];!this._io.isEof();)this._debug.tags.arr[this.tags.length]={start:this._io.pos,ioOffset:this._io.byteOffset},this.tags.push(new f(this._io,this,this._root)),this._debug.tags.arr[this.tags.length-1].end=this._io.pos;this._debug.tags.end=this._io.pos},t})(),d=i.SymbolClassBody=(function(){function t(s,o,n){this._io=s,this._parent=o,this._root=n,this._debug={},this._read()}t.prototype._read=function(){this._debug.numSymbols={start:this._io.pos,ioOffset:this._io.byteOffset},this.numSymbols=this._io.readU2le(),this._debug.numSymbols.end=this._io.pos,this._debug.symbols={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.symbols.arr=[],this.symbols=[];for(var s=0;s<this.numSymbols;s++)this._debug.symbols.arr[s]={start:this._io.pos,ioOffset:this._io.byteOffset},this.symbols.push(new e(this._io,this,this._root)),this._debug.symbols.arr[s].end=this._io.pos;this._debug.symbols.end=this._io.pos};var e=t.Symbol=(function(){function s(o,n,c){this._io=o,this._parent=n,this._root=c,this._debug={},this._read()}return s.prototype._read=function(){this._debug.tag={start:this._io.pos,ioOffset:this._io.byteOffset},this.tag=this._io.readU2le(),this._debug.tag.end=this._io.pos,this._debug.name={start:this._io.pos,ioOffset:this._io.byteOffset},this.name=_.bytesToStr(this._io.readBytesTerm(0,!1,!0,!0),"ASCII"),this._debug.name.end=this._io.pos},s})();return t})(),f=i.Tag=(function(){function t(e,s,o){this._io=e,this._parent=s,this._root=o,this._debug={},this._read()}return t.prototype._read=function(){switch(this._debug.recordHeader={start:this._io.pos,ioOffset:this._io.byteOffset},this.recordHeader=new y(this._io,this,this._root),this._debug.recordHeader.end=this._io.pos,this._debug.tagBody={start:this._io.pos,ioOffset:this._io.byteOffset},this.recordHeader.tagType){case i.TagType.DEFINE_SOUND:this._raw_tagBody=this._io.readBytes(this.recordHeader.len);var e=new _(this._raw_tagBody);this.tagBody=new p(e,this,this._root);break;case i.TagType.DO_ABC:this._raw_tagBody=this._io.readBytes(this.recordHeader.len);var e=new _(this._raw_tagBody);this.tagBody=new b(e,this,this._root);break;case i.TagType.EXPORT_ASSETS:this._raw_tagBody=this._io.readBytes(this.recordHeader.len);var e=new _(this._raw_tagBody);this.tagBody=new d(e,this,this._root);break;case i.TagType.SCRIPT_LIMITS:this._raw_tagBody=this._io.readBytes(this.recordHeader.len);var e=new _(this._raw_tagBody);this.tagBody=new m(e,this,this._root);break;case i.TagType.SET_BACKGROUND_COLOR:this._raw_tagBody=this._io.readBytes(this.recordHeader.len);var e=new _(this._raw_tagBody);this.tagBody=new l(e,this,this._root);break;case i.TagType.SYMBOL_CLASS:this._raw_tagBody=this._io.readBytes(this.recordHeader.len);var e=new _(this._raw_tagBody);this.tagBody=new d(e,this,this._root);break;default:this.tagBody=this._io.readBytes(this.recordHeader.len);break}this._debug.tagBody.end=this._io.pos},t})();return i})();r.Swf=u})}});const w=T(),A={id:"swf",title:"Adobe Flash (AKA Shockwave Flash, Macromedia Flash)",ksy:{meta:{id:"swf",title:"Adobe Flash (AKA Shockwave Flash, Macromedia Flash)","file-extension":"swf",xref:{justsolve:"SWF",pronom:"fmt/507",loc:["fdd000130","fdd000248"],mime:"application/x-shockwave-flash",wikidata:"Q594447"},tags:["executable","media"],license:"CC0-1.0",endian:"le"},doc:`SWF files are used by Adobe Flash (AKA Shockwave Flash, Macromedia
Flash) to encode rich interactive multimedia content and are,
essentially, a container for special bytecode instructions to play
back that content. In early 2000s, it was dominant rich multimedia
web format (.swf files were integrated into web pages and played
back with a browser plugin), but its usage largely declined in
2010s, as HTML5 and performant browser-native solutions
(i.e. JavaScript engines and graphical approaches, such as WebGL)
emerged.

There are a lot of versions of SWF (~36), format is somewhat
documented by Adobe.
`,"doc-ref":"https://open-flash.github.io/mirrors/swf-spec-19.pdf",seq:[{id:"compression","-orig-id":"Signature",type:"u1",enum:"compressions"},{id:"signature","-orig-id":"Signature",contents:"WS"},{id:"version","-orig-id":"Version",type:"u1"},{id:"len_file","-orig-id":"FileLength",type:"u4"},{id:"plain_body","size-eos":!0,type:"swf_body",if:"compression == compressions::none"},{id:"zlib_body","size-eos":!0,process:"zlib",type:"swf_body",if:"compression == compressions::zlib"}],types:{swf_body:{seq:[{id:"rect",type:"rect"},{id:"frame_rate",type:"u2"},{id:"frame_count",type:"u2"},{id:"file_attributes_tag",type:"tag",if:"_root.version >= 8"},{id:"tags",type:"tag",repeat:"eos"}]},rect:{seq:[{id:"b1",type:"u1"},{id:"skip",size:"num_bytes"}],instances:{num_bits:{value:"b1 >> 3"},num_bytes:{value:"((num_bits * 4 - 3) + 7) / 8"}}},rgb:{seq:[{id:"r",type:"u1"},{id:"g",type:"u1"},{id:"b",type:"u1"}]},tag:{seq:[{id:"record_header",type:"record_header"},{id:"tag_body",size:"record_header.len",type:{"switch-on":"record_header.tag_type",cases:{"tag_type::define_sound":"define_sound_body","tag_type::do_abc":"do_abc_body","tag_type::script_limits":"script_limits_body","tag_type::symbol_class":"symbol_class_body","tag_type::set_background_color":"rgb","tag_type::export_assets":"symbol_class_body"}}}]},define_sound_body:{seq:[{id:"id","-orig-id":"SoundId",type:"u2"},{id:"format","-orig-id":"SoundFormat",type:"b4"},{id:"sampling_rate","-orig-id":"SoundRate",type:"b2",enum:"sampling_rates",doc:"Sound sampling rate, as per enum. Ignored for Nellymoser and Speex codecs."},{id:"bits_per_sample","-orig-id":"SoundSize",type:"b1",enum:"bps"},{id:"num_channels","-orig-id":"SoundType",type:"b1",enum:"channels"},{id:"num_samples",type:"u4"}],enums:{sampling_rates:{0:"rate_5_5_khz",1:"rate_11_khz",2:"rate_22_khz",3:"rate_44_khz"},bps:{0:"sound_8_bit",1:"sound_16_bit"},channels:{0:"mono",1:"stereo"}}},do_abc_body:{seq:[{id:"flags",type:"u4"},{id:"name",type:"strz",encoding:"ASCII"},{id:"abcdata","size-eos":!0}]},script_limits_body:{seq:[{id:"max_recursion_depth",type:"u2"},{id:"script_timeout_seconds",type:"u2"}]},symbol_class_body:{seq:[{id:"num_symbols",type:"u2"},{id:"symbols",type:"symbol",repeat:"expr","repeat-expr":"num_symbols"}],types:{symbol:{seq:[{id:"tag",type:"u2"},{id:"name",type:"strz",encoding:"ASCII"}]}}},record_header:{seq:[{id:"tag_code_and_length",type:"u2"},{id:"big_len",type:"s4",if:"small_len == 0x3f"}],instances:{tag_type:{value:"tag_code_and_length >> 6",enum:"tag_type"},small_len:{value:"tag_code_and_length & 0b111111"},len:{value:"small_len == 0x3f ? big_len : small_len"}}}},enums:{compressions:{67:"zlib",70:"none",90:"lzma"},tag_type:{0:"end_of_file",4:"place_object",5:"remove_object",9:"set_background_color",14:"define_sound",26:"place_object2",28:"remove_object2",43:"frame_label",56:"export_assets",65:"script_limits",69:"file_attributes",70:"place_object3",76:"symbol_class",77:"metadata",78:"define_scaling_grid",82:"do_abc",86:"define_scene_and_frame_label_data"}}}};export{w as default,A as spec};
