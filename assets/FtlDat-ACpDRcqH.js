import{k as l}from"./index-DQZRlv-R.js";var d=Object.getOwnPropertyNames,u=(i,e)=>function(){return e||(0,i[d(i)[0]])((e={exports:{}}).exports,e),e.exports},p=u({"<stdin>"(i){(function(e,o){typeof define=="function"&&define.amd?define(["exports","kaitai-struct/KaitaiStream"],o):typeof i=="object"&&i!==null&&typeof i.nodeType!="number"?o(i,l.KaitaiStream):o(e.FtlDat||(e.FtlDat={}),e.KaitaiStream)})(typeof self<"u"?self:i,function(e,o){var f=(function(){function n(t,s,_){this._io=t,this._parent=s,this._root=_||this,this._debug={},this._read()}n.prototype._read=function(){this._debug.numFiles={start:this._io.pos,ioOffset:this._io.byteOffset},this.numFiles=this._io.readU4le(),this._debug.numFiles.end=this._io.pos,this._debug.files={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.files.arr=[],this.files=[];for(var t=0;t<this.numFiles;t++)this._debug.files.arr[t]={start:this._io.pos,ioOffset:this._io.byteOffset},this.files.push(new h(this._io,this,this._root)),this._debug.files.arr[t].end=this._io.pos;this._debug.files.end=this._io.pos};var h=n.File=(function(){function t(s,_,a){this._io=s,this._parent=_,this._root=a,this._debug={},this._read()}return t.prototype._read=function(){this._debug.ofsMeta={start:this._io.pos,ioOffset:this._io.byteOffset},this.ofsMeta=this._io.readU4le(),this._debug.ofsMeta.end=this._io.pos},Object.defineProperty(t.prototype,"meta",{get:function(){if(this._m_meta!==void 0)return this._m_meta;if(this.ofsMeta!=0){var s=this._io.pos;this._io.seek(this.ofsMeta),this._debug._m_meta={start:this._io.pos,ioOffset:this._io.byteOffset},this._m_meta=new r(this._io,this,this._root),this._debug._m_meta.end=this._io.pos,this._io.seek(s)}return this._m_meta}}),t})(),r=n.Meta=(function(){function t(s,_,a){this._io=s,this._parent=_,this._root=a,this._debug={},this._read()}return t.prototype._read=function(){this._debug.lenFile={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenFile=this._io.readU4le(),this._debug.lenFile.end=this._io.pos,this._debug.lenFilename={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenFilename=this._io.readU4le(),this._debug.lenFilename.end=this._io.pos,this._debug.filename={start:this._io.pos,ioOffset:this._io.byteOffset},this.filename=o.bytesToStr(this._io.readBytes(this.lenFilename),"UTF-8"),this._debug.filename.end=this._io.pos,this._debug.body={start:this._io.pos,ioOffset:this._io.byteOffset},this.body=this._io.readBytes(this.lenFile),this._debug.body.end=this._io.pos},t})();return n})();e.FtlDat=f})}});const b=p(),y={id:"ftl_dat",title:"ftl_dat",ksy:{meta:{id:"ftl_dat",application:"Faster Than Light (FTL)","file-extension":"dat",license:"CC0-1.0",endian:"le"},seq:[{id:"num_files",type:"u4",doc:"Number of files in the archive"},{id:"files",type:"file",repeat:"expr","repeat-expr":"num_files"}],types:{file:{seq:[{id:"ofs_meta",type:"u4"}],instances:{meta:{pos:"ofs_meta",type:"meta",if:"ofs_meta != 0"}}},meta:{seq:[{id:"len_file",type:"u4"},{id:"len_filename",type:"u4"},{id:"filename",type:"str",size:"len_filename",encoding:"UTF-8"},{id:"body",size:"len_file"}]}}}};export{b as default,y as spec};
