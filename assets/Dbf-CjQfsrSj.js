import{k as l}from"./index-COmSdSC_.js";var g=Object.getOwnPropertyNames,y=(h,d)=>function(){return d||(0,h[g(h)[0]])((d={exports:{}}).exports,d),d.exports},c=y({"<stdin>"(h){(function(d,i){typeof define=="function"&&define.amd?define(["exports","kaitai-struct/KaitaiStream"],i):typeof h=="object"&&h!==null&&typeof h.nodeType!="number"?i(h,l.KaitaiStream):i(d.Dbf||(d.Dbf={}),d.KaitaiStream)})(typeof self<"u"?self:h,function(d,i){var a=(function(){o.DeleteState=Object.freeze({FALSE:32,TRUE:42,32:"FALSE",42:"TRUE"});function o(t,e,s){this._io=t,this._parent=e,this._root=s||this,this._debug={},this._read()}o.prototype._read=function(){this._debug.header1={start:this._io.pos,ioOffset:this._io.byteOffset},this.header1=new n(this._io,this,this._root),this._debug.header1.end=this._io.pos,this._debug.header2={start:this._io.pos,ioOffset:this._io.byteOffset},this._raw_header2=this._io.readBytes(this.header1.lenHeader-12-1);var t=new i(this._raw_header2);if(this.header2=new f(t,this,this._root),this._debug.header2.end=this._io.pos,this._debug.headerTerminator={start:this._io.pos,ioOffset:this._io.byteOffset},this.headerTerminator=this._io.readBytes(1),this._debug.headerTerminator.end=this._io.pos,i.byteArrayCompare(this.headerTerminator,new Uint8Array([13]))!=0){var e=new i.ValidationNotEqualError(new Uint8Array([13]),this.headerTerminator,this._io,"/seq/2");throw this._debug.headerTerminator.validationError=e,e}this._debug.records={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.records.arr=[],this._raw_records=[],this.records=[];for(var s=0;s<this.header1.numRecords;s++){this._debug.records.arr[s]={start:this._io.pos,ioOffset:this._io.byteOffset},this._raw_records.push(this._io.readBytes(this.header1.lenRecord));var r=new i(this._raw_records[s]);this.records.push(new u(r,this,this._root)),this._debug.records.arr[s].end=this._io.pos}this._debug.records.end=this._io.pos};var _=o.Field=(function(){function t(e,s,r){this._io=e,this._parent=s,this._root=r,this._debug={},this._read()}return t.prototype._read=function(){this._debug.name={start:this._io.pos,ioOffset:this._io.byteOffset},this.name=i.bytesToStr(i.bytesTerminate(this._io.readBytes(11),0,!1),"ASCII"),this._debug.name.end=this._io.pos,this._debug.datatype={start:this._io.pos,ioOffset:this._io.byteOffset},this.datatype=this._io.readU1(),this._debug.datatype.end=this._io.pos,this._debug.dataAddress={start:this._io.pos,ioOffset:this._io.byteOffset},this.dataAddress=this._io.readU4le(),this._debug.dataAddress.end=this._io.pos,this._debug.length={start:this._io.pos,ioOffset:this._io.byteOffset},this.length=this._io.readU1(),this._debug.length.end=this._io.pos,this._debug.decimalCount={start:this._io.pos,ioOffset:this._io.byteOffset},this.decimalCount=this._io.readU1(),this._debug.decimalCount.end=this._io.pos,this._debug.reserved1={start:this._io.pos,ioOffset:this._io.byteOffset},this.reserved1=this._io.readBytes(2),this._debug.reserved1.end=this._io.pos,this._debug.workAreaId={start:this._io.pos,ioOffset:this._io.byteOffset},this.workAreaId=this._io.readU1(),this._debug.workAreaId.end=this._io.pos,this._debug.reserved2={start:this._io.pos,ioOffset:this._io.byteOffset},this.reserved2=this._io.readBytes(2),this._debug.reserved2.end=this._io.pos,this._debug.setFieldsFlag={start:this._io.pos,ioOffset:this._io.byteOffset},this.setFieldsFlag=this._io.readU1(),this._debug.setFieldsFlag.end=this._io.pos,this._debug.reserved3={start:this._io.pos,ioOffset:this._io.byteOffset},this.reserved3=this._io.readBytes(8),this._debug.reserved3.end=this._io.pos},t})(),n=o.Header1=(function(){function t(e,s,r){this._io=e,this._parent=s,this._root=r,this._debug={},this._read()}return t.prototype._read=function(){this._debug.version={start:this._io.pos,ioOffset:this._io.byteOffset},this.version=this._io.readU1(),this._debug.version.end=this._io.pos,this._debug.lastUpdateY={start:this._io.pos,ioOffset:this._io.byteOffset},this.lastUpdateY=this._io.readU1(),this._debug.lastUpdateY.end=this._io.pos,this._debug.lastUpdateM={start:this._io.pos,ioOffset:this._io.byteOffset},this.lastUpdateM=this._io.readU1(),this._debug.lastUpdateM.end=this._io.pos,this._debug.lastUpdateD={start:this._io.pos,ioOffset:this._io.byteOffset},this.lastUpdateD=this._io.readU1(),this._debug.lastUpdateD.end=this._io.pos,this._debug.numRecords={start:this._io.pos,ioOffset:this._io.byteOffset},this.numRecords=this._io.readU4le(),this._debug.numRecords.end=this._io.pos,this._debug.lenHeader={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenHeader=this._io.readU2le(),this._debug.lenHeader.end=this._io.pos,this._debug.lenRecord={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenRecord=this._io.readU2le(),this._debug.lenRecord.end=this._io.pos},Object.defineProperty(t.prototype,"dbaseLevel",{get:function(){return this._m_dbaseLevel!==void 0?this._m_dbaseLevel:(this._debug._m_dbaseLevel={},this._m_dbaseLevel=this.version&7,this._m_dbaseLevel)}}),t})(),f=o.Header2=(function(){function t(e,s,r){this._io=e,this._parent=s,this._root=r,this._debug={},this._read()}return t.prototype._read=function(){for(this._root.header1.dbaseLevel==3&&(this._debug.headerDbase3={start:this._io.pos,ioOffset:this._io.byteOffset},this.headerDbase3=new b(this._io,this,this._root),this._debug.headerDbase3.end=this._io.pos),this._root.header1.dbaseLevel==7&&(this._debug.headerDbase7={start:this._io.pos,ioOffset:this._io.byteOffset},this.headerDbase7=new p(this._io,this,this._root),this._debug.headerDbase7.end=this._io.pos),this._debug.fields={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.fields.arr=[],this.fields=[];!this._io.isEof();)this._debug.fields.arr[this.fields.length]={start:this._io.pos,ioOffset:this._io.byteOffset},this.fields.push(new _(this._io,this,this._root)),this._debug.fields.arr[this.fields.length-1].end=this._io.pos;this._debug.fields.end=this._io.pos},t})(),b=o.HeaderDbase3=(function(){function t(e,s,r){this._io=e,this._parent=s,this._root=r,this._debug={},this._read()}return t.prototype._read=function(){this._debug.reserved1={start:this._io.pos,ioOffset:this._io.byteOffset},this.reserved1=this._io.readBytes(3),this._debug.reserved1.end=this._io.pos,this._debug.reserved2={start:this._io.pos,ioOffset:this._io.byteOffset},this.reserved2=this._io.readBytes(13),this._debug.reserved2.end=this._io.pos,this._debug.reserved3={start:this._io.pos,ioOffset:this._io.byteOffset},this.reserved3=this._io.readBytes(4),this._debug.reserved3.end=this._io.pos},t})(),p=o.HeaderDbase7=(function(){function t(e,s,r){this._io=e,this._parent=s,this._root=r,this._debug={},this._read()}return t.prototype._read=function(){if(this._debug.reserved1={start:this._io.pos,ioOffset:this._io.byteOffset},this.reserved1=this._io.readBytes(2),this._debug.reserved1.end=this._io.pos,i.byteArrayCompare(this.reserved1,new Uint8Array([0,0]))!=0){var e=new i.ValidationNotEqualError(new Uint8Array([0,0]),this.reserved1,this._io,"/types/header_dbase_7/seq/0");throw this._debug.reserved1.validationError=e,e}if(this._debug.hasIncompleteTransaction={start:this._io.pos,ioOffset:this._io.byteOffset},this.hasIncompleteTransaction=this._io.readU1(),this._debug.hasIncompleteTransaction.end=this._io.pos,this._debug.dbaseIvEncryption={start:this._io.pos,ioOffset:this._io.byteOffset},this.dbaseIvEncryption=this._io.readU1(),this._debug.dbaseIvEncryption.end=this._io.pos,this._debug.reserved2={start:this._io.pos,ioOffset:this._io.byteOffset},this.reserved2=this._io.readBytes(12),this._debug.reserved2.end=this._io.pos,this._debug.productionMdx={start:this._io.pos,ioOffset:this._io.byteOffset},this.productionMdx=this._io.readU1(),this._debug.productionMdx.end=this._io.pos,this._debug.languageDriverId={start:this._io.pos,ioOffset:this._io.byteOffset},this.languageDriverId=this._io.readU1(),this._debug.languageDriverId.end=this._io.pos,this._debug.reserved3={start:this._io.pos,ioOffset:this._io.byteOffset},this.reserved3=this._io.readBytes(2),this._debug.reserved3.end=this._io.pos,i.byteArrayCompare(this.reserved3,new Uint8Array([0,0]))!=0){var e=new i.ValidationNotEqualError(new Uint8Array([0,0]),this.reserved3,this._io,"/types/header_dbase_7/seq/6");throw this._debug.reserved3.validationError=e,e}this._debug.languageDriverName={start:this._io.pos,ioOffset:this._io.byteOffset},this.languageDriverName=this._io.readBytes(32),this._debug.languageDriverName.end=this._io.pos,this._debug.reserved4={start:this._io.pos,ioOffset:this._io.byteOffset},this.reserved4=this._io.readBytes(4),this._debug.reserved4.end=this._io.pos},t})(),u=o.Record=(function(){function t(e,s,r){this._io=e,this._parent=s,this._root=r,this._debug={},this._read()}return t.prototype._read=function(){this._debug.deleted={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"Dbf.DeleteState"},this.deleted=this._io.readU1(),this._debug.deleted.end=this._io.pos,this._debug.recordFields={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.recordFields.arr=[],this.recordFields=[];for(var e=0;e<this._root.header2.fields.length;e++)this._debug.recordFields.arr[e]={start:this._io.pos,ioOffset:this._io.byteOffset},this.recordFields.push(this._io.readBytes(this._root.header2.fields[e].length)),this._debug.recordFields.arr[e].end=this._io.pos;this._debug.recordFields.end=this._io.pos},t})();return o})();d.Dbf=a})}});const O=c(),m={id:"dbf",title:"dbf",ksy:{meta:{id:"dbf",application:"dBASE","file-extension":"dbf",xref:{justsolve:"DBF",loc:"fdd000325",mime:["application/dbf","application/dbase"],pronom:["x-fmt/8","x-fmt/9","x-fmt/271","x-fmt/10","x-fmt/272"],wikidata:"Q16545707"},license:"CC0-1.0",endian:"le"},doc:`.dbf is a relational database format introduced in DOS database
management system dBASE in 1982.

One .dbf file corresponds to one table and contains a series of headers,
specification of fields, and a number of fixed-size records.
`,"doc-ref":"http://www.dbase.com/Knowledgebase/INT/db7_file_fmt.htm",seq:[{id:"header1",type:"header1"},{id:"header2",size:"header1.len_header - header1._sizeof - header_terminator._sizeof",type:"header2"},{id:"header_terminator",contents:[13]},{id:"records",type:"record",size:"header1.len_record",repeat:"expr","repeat-expr":"header1.num_records"}],types:{header1:{"doc-ref":"http://www.dbase.com/Knowledgebase/INT/db7_file_fmt.htm - section 1.1",seq:[{id:"version",type:"u1"},{id:"last_update_y",type:"u1"},{id:"last_update_m",type:"u1"},{id:"last_update_d",type:"u1"},{id:"num_records",type:"u4"},{id:"len_header",type:"u2"},{id:"len_record",type:"u2"}],instances:{dbase_level:{value:"version & 0b111"}}},header2:{seq:[{id:"header_dbase_3",if:"_root.header1.dbase_level == 3",type:"header_dbase_3"},{id:"header_dbase_7",if:"_root.header1.dbase_level == 7",type:"header_dbase_7"},{id:"fields",type:"field",repeat:"eos"}]},header_dbase_3:{seq:[{id:"reserved1",size:3},{id:"reserved2",size:13},{id:"reserved3",size:4}]},header_dbase_7:{seq:[{id:"reserved1",contents:[0,0]},{id:"has_incomplete_transaction",type:"u1"},{id:"dbase_iv_encryption",type:"u1"},{id:"reserved2",size:12},{id:"production_mdx",type:"u1"},{id:"language_driver_id",type:"u1"},{id:"reserved3",contents:[0,0]},{id:"language_driver_name",size:32},{id:"reserved4",size:4}]},field:{seq:[{id:"name",type:"strz",encoding:"ASCII",size:11},{id:"datatype",type:"u1"},{id:"data_address",type:"u4"},{id:"length",type:"u1"},{id:"decimal_count",type:"u1"},{id:"reserved1",size:2},{id:"work_area_id",type:"u1"},{id:"reserved2",size:2},{id:"set_fields_flag",type:"u1"},{id:"reserved3",size:8}]},record:{seq:[{id:"deleted",type:"u1",enum:"delete_state"},{id:"record_fields",size:"_root.header2.fields[_index].length",repeat:"expr","repeat-expr":"_root.header2.fields.size"}]}},enums:{delete_state:{32:!1,42:!0}}}};export{O as default,m as spec};
