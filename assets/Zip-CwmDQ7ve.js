import{k as N}from"./index-DZ3xxA7Z.js";var I=Object.getOwnPropertyNames,M=(p,h)=>function(){return h||(0,p[I(p)[0]])((h={exports:{}}).exports,h),h.exports},U=M({"<stdin>"(p){(function(h,o){typeof define=="function"&&define.amd?define(["exports","kaitai-struct/KaitaiStream","./DosDatetime"],o):typeof p=="object"&&p!==null&&typeof p.nodeType!="number"?o(p,N.KaitaiStream,require("./DosDatetime")):o(h.Zip||(h.Zip={}),h.KaitaiStream,h.DosDatetime||(h.DosDatetime={}))})(typeof self<"u"?self:p,function(h,o,c){var y=(function(){_.Compression=Object.freeze({NONE:0,SHRUNK:1,REDUCED_1:2,REDUCED_2:3,REDUCED_3:4,REDUCED_4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE_DCL_IMPLODED:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77_Z:19,ZSTANDARD:93,MP3:94,XZ:95,JPEG:96,WAVPACK:97,PPMD:98,AEX_ENCRYPTION_MARKER:99,0:"NONE",1:"SHRUNK",2:"REDUCED_1",3:"REDUCED_2",4:"REDUCED_3",5:"REDUCED_4",6:"IMPLODED",8:"DEFLATED",9:"ENHANCED_DEFLATED",10:"PKWARE_DCL_IMPLODED",12:"BZIP2",14:"LZMA",18:"IBM_TERSE",19:"IBM_LZ77_Z",93:"ZSTANDARD",94:"MP3",95:"XZ",96:"JPEG",97:"WAVPACK",98:"PPMD",99:"AEX_ENCRYPTION_MARKER"}),_.ExtraCodes=Object.freeze({ZIP64:1,AV_INFO:7,OS2:9,NTFS:10,OPENVMS:12,PKWARE_UNIX:13,FILE_STREAM_AND_FORK_DESCRIPTORS:14,PATCH_DESCRIPTOR:15,PKCS7:20,X509_CERT_ID_AND_SIGNATURE_FOR_FILE:21,X509_CERT_ID_FOR_CENTRAL_DIR:22,STRONG_ENCRYPTION_HEADER:23,RECORD_MANAGEMENT_CONTROLS:24,PKCS7_ENC_RECIP_CERT_LIST:25,IBM_S390_UNCOMP:101,IBM_S390_COMP:102,POSZIP_4690:18064,EXTENDED_TIMESTAMP:21589,BEOS:25922,ASI_UNIX:30062,INFOZIP_UNIX:30805,INFOZIP_UNIX_VAR_SIZE:30837,AEX_ENCRYPTION:39169,APACHE_COMMONS_COMPRESS:41246,MICROSOFT_OPEN_PACKAGING_GROWTH_HINT:41504,SMS_QDOS:64842,1:"ZIP64",7:"AV_INFO",9:"OS2",10:"NTFS",12:"OPENVMS",13:"PKWARE_UNIX",14:"FILE_STREAM_AND_FORK_DESCRIPTORS",15:"PATCH_DESCRIPTOR",20:"PKCS7",21:"X509_CERT_ID_AND_SIGNATURE_FOR_FILE",22:"X509_CERT_ID_FOR_CENTRAL_DIR",23:"STRONG_ENCRYPTION_HEADER",24:"RECORD_MANAGEMENT_CONTROLS",25:"PKCS7_ENC_RECIP_CERT_LIST",101:"IBM_S390_UNCOMP",102:"IBM_S390_COMP",18064:"POSZIP_4690",21589:"EXTENDED_TIMESTAMP",25922:"BEOS",30062:"ASI_UNIX",30805:"INFOZIP_UNIX",30837:"INFOZIP_UNIX_VAR_SIZE",39169:"AEX_ENCRYPTION",41246:"APACHE_COMMONS_COMPRESS",41504:"MICROSOFT_OPEN_PACKAGING_GROWTH_HINT",64842:"SMS_QDOS"});function _(t,s,e){this._io=t,this._parent=s,this._root=e||this,this._debug={},this._read()}_.prototype._read=function(){for(this._debug.sections={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.sections.arr=[],this.sections=[];!this._io.isEof();)this._debug.sections.arr[this.sections.length]={start:this._io.pos,ioOffset:this._io.byteOffset},this.sections.push(new m(this._io,this,this._root)),this._debug.sections.arr[this.sections.length-1].end=this._io.pos;this._debug.sections.end=this._io.pos};var g=_.CentralDirEntry=(function(){function t(s,e,d){this._io=s,this._parent=e,this._root=d,this._debug={},this._read()}return t.prototype._read=function(){this._debug.versionMadeBy={start:this._io.pos,ioOffset:this._io.byteOffset},this.versionMadeBy=this._io.readU2le(),this._debug.versionMadeBy.end=this._io.pos,this._debug.versionNeededToExtract={start:this._io.pos,ioOffset:this._io.byteOffset},this.versionNeededToExtract=this._io.readU2le(),this._debug.versionNeededToExtract.end=this._io.pos,this._debug.flags={start:this._io.pos,ioOffset:this._io.byteOffset},this.flags=this._io.readU2le(),this._debug.flags.end=this._io.pos,this._debug.compressionMethod={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"Zip.Compression"},this.compressionMethod=this._io.readU2le(),this._debug.compressionMethod.end=this._io.pos,this._debug.fileModTime={start:this._io.pos,ioOffset:this._io.byteOffset},this._raw_fileModTime=this._io.readBytes(4);var s=new o(this._raw_fileModTime);this.fileModTime=new c.DosDatetime(s,null,null),this._debug.fileModTime.end=this._io.pos,this._debug.crc32={start:this._io.pos,ioOffset:this._io.byteOffset},this.crc32=this._io.readU4le(),this._debug.crc32.end=this._io.pos,this._debug.lenBodyCompressed={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenBodyCompressed=this._io.readU4le(),this._debug.lenBodyCompressed.end=this._io.pos,this._debug.lenBodyUncompressed={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenBodyUncompressed=this._io.readU4le(),this._debug.lenBodyUncompressed.end=this._io.pos,this._debug.lenFileName={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenFileName=this._io.readU2le(),this._debug.lenFileName.end=this._io.pos,this._debug.lenExtra={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenExtra=this._io.readU2le(),this._debug.lenExtra.end=this._io.pos,this._debug.lenComment={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenComment=this._io.readU2le(),this._debug.lenComment.end=this._io.pos,this._debug.diskNumberStart={start:this._io.pos,ioOffset:this._io.byteOffset},this.diskNumberStart=this._io.readU2le(),this._debug.diskNumberStart.end=this._io.pos,this._debug.intFileAttr={start:this._io.pos,ioOffset:this._io.byteOffset},this.intFileAttr=this._io.readU2le(),this._debug.intFileAttr.end=this._io.pos,this._debug.extFileAttr={start:this._io.pos,ioOffset:this._io.byteOffset},this.extFileAttr=this._io.readU4le(),this._debug.extFileAttr.end=this._io.pos,this._debug.ofsLocalHeader={start:this._io.pos,ioOffset:this._io.byteOffset},this.ofsLocalHeader=this._io.readS4le(),this._debug.ofsLocalHeader.end=this._io.pos,this._debug.fileName={start:this._io.pos,ioOffset:this._io.byteOffset},this.fileName=o.bytesToStr(this._io.readBytes(this.lenFileName),"UTF-8"),this._debug.fileName.end=this._io.pos,this._debug.extra={start:this._io.pos,ioOffset:this._io.byteOffset},this._raw_extra=this._io.readBytes(this.lenExtra);var e=new o(this._raw_extra);this.extra=new b(e,this,this._root),this._debug.extra.end=this._io.pos,this._debug.comment={start:this._io.pos,ioOffset:this._io.byteOffset},this.comment=o.bytesToStr(this._io.readBytes(this.lenComment),"UTF-8"),this._debug.comment.end=this._io.pos},Object.defineProperty(t.prototype,"localHeader",{get:function(){if(this._m_localHeader!==void 0)return this._m_localHeader;var s=this._io.pos;return this._io.seek(this.ofsLocalHeader),this._debug._m_localHeader={start:this._io.pos,ioOffset:this._io.byteOffset},this._m_localHeader=new m(this._io,this,this._root),this._debug._m_localHeader.end=this._io.pos,this._io.seek(s),this._m_localHeader}}),t})(),O=_.DataDescriptor=(function(){function t(s,e,d){this._io=s,this._parent=e,this._root=d,this._debug={},this._read()}return t.prototype._read=function(){this._debug.crc32={start:this._io.pos,ioOffset:this._io.byteOffset},this.crc32=this._io.readU4le(),this._debug.crc32.end=this._io.pos,this._debug.lenBodyCompressed={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenBodyCompressed=this._io.readU4le(),this._debug.lenBodyCompressed.end=this._io.pos,this._debug.lenBodyUncompressed={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenBodyUncompressed=this._io.readU4le(),this._debug.lenBodyUncompressed.end=this._io.pos},t})(),E=_.EndOfCentralDir=(function(){function t(s,e,d){this._io=s,this._parent=e,this._root=d,this._debug={},this._read()}return t.prototype._read=function(){this._debug.diskOfEndOfCentralDir={start:this._io.pos,ioOffset:this._io.byteOffset},this.diskOfEndOfCentralDir=this._io.readU2le(),this._debug.diskOfEndOfCentralDir.end=this._io.pos,this._debug.diskOfCentralDir={start:this._io.pos,ioOffset:this._io.byteOffset},this.diskOfCentralDir=this._io.readU2le(),this._debug.diskOfCentralDir.end=this._io.pos,this._debug.numCentralDirEntriesOnDisk={start:this._io.pos,ioOffset:this._io.byteOffset},this.numCentralDirEntriesOnDisk=this._io.readU2le(),this._debug.numCentralDirEntriesOnDisk.end=this._io.pos,this._debug.numCentralDirEntriesTotal={start:this._io.pos,ioOffset:this._io.byteOffset},this.numCentralDirEntriesTotal=this._io.readU2le(),this._debug.numCentralDirEntriesTotal.end=this._io.pos,this._debug.lenCentralDir={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenCentralDir=this._io.readU4le(),this._debug.lenCentralDir.end=this._io.pos,this._debug.ofsCentralDir={start:this._io.pos,ioOffset:this._io.byteOffset},this.ofsCentralDir=this._io.readU4le(),this._debug.ofsCentralDir.end=this._io.pos,this._debug.lenComment={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenComment=this._io.readU2le(),this._debug.lenComment.end=this._io.pos,this._debug.comment={start:this._io.pos,ioOffset:this._io.byteOffset},this.comment=o.bytesToStr(this._io.readBytes(this.lenComment),"UTF-8"),this._debug.comment.end=this._io.pos},t})(),T=_.ExtraField=(function(){function t(i,f,n){this._io=i,this._parent=f,this._root=n,this._debug={},this._read()}t.prototype._read=function(){switch(this._debug.code={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"Zip.ExtraCodes"},this.code=this._io.readU2le(),this._debug.code.end=this._io.pos,this._debug.lenBody={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenBody=this._io.readU2le(),this._debug.lenBody.end=this._io.pos,this._debug.body={start:this._io.pos,ioOffset:this._io.byteOffset},this.code){case _.ExtraCodes.EXTENDED_TIMESTAMP:this._raw_body=this._io.readBytes(this.lenBody);var i=new o(this._raw_body);this.body=new s(i,this,this._root);break;case _.ExtraCodes.INFOZIP_UNIX_VAR_SIZE:this._raw_body=this._io.readBytes(this.lenBody);var i=new o(this._raw_body);this.body=new e(i,this,this._root);break;case _.ExtraCodes.NTFS:this._raw_body=this._io.readBytes(this.lenBody);var i=new o(this._raw_body);this.body=new d(i,this,this._root);break;default:this.body=this._io.readBytes(this.lenBody);break}this._debug.body.end=this._io.pos};var s=t.ExtendedTimestamp=(function(){function i(n,r,a){this._io=n,this._parent=r,this._root=a,this._debug={},this._read()}i.prototype._read=function(){this._debug.flags={start:this._io.pos,ioOffset:this._io.byteOffset},this._raw_flags=this._io.readBytes(1);var n=new o(this._raw_flags);this.flags=new f(n,this,this._root),this._debug.flags.end=this._io.pos,this.flags.hasModTime&&(this._debug.modTime={start:this._io.pos,ioOffset:this._io.byteOffset},this.modTime=this._io.readU4le(),this._debug.modTime.end=this._io.pos),this.flags.hasAccessTime&&(this._debug.accessTime={start:this._io.pos,ioOffset:this._io.byteOffset},this.accessTime=this._io.readU4le(),this._debug.accessTime.end=this._io.pos),this.flags.hasCreateTime&&(this._debug.createTime={start:this._io.pos,ioOffset:this._io.byteOffset},this.createTime=this._io.readU4le(),this._debug.createTime.end=this._io.pos)};var f=i.InfoFlags=(function(){function n(r,a,l){this._io=r,this._parent=a,this._root=l,this._debug={},this._read()}return n.prototype._read=function(){this._debug.hasModTime={start:this._io.pos,ioOffset:this._io.byteOffset},this.hasModTime=this._io.readBitsIntLe(1)!=0,this._debug.hasModTime.end=this._io.pos,this._debug.hasAccessTime={start:this._io.pos,ioOffset:this._io.byteOffset},this.hasAccessTime=this._io.readBitsIntLe(1)!=0,this._debug.hasAccessTime.end=this._io.pos,this._debug.hasCreateTime={start:this._io.pos,ioOffset:this._io.byteOffset},this.hasCreateTime=this._io.readBitsIntLe(1)!=0,this._debug.hasCreateTime.end=this._io.pos,this._debug.reserved={start:this._io.pos,ioOffset:this._io.byteOffset},this.reserved=this._io.readBitsIntLe(5),this._debug.reserved.end=this._io.pos},n})();return i})(),e=t.InfozipUnixVarSize=(function(){function i(f,n,r){this._io=f,this._parent=n,this._root=r,this._debug={},this._read()}return i.prototype._read=function(){this._debug.version={start:this._io.pos,ioOffset:this._io.byteOffset},this.version=this._io.readU1(),this._debug.version.end=this._io.pos,this._debug.lenUid={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenUid=this._io.readU1(),this._debug.lenUid.end=this._io.pos,this._debug.uid={start:this._io.pos,ioOffset:this._io.byteOffset},this.uid=this._io.readBytes(this.lenUid),this._debug.uid.end=this._io.pos,this._debug.lenGid={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenGid=this._io.readU1(),this._debug.lenGid.end=this._io.pos,this._debug.gid={start:this._io.pos,ioOffset:this._io.byteOffset},this.gid=this._io.readBytes(this.lenGid),this._debug.gid.end=this._io.pos},i})(),d=t.Ntfs=(function(){function i(r,a,l){this._io=r,this._parent=a,this._root=l,this._debug={},this._read()}i.prototype._read=function(){for(this._debug.reserved={start:this._io.pos,ioOffset:this._io.byteOffset},this.reserved=this._io.readU4le(),this._debug.reserved.end=this._io.pos,this._debug.attributes={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.attributes.arr=[],this.attributes=[];!this._io.isEof();)this._debug.attributes.arr[this.attributes.length]={start:this._io.pos,ioOffset:this._io.byteOffset},this.attributes.push(new f(this._io,this,this._root)),this._debug.attributes.arr[this.attributes.length-1].end=this._io.pos;this._debug.attributes.end=this._io.pos};var f=i.Attribute=(function(){function r(a,l,u){this._io=a,this._parent=l,this._root=u,this._debug={},this._read()}return r.prototype._read=function(){switch(this._debug.tag={start:this._io.pos,ioOffset:this._io.byteOffset},this.tag=this._io.readU2le(),this._debug.tag.end=this._io.pos,this._debug.lenBody={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenBody=this._io.readU2le(),this._debug.lenBody.end=this._io.pos,this._debug.body={start:this._io.pos,ioOffset:this._io.byteOffset},this.tag){case 1:this._raw_body=this._io.readBytes(this.lenBody);var a=new o(this._raw_body);this.body=new n(a,this,this._root);break;default:this.body=this._io.readBytes(this.lenBody);break}this._debug.body.end=this._io.pos},r})(),n=i.Attribute1=(function(){function r(a,l,u){this._io=a,this._parent=l,this._root=u,this._debug={},this._read()}return r.prototype._read=function(){this._debug.lastModTime={start:this._io.pos,ioOffset:this._io.byteOffset},this.lastModTime=this._io.readU8le(),this._debug.lastModTime.end=this._io.pos,this._debug.lastAccessTime={start:this._io.pos,ioOffset:this._io.byteOffset},this.lastAccessTime=this._io.readU8le(),this._debug.lastAccessTime.end=this._io.pos,this._debug.creationTime={start:this._io.pos,ioOffset:this._io.byteOffset},this.creationTime=this._io.readU8le(),this._debug.creationTime.end=this._io.pos},r})();return i})();return t})(),b=_.Extras=(function(){function t(s,e,d){this._io=s,this._parent=e,this._root=d,this._debug={},this._read()}return t.prototype._read=function(){for(this._debug.entries={start:this._io.pos,ioOffset:this._io.byteOffset},this._debug.entries.arr=[],this.entries=[];!this._io.isEof();)this._debug.entries.arr[this.entries.length]={start:this._io.pos,ioOffset:this._io.byteOffset},this.entries.push(new T(this._io,this,this._root)),this._debug.entries.arr[this.entries.length-1].end=this._io.pos;this._debug.entries.end=this._io.pos},t})(),D=_.LocalFile=(function(){function t(s,e,d){this._io=s,this._parent=e,this._root=d,this._debug={},this._read()}return t.prototype._read=function(){this._debug.header={start:this._io.pos,ioOffset:this._io.byteOffset},this.header=new C(this._io,this,this._root),this._debug.header.end=this._io.pos,this._debug.body={start:this._io.pos,ioOffset:this._io.byteOffset},this.body=this._io.readBytes(this.header.lenBodyCompressed),this._debug.body.end=this._io.pos},t})(),C=_.LocalFileHeader=(function(){function t(e,d,i){this._io=e,this._parent=d,this._root=i,this._debug={},this._read()}t.prototype._read=function(){this._debug.version={start:this._io.pos,ioOffset:this._io.byteOffset},this.version=this._io.readU2le(),this._debug.version.end=this._io.pos,this._debug.flags={start:this._io.pos,ioOffset:this._io.byteOffset},this._raw_flags=this._io.readBytes(2);var e=new o(this._raw_flags);this.flags=new s(e,this,this._root),this._debug.flags.end=this._io.pos,this._debug.compressionMethod={start:this._io.pos,ioOffset:this._io.byteOffset,enumName:"Zip.Compression"},this.compressionMethod=this._io.readU2le(),this._debug.compressionMethod.end=this._io.pos,this._debug.fileModTime={start:this._io.pos,ioOffset:this._io.byteOffset},this._raw_fileModTime=this._io.readBytes(4);var d=new o(this._raw_fileModTime);this.fileModTime=new c.DosDatetime(d,null,null),this._debug.fileModTime.end=this._io.pos,this._debug.crc32={start:this._io.pos,ioOffset:this._io.byteOffset},this.crc32=this._io.readU4le(),this._debug.crc32.end=this._io.pos,this._debug.lenBodyCompressed={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenBodyCompressed=this._io.readU4le(),this._debug.lenBodyCompressed.end=this._io.pos,this._debug.lenBodyUncompressed={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenBodyUncompressed=this._io.readU4le(),this._debug.lenBodyUncompressed.end=this._io.pos,this._debug.lenFileName={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenFileName=this._io.readU2le(),this._debug.lenFileName.end=this._io.pos,this._debug.lenExtra={start:this._io.pos,ioOffset:this._io.byteOffset},this.lenExtra=this._io.readU2le(),this._debug.lenExtra.end=this._io.pos,this._debug.fileName={start:this._io.pos,ioOffset:this._io.byteOffset},this.fileName=o.bytesToStr(this._io.readBytes(this.lenFileName),"UTF-8"),this._debug.fileName.end=this._io.pos,this._debug.extra={start:this._io.pos,ioOffset:this._io.byteOffset},this._raw_extra=this._io.readBytes(this.lenExtra);var i=new o(this._raw_extra);this.extra=new b(i,this,this._root),this._debug.extra.end=this._io.pos};var s=t.GpFlags=(function(){e.DeflateMode=Object.freeze({NORMAL:0,MAXIMUM:1,FAST:2,SUPER_FAST:3,0:"NORMAL",1:"MAXIMUM",2:"FAST",3:"SUPER_FAST"});function e(d,i,f){this._io=d,this._parent=i,this._root=f,this._debug={},this._read()}return e.prototype._read=function(){this._debug.fileEncrypted={start:this._io.pos,ioOffset:this._io.byteOffset},this.fileEncrypted=this._io.readBitsIntLe(1)!=0,this._debug.fileEncrypted.end=this._io.pos,this._debug.compOptionsRaw={start:this._io.pos,ioOffset:this._io.byteOffset},this.compOptionsRaw=this._io.readBitsIntLe(2),this._debug.compOptionsRaw.end=this._io.pos,this._debug.hasDataDescriptor={start:this._io.pos,ioOffset:this._io.byteOffset},this.hasDataDescriptor=this._io.readBitsIntLe(1)!=0,this._debug.hasDataDescriptor.end=this._io.pos,this._debug.reserved1={start:this._io.pos,ioOffset:this._io.byteOffset},this.reserved1=this._io.readBitsIntLe(1)!=0,this._debug.reserved1.end=this._io.pos,this._debug.compPatchedData={start:this._io.pos,ioOffset:this._io.byteOffset},this.compPatchedData=this._io.readBitsIntLe(1)!=0,this._debug.compPatchedData.end=this._io.pos,this._debug.strongEncrypt={start:this._io.pos,ioOffset:this._io.byteOffset},this.strongEncrypt=this._io.readBitsIntLe(1)!=0,this._debug.strongEncrypt.end=this._io.pos,this._debug.reserved2={start:this._io.pos,ioOffset:this._io.byteOffset},this.reserved2=this._io.readBitsIntLe(4),this._debug.reserved2.end=this._io.pos,this._debug.langEncoding={start:this._io.pos,ioOffset:this._io.byteOffset},this.langEncoding=this._io.readBitsIntLe(1)!=0,this._debug.langEncoding.end=this._io.pos,this._debug.reserved3={start:this._io.pos,ioOffset:this._io.byteOffset},this.reserved3=this._io.readBitsIntLe(1)!=0,this._debug.reserved3.end=this._io.pos,this._debug.maskHeaderValues={start:this._io.pos,ioOffset:this._io.byteOffset},this.maskHeaderValues=this._io.readBitsIntLe(1)!=0,this._debug.maskHeaderValues.end=this._io.pos,this._debug.reserved4={start:this._io.pos,ioOffset:this._io.byteOffset},this.reserved4=this._io.readBitsIntLe(2),this._debug.reserved4.end=this._io.pos},Object.defineProperty(e.prototype,"deflatedMode",{get:function(){return this._m_deflatedMode!==void 0?this._m_deflatedMode:((this._parent.compressionMethod==_.Compression.DEFLATED||this._parent.compressionMethod==_.Compression.ENHANCED_DEFLATED)&&(this._debug._m_deflatedMode={enumName:"Zip.LocalFileHeader.GpFlags.DeflateMode"},this._m_deflatedMode=this.compOptionsRaw),this._m_deflatedMode)}}),Object.defineProperty(e.prototype,"implodedDictByteSize",{get:function(){return this._m_implodedDictByteSize!==void 0?this._m_implodedDictByteSize:(this._parent.compressionMethod==_.Compression.IMPLODED&&(this._debug._m_implodedDictByteSize={},this._m_implodedDictByteSize=((this.compOptionsRaw&1)!=0?8:4)*1024),this._m_implodedDictByteSize)}}),Object.defineProperty(e.prototype,"implodedNumSfTrees",{get:function(){return this._m_implodedNumSfTrees!==void 0?this._m_implodedNumSfTrees:(this._parent.compressionMethod==_.Compression.IMPLODED&&(this._debug._m_implodedNumSfTrees={},this._m_implodedNumSfTrees=(this.compOptionsRaw&2)!=0?3:2),this._m_implodedNumSfTrees)}}),Object.defineProperty(e.prototype,"lzmaHasEosMarker",{get:function(){return this._m_lzmaHasEosMarker!==void 0?this._m_lzmaHasEosMarker:(this._parent.compressionMethod==_.Compression.LZMA&&(this._debug._m_lzmaHasEosMarker={},this._m_lzmaHasEosMarker=(this.compOptionsRaw&1)!=0),this._m_lzmaHasEosMarker)}}),e})();return t})(),m=_.PkSection=(function(){function t(s,e,d){this._io=s,this._parent=e,this._root=d,this._debug={},this._read()}return t.prototype._read=function(){if(this._debug.magic={start:this._io.pos,ioOffset:this._io.byteOffset},this.magic=this._io.readBytes(2),this._debug.magic.end=this._io.pos,o.byteArrayCompare(this.magic,new Uint8Array([80,75]))!=0){var s=new o.ValidationNotEqualError(new Uint8Array([80,75]),this.magic,this._io,"/types/pk_section/seq/0");throw this._debug.magic.validationError=s,s}switch(this._debug.sectionType={start:this._io.pos,ioOffset:this._io.byteOffset},this.sectionType=this._io.readU2le(),this._debug.sectionType.end=this._io.pos,this._debug.body={start:this._io.pos,ioOffset:this._io.byteOffset},this.sectionType){case 1027:this.body=new D(this._io,this,this._root);break;case 1541:this.body=new E(this._io,this,this._root);break;case 2055:this.body=new O(this._io,this,this._root);break;case 513:this.body=new g(this._io,this,this._root);break}this._debug.body.end=this._io.pos},t})();return _})();h.Zip=y})}});const A=U(),P={id:"zip",title:"ZIP archive file",ksy:{meta:{id:"zip",title:"ZIP archive file","file-extension":"zip",xref:{forensicswiki:"zip",iso:"21320-1",justsolve:"ZIP",loc:["fdd000354","fdd000355","fdd000362","fdd000361"],pronom:"x-fmt/263",wikidata:"Q136218"},license:"CC0-1.0","ks-version":.9,imports:["/common/dos_datetime"],endian:"le","bit-endian":"le"},doc:`ZIP is a popular archive file format, introduced in 1989 by Phil Katz
and originally implemented in PKZIP utility by PKWARE.

Thanks to solid support of it in most desktop environments and
operating systems, and algorithms / specs availability in public
domain, it quickly became tool of choice for implementing file
containers.

For example, Java .jar files, OpenDocument, Office Open XML, EPUB files
are actually ZIP archives.
`,"doc-ref":["https://pkware.cachefly.net/webdocs/casestudies/APPNOTE.TXT","https://users.cs.jmu.edu/buchhofp/forensics/formats/pkzip.html"],seq:[{id:"sections",type:"pk_section",repeat:"eos"}],types:{pk_section:{seq:[{id:"magic",contents:"PK"},{id:"section_type",type:"u2"},{id:"body",type:{"switch-on":"section_type",cases:{513:"central_dir_entry",1027:"local_file",1541:"end_of_central_dir",2055:"data_descriptor"}}}]},data_descriptor:{seq:[{id:"crc32",type:"u4"},{id:"len_body_compressed",type:"u4"},{id:"len_body_uncompressed",type:"u4"}]},local_file:{seq:[{id:"header",type:"local_file_header"},{id:"body",size:"header.len_body_compressed"}]},local_file_header:{seq:[{id:"version",type:"u2"},{id:"flags",type:"gp_flags",size:2},{id:"compression_method",type:"u2",enum:"compression"},{id:"file_mod_time",size:4,type:"dos_datetime"},{id:"crc32",type:"u4"},{id:"len_body_compressed",type:"u4"},{id:"len_body_uncompressed",type:"u4"},{id:"len_file_name",type:"u2"},{id:"len_extra",type:"u2"},{id:"file_name",type:"str",size:"len_file_name",encoding:"UTF-8"},{id:"extra",size:"len_extra",type:"extras"}],types:{gp_flags:{"-orig-id":"general purpose bit flag","doc-ref":["https://pkware.cachefly.net/webdocs/casestudies/APPNOTE.TXT - 4.4.4","https://users.cs.jmu.edu/buchhofp/forensics/formats/pkzip.html Local file headers"],seq:[{id:"file_encrypted",type:"b1"},{id:"comp_options_raw",type:"b2",doc:"internal; access derived value instances instead"},{id:"has_data_descriptor",type:"b1"},{id:"reserved_1",type:"b1"},{id:"comp_patched_data",type:"b1"},{id:"strong_encrypt",type:"b1"},{id:"reserved_2",type:"b4"},{id:"lang_encoding",type:"b1"},{id:"reserved_3",type:"b1"},{id:"mask_header_values",type:"b1"},{id:"reserved_4",type:"b2"}],instances:{deflated_mode:{value:"comp_options_raw",enum:"deflate_mode",if:`_parent.compression_method == compression::deflated
or _parent.compression_method == compression::enhanced_deflated
`},imploded_dict_byte_size:{value:"((comp_options_raw & 0b01) != 0 ? 8 : 4) * 1024",if:"_parent.compression_method == compression::imploded",doc:"8KiB or 4KiB in bytes"},imploded_num_sf_trees:{value:"(comp_options_raw & 0b10) != 0 ? 3 : 2",if:"_parent.compression_method == compression::imploded"},lzma_has_eos_marker:{value:"(comp_options_raw & 0b01) != 0",if:"_parent.compression_method == compression::lzma"}},enums:{deflate_mode:{0:"normal",1:"maximum",2:"fast",3:"super_fast"}}}}},central_dir_entry:{"doc-ref":"https://pkware.cachefly.net/webdocs/casestudies/APPNOTE.TXT - 4.3.12",seq:[{id:"version_made_by",type:"u2"},{id:"version_needed_to_extract",type:"u2"},{id:"flags",type:"u2"},{id:"compression_method",type:"u2",enum:"compression"},{id:"file_mod_time",size:4,type:"dos_datetime"},{id:"crc32",type:"u4"},{id:"len_body_compressed",type:"u4"},{id:"len_body_uncompressed",type:"u4"},{id:"len_file_name",type:"u2"},{id:"len_extra",type:"u2"},{id:"len_comment",type:"u2"},{id:"disk_number_start",type:"u2"},{id:"int_file_attr",type:"u2"},{id:"ext_file_attr",type:"u4"},{id:"ofs_local_header",type:"s4"},{id:"file_name",type:"str",size:"len_file_name",encoding:"UTF-8"},{id:"extra",size:"len_extra",type:"extras"},{id:"comment",type:"str",size:"len_comment",encoding:"UTF-8"}],instances:{local_header:{pos:"ofs_local_header",type:"pk_section"}}},end_of_central_dir:{seq:[{id:"disk_of_end_of_central_dir",type:"u2"},{id:"disk_of_central_dir",type:"u2"},{id:"num_central_dir_entries_on_disk",type:"u2"},{id:"num_central_dir_entries_total",type:"u2"},{id:"len_central_dir",type:"u4"},{id:"ofs_central_dir",type:"u4"},{id:"len_comment",type:"u2"},{id:"comment",type:"str",size:"len_comment",encoding:"UTF-8"}]},extras:{seq:[{id:"entries",type:"extra_field",repeat:"eos"}]},extra_field:{seq:[{id:"code",type:"u2",enum:"extra_codes"},{id:"len_body",type:"u2"},{id:"body",size:"len_body",type:{"switch-on":"code",cases:{"extra_codes::ntfs":"ntfs","extra_codes::extended_timestamp":"extended_timestamp","extra_codes::infozip_unix_var_size":"infozip_unix_var_size"}}}],types:{ntfs:{"doc-ref":"https://github.com/LuaDist/zip/blob/b710806/proginfo/extrafld.txt#L191",seq:[{id:"reserved",type:"u4"},{id:"attributes",type:"attribute",repeat:"eos"}],types:{attribute:{seq:[{id:"tag",type:"u2"},{id:"len_body",type:"u2"},{id:"body",size:"len_body",type:{"switch-on":"tag",cases:{1:"attribute_1"}}}]},attribute_1:{seq:[{id:"last_mod_time",type:"u8"},{id:"last_access_time",type:"u8"},{id:"creation_time",type:"u8"}]}}},extended_timestamp:{"doc-ref":"https://github.com/LuaDist/zip/blob/b710806/proginfo/extrafld.txt#L817",seq:[{id:"flags",size:1,type:"info_flags"},{id:"mod_time",type:"u4",if:"flags.has_mod_time",doc:"Unix timestamp"},{id:"access_time",type:"u4",if:"flags.has_access_time",doc:"Unix timestamp"},{id:"create_time",type:"u4",if:"flags.has_create_time",doc:"Unix timestamp"}],types:{info_flags:{seq:[{id:"has_mod_time",type:"b1"},{id:"has_access_time",type:"b1"},{id:"has_create_time",type:"b1"},{id:"reserved",type:"b5"}]}}},infozip_unix_var_size:{"doc-ref":"https://github.com/LuaDist/zip/blob/b710806/proginfo/extrafld.txt#L1339",seq:[{id:"version",type:"u1",doc:"Version of this extra field, currently 1"},{id:"len_uid",type:"u1",doc:"Size of UID field"},{id:"uid",size:"len_uid",doc:"UID (User ID) for a file"},{id:"len_gid",type:"u1",doc:"Size of GID field"},{id:"gid",size:"len_gid",doc:"GID (Group ID) for a file"}]}}}},enums:{compression:{0:"none",1:"shrunk",2:"reduced_1",3:"reduced_2",4:"reduced_3",5:"reduced_4",6:"imploded",8:"deflated",9:"enhanced_deflated",10:"pkware_dcl_imploded",12:"bzip2",14:"lzma",18:"ibm_terse",19:"ibm_lz77_z",93:"zstandard",94:"mp3",95:"xz",96:"jpeg",97:"wavpack",98:"ppmd",99:"aex_encryption_marker"},extra_codes:{1:"zip64",7:"av_info",9:"os2",10:"ntfs",12:"openvms",13:"pkware_unix",14:"file_stream_and_fork_descriptors",15:"patch_descriptor",20:"pkcs7",21:"x509_cert_id_and_signature_for_file",22:"x509_cert_id_for_central_dir",23:"strong_encryption_header",24:"record_management_controls",25:"pkcs7_enc_recip_cert_list",101:"ibm_s390_uncomp",102:"ibm_s390_comp",18064:"poszip_4690",21589:"extended_timestamp",25922:"beos",30062:"asi_unix",30805:"infozip_unix",30837:"infozip_unix_var_size",39169:"aex_encryption",41246:"apache_commons_compress",41504:"microsoft_open_packaging_growth_hint",64842:"sms_qdos"}}}};export{A as default,P as spec};
